/*
 Kiosked Ltd. 2014 - All rights reserved.
 @license Commercial
 @namespace ITGS
 @name ITGS
 @public
 @type {{}}
 LGPL v3
*/
(function(){(function(){var m=window.ITGS=window.ITGS||{};m.Bootstrap=m.Bootstrap||{};m.startLibraryTime=Number((new Date).getTime())})();var I=null;(function(){ITGS.UnloadManager=ITGS.UnloadManager||function(){var m=this;this._regularDestructors=[];this._priorityShutdownHandlers=[];this._beforeUnloadHandler=function(){m.shutdown()};window.addEventListener("beforeunload",this._beforeUnloadHandler,!1)};ITGS.UnloadManager.prototype.destroy=function(){window.removeEventListener("beforeunload",this._beforeUnloadHandler,
!1)};ITGS.UnloadManager.prototype.registerShutdownHandler=function(m,p){p&&p!==ITGS.UnloadManager.PRIORITY_LOW?this._priorityShutdownHandlers.push(m):this._regularDestructors.push(m)};ITGS.UnloadManager.prototype.shutdown=function(){for(var m=this._priorityShutdownHandlers.concat(this._regularDestructors),p=m.length,k=0;k<p;k+=1)try{m[k]()}catch(a){console.warn("(Kiosked) Failed executing destructor: ",m[k])}this._regularDestructors=[];this._priorityShutdownHandlers=[]};ITGS.UnloadManager.PRIORITY_HIGH=
100;ITGS.UnloadManager.PRIORITY_LOW=110})();ITGS.unloadManager=ITGS.unloadManager||new ITGS.UnloadManager;var D=ITGS.tools=ITGS.tools||{};ITGS.tools.debug=ITGS.tools.debug||function(){function m(k,a){if((!D.environment||"production"!==D.environment.getContext())&&window.console&&window.console[k]){try{console[k].apply(console,a)}catch(p){console[k](a.join(" "))}return!0}return!1}function p(k,a){return D.formatting&&D.formatting.zeroPad?D.formatting.zeroPad(k,a):k}return{error:function(){var k=D.debug.getLogPrefix();
if(0<arguments.length){var a=Array.prototype.slice.call(arguments,0);a.unshift(k);return m.call(this,"error",a)}return!1},getLogPrefix:function(){var k=new Date;return"[Kiosked] ("+k.getFullYear()+"-"+p(k.getMonth()+1,2)+"-"+p(k.getDate(),2)+" "+p(k.getHours(),2)+":"+p(k.getMinutes(),2)+":"+p(k.getSeconds(),2)+")"},log:function(){var k=D.debug.getLogPrefix();if(0<arguments.length){var a=Array.prototype.slice.call(arguments,0);a.unshift(k);return m.call(this,"log",a)}return!1},warn:function(){var k=
D.debug.getLogPrefix();if(0<arguments.length){var a=Array.prototype.slice.call(arguments,0);a.unshift(k);return m.call(this,"warn",a)}return!1}}}();ITGS.tools.encoding=ITGS.tools.encoding||function(){return{base64_decode:function(m){var p="",k,a,v,n,w,c=0;for(m=m.replace(/[^A-Za-z0-9\+\/\=]/g,"");c<m.length;)k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(m.charAt(c)),c+=1,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(m.charAt(c)),c+=1,
n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(m.charAt(c)),c+=1,w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(m.charAt(c)),c+=1,k=k<<2|a>>4,a=(a&15)<<4|n>>2,v=(n&3)<<6|w,p+=String.fromCharCode(k),64!==n&&(p+=String.fromCharCode(a)),64!==w&&(p+=String.fromCharCode(v));return p=ITGS.tools.encoding.utf8_decode(p)},base64_encode:function(m){var p="",k,a,v,n,w,c,b=0;for(m=ITGS.tools.encoding.utf8_encode(m);b<m.length;)k=m.charCodeAt(b),b+=
1,a=m.charCodeAt(b),b+=1,v=m.charCodeAt(b),b+=1,n=k>>2,k=(k&3)<<4|a>>4,w=(a&15)<<2|v>>6,c=v&63,isNaN(a)?w=c=64:isNaN(v)&&(c=64),p=p+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(n)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(k)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(w)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(c);return p},formURLStringFromParameters:function(m,p){p=p||
[];if("object"===typeof m){var k="",a=function(a,d,e){0<e.length&&(e+="&");d=m[a];0<=p.indexOf("ENCODE_KEY")&&(a=encodeURIComponent(a));0<=p.indexOf("ENCODE_VALUE")&&(d=encodeURIComponent(d));return e+(a+"="+d)};if(0<=p.indexOf("ALPHABETIZE")){var v=[],n;for(n in m)m.hasOwnProperty(n)&&v.push(n);v.sort();n=v.length;if(0<n)for(var w=0;w<n;w+=1)var c=v[w],k=a(c,m[c],k)}else for(v in m)m.hasOwnProperty(v)&&(k=a(v,m[v],k));return k}return""},utf8_decode:function(m){for(var p="",k=0,a=0,v=0,n=0;k<m.length;)a=
m.charCodeAt(k),128>a?(p+=String.fromCharCode(a),k+=1):191<a&&224>a?(v=m.charCodeAt(k+1),p+=String.fromCharCode((a&31)<<6|v&63),k+=2):(v=m.charCodeAt(k+1),n=m.charCodeAt(k+2),p+=String.fromCharCode((a&15)<<12|(v&63)<<6|n&63),k+=3);return p},utf8_encode:function(m){m=m.replace(/\r\n/g,"\n");for(var p="",k=0;k<m.length;k+=1){var a=m.charCodeAt(k);128>a?p+=String.fromCharCode(a):(127<a&&2048>a?p+=String.fromCharCode(a>>6|192):(p+=String.fromCharCode(a>>12|224),p+=String.fromCharCode(a>>6&63|128)),p+=
String.fromCharCode(a&63|128))}return p}}}();(function(m){function p(a,b){return Object.prototype.hasOwnProperty.call(a,b)?a[b]:m}function k(a){v=!0;a=new a;v=!1;return a}var a=this,v=!1;if(a.KskdClass)console.log("(Kiosked) Classy already exists, leaving");else{var n=0<function(){$super()}.toString().indexOf("$super"),w=function(){};w.$classyVersion="1.4";w.extend=function(c){var b=this.prototype,d=k(this);if(c.__include__)for(var e=0,f=c.__include__.length;e!==f;e+=1){var g=c.__include__[e],h;for(h in g)p(g,
h)!==m&&(d[h]=g[h])}c.__classvars__=c.__classvars__||{};if(d.__classvars__)for(var l in d.__classvars__)c.__classvars__[l]||(e=p(d.__classvars__,l),c.__classvars__[l]=e);for(var q in c)l=p(c,q),"__include__"!==q&&l!==m&&(d[q]="function"!==typeof l||n&&!/\B\$super\b/.test(l.toString())?l:function(a,d){return function(){var e=p(this,"$super");this.$super=b[d];try{return a.apply(this,arguments)}finally{e===m?delete this.$super:this.$super=e}}}(l,q));var r=function(){if(v)return null;var b=a===this?k(arguments.callee):
this;b.construct&&b.construct.apply(b,arguments);b.$class=r;return b},u;for(u in c.__classvars__)q=p(c.__classvars__,u),q!==m&&(r[u]=q);r.prototype=d;r.constructor=r;r.extend=w.extend;r.$withData=w.$withData;return r};w.$withData=function(a){var b=k(this),d;for(d in a){var e=p(a,d);e!==m&&(b[d]=e)}return b};a.KskdClass=w}})();ITGS.Bootstrap.LoaderObject=ITGS.Bootstrap.LoaderObject||KskdClass.extend(function(){return{construct:function(){},destroy:function(){}}}());(function(){ITGS.Bootstrap.tools=
ITGS.Bootstrap.tools||{enforceCaller:function(m,p,k){k=k&&0<k.length?k:"Invalid caller - unexpected context";if(!(m instanceof p))throw Error("(Kiosked-Loader) "+k);},isArray:function(m){return"[object Array]"===Object.prototype.toString.call(m)},isWithinEnum:function(m,p){for(var k in p)if(p.hasOwnProperty(k)&&m===p[k])return!0;return!1}}})();ITGS.Bootstrap.tools.encoding=ITGS.Bootstrap.tools.encoding||function(){var m=/\?[-_a-zA-Z0-9=&.+|~"{}^\[\]%;]+/;return{getOldFormatURLDetails:function(p){var k=
!1,a=!1,m="development";p=p.toLowerCase();for(var n=p.split("/"),w=0,c=n.length;w<c;w+=1)"albumid"===n[w]?k=parseInt(n[w+1],10):"co"===n[w]&&(a=parseInt(n[w+1],10));0<=p.indexOf("kiosked.com")?m="production":0<=p.indexOf("intags.com")&&(m="staging");return{pub:a,site:k,env:m}},getQueryParameters:function(p){p=ITGS.Bootstrap.tools.encoding.getQueryString(p);p=p.replace("&amp;","__AMPERSAND_PLACEHOLDER__");p=p.split("&");var k={};if(0<p.length)for(var a=0;a<p.length;a+=1){var m=p[a].replace("__AMPERSAND_PLACEHOLDER__",
"&amp;").split("=");2===m.length&&(k[m[0]]=m[1])}return k},getQueryString:function(p){return ITGS.Bootstrap.tools.encoding.matchRegularExpression(p,m).substring(1)},matchRegularExpression:function(m,k){var a=m.match(k);return a?ITGS.Bootstrap.tools.isArray(a)?a[0]:a:""}}}();ITGS.Bootstrap.tools.dom=ITGS.Bootstrap.tools.dom||function(){return{getAllElementsOfType:function(m){return Array.prototype.slice.call(document.getElementsByTagName(m))},getElementsWithAttributes:function(m,p){return ITGS.Bootstrap.tools.dom.getAllElementsOfType(m).filter(function(k){for(var a in p)if(p.hasOwnProperty(a)){var m=
0>=p[a].length;if(m&&!k.hasAttribute(a)||!m&&k.getAttribute(a)!==p[a])return!1}return!0})},getPageUrl:function(){return document.URL+""},getTimestampInSeconds:function(m){m=m||Date.now();return Math.floor(m/1E3)}}}();ITGS.Bootstrap.StorageState=ITGS.Bootstrap.StorageState||{STATE_READY:100,STATE_LOADING:110,STATE_DESTROY:120};ITGS.Bootstrap.StorageType=ITGS.Bootstrap.StorageType||{TYPE_LOCAL_SITE:200,TYPE_SINGLE_SESSION:210};ITGS.Bootstrap.StorageAdapterAbstract=ITGS.Bootstrap.StorageAdapterAbstract||
ITGS.Bootstrap.LoaderObject.extend(function(){return{construct:function(){this.$super();this._state=ITGS.Bootstrap.StorageState.STATE_LOADING;var m;try{m="localStorage"in window&&null!==window.localStorage}catch(p){m=!1}this._hasLocalStorage=m},clearStorage:function(){},getItem:function(m,p){setTimeout(function(){p(m,!1)},1)},getState:function(){return this._state},isReady:function(){return this.getState()===ITGS.Bootstrap.StorageState.STATE_READY},onReady:function(m){},removeItem:function(m){},setItem:function(m,
p){},setState:function(m){if(!ITGS.Bootstrap.tools.isWithinEnum(m,ITGS.Bootstrap.StorageState))throw Error("Invalid storage state: "+m);this._state=m},supportsLocalStorage:function(){return!0===this._hasLocalStorage}}}());ITGS.Bootstrap.StorageAdapterLocalSite=ITGS.Bootstrap.StorageAdapterLocalSite||ITGS.Bootstrap.StorageAdapterAbstract.extend(function(){function m(m){ITGS.Bootstrap.tools.enforceCaller(this,ITGS.Bootstrap.StorageAdapterLocalSite,"Expected caller to be instance of StorageAdapterLocalSite");
var k=m.key||"",a=m.value||"";switch(m.command||""){case "clear":window.localStorage.clear();break;case "set":window.localStorage.setItem(k,a);break;case "get":return(m=window.localStorage.getItem(k))?m:!1;case "remove":window.localStorage.removeItem(k)}return!1}return{construct:function(){this.$super();this.setState(ITGS.Bootstrap.StorageState.STATE_READY)},destroy:function(){this.$super()},clearStorage:function(){var p=this;this.onReady(function(){m.call(p,{command:"clear"})})},getItem:function(p,
k){var a=this;setTimeout(function(){a.onReady(function(){k(p,m.call(a,{command:"get",key:p}))})},1)},onReady:function(m){if(this.isReady())m();else var k=this,a=setInterval(function(){k.isReady()&&(clearInterval(a),m())},80)},removeItem:function(p){var k=this;this.onReady(function(){m.call(k,{command:"remove",key:p})})},setItem:function(p,k){var a=this;this.onReady(function(){m.call(a,{command:"set",key:p,value:k})})}}}());ITGS.Bootstrap.StorageAdapterSingleSession=ITGS.Bootstrap.StorageAdapterSingleSession||
ITGS.Bootstrap.StorageAdapterAbstract.extend(function(){function m(){ITGS.Bootstrap.tools.enforceCaller(this,ITGS.Bootstrap.StorageAdapterSingleSession,"Expected caller to be instance of StorageAdapterSingleSession");var k=this;this._windowPostMessageEventCallback=function(a){var m=a.data;m&&0===m.indexOf("kiosked_localstorage_response:")&&k.storageMessageReceived(a)};window.attachEvent?window.attachEvent("onmessage",this._windowPostMessageEventCallback):window.addEventListener("message",this._windowPostMessageEventCallback,
!1)}function p(){ITGS.Bootstrap.tools.enforceCaller(this,ITGS.Bootstrap.StorageAdapterSingleSession,"Expected caller to be instance of StorageAdapterSingleSession");var k=this,a=function(){var a=k._iframeReadyCallbacks.length;if(0<a)for(var n=0;n<a;n+=1)k._iframeReadyCallbacks[n]()};I?this._iframeCheckInterval||(this._iframeCheckInterval=setInterval(function(){"ready"===I.getAttribute("kiosked_session_frame")&&(clearInterval(k._iframeCheckInterval),k.setState(ITGS.Bootstrap.StorageState.STATE_READY),
a())},80)):(I=document.createElement("iframe"),function(m){m.style.visibility="hidden";m.style.display="none";m.onload=function(){k.setState(ITGS.Bootstrap.StorageState.STATE_READY);a();k._iframeReadyCallbacks=[];this.setAttribute("kiosked_session_frame","ready")};m.src="http://resources.kiosked.com/scripts/client-session.html";document.body.appendChild(m)}(I))}return{construct:function(){this.$super();this._iframeReadyCallbacks=[];this._windowPostMessageEventCallback=null;this._getRequestCallbacks=
{};this._iframeCheckInterval=null;m.call(this);p.call(this)},destroy:function(k){this.setState(ITGS.Bootstrap.StorageState.STATE_DESTROY);this._windowPostMessageEventCallback&&(window.removeEventListener("message",this._windowPostMessageEventCallback),this._windowPostMessageEventCallback=null);this._iframeReadyCallbacks=[];this._getRequestCallbacks={};this._iframeCheckInterval&&clearInterval(this._iframeCheckInterval);k&&I&&(I.parentNode.removeChild(I),I=null);this.$super()},clearStorage:function(){var k=
this;this.onReady(function(){k.sendStorageRequest("clear")})},getItem:function(k,a){this._getRequestCallbacks.hasOwnProperty(k)||(this._getRequestCallbacks[k]=[]);this._getRequestCallbacks[k].push(a);var m=this;this.onReady(function(){m.sendStorageRequest("get",k)})},onReady:function(k){this.isReady()?k():(this._iframeReadyCallbacks.push(k),p.call(this))},sendStorageRequest:function(k,a,m){this.isReady()?(m=m||"",a=a||"",k=k.replace("|",""),a=a.replace("|",""),m=m.replace("|",""),I.contentWindow.postMessage("kiosked_localstorage_request:"+
k+"|"+a+"|"+m,"*")):D.debug.error("/StorageAdapterSingleSession/","IFrame not ready for postMessage requests")},setItem:function(k,a){var m=this;this.onReady(function(){m.sendStorageRequest("set",k,a)})},storageMessageReceived:function(k){var a=k.data;k=!1;try{a=a.replace("kiosked_localstorage_response:",""),k=JSON.parse(a)}catch(m){D.debug.error("/StorageAdapterSingleSession/","Failed parsing JSON",a,m)}if(k)if(D.debug.log("/StorageAdapterSingleSession/","Storage response:",k),k.request&&"get"===
k.request){if(a=this._getRequestCallbacks[k.key],delete this._getRequestCallbacks[k.key],a){var n=a.length;if(0<n)for(var p=0;p<n;p+=1)a[p](k.key,k.value)}}else D.debug.error("/StorageAdapterSingleSession/","Unrecognised response type:",k.request,k)}}}());ITGS.Bootstrap.StorageManager=ITGS.Bootstrap.StorageManager||ITGS.Bootstrap.LoaderObject.extend(function(){return{construct:function(m){this.$super();if(!ITGS.Bootstrap.tools.isWithinEnum(m,ITGS.Bootstrap.StorageType))throw Error("Invalid storage type: "+
m);m=m===ITGS.Bootstrap.StorageType.TYPE_SINGLE_SESSION?new ITGS.Bootstrap.StorageAdapterSingleSession:new ITGS.Bootstrap.StorageAdapterLocalSite;this._adapter=m},destroy:function(){this._adapter.destroy();this._adapter=null;this.$super()},clearStorage:function(){this.getAdapter().clearStorage()},getAdapter:function(){return this._adapter},getItem:function(m,p){this.getAdapter().getItem(m,function(k,a){p(k,a)})},isReady:function(){return this.getAdapter().isReady()},onReady:function(m){this.getAdapter().onReady(m)},
removeItem:function(m){this.getAdapter().removeItem(m)},setItem:function(m,p){this.getAdapter().setItem(m,p)}}}());ITGS.storage=ITGS.storage||{};ITGS.storage.localSite=new ITGS.Bootstrap.StorageManager(ITGS.Bootstrap.StorageType.TYPE_LOCAL_SITE);ITGS.Bootstrap.EndpointLoadHandler=ITGS.Bootstrap.EndpointLoadHandler||ITGS.Bootstrap.LoaderObject.extend(function(){return{construct:function(){this.$super();this._loadingCachedScript={};this._loadedCachedScript={}},getBakeKey:function(){return"bake_version"},
getCachedBakeVersion:function(m){ITGS.storage.localSite.getItem(this.getBakeKey(),function(p,k){m(k)})},setCachedBakeVersion:function(m){ITGS.storage.localSite.setItem(this.getBakeKey(),""+m)}}}());ITGS.Bootstrap.loadHandler=new ITGS.Bootstrap.EndpointLoadHandler;ITGS.Bootstrap.Script=ITGS.Bootstrap.Script||ITGS.Bootstrap.LoaderObject.extend(function(){return{construct:function(m,p){this.$super();p=p||{};this._element=m;this._fromCache=p.hasOwnProperty("fromCache")?p.fromCache:!1},destroy:function(){this.$super()},
getElement:function(){return this._element},getSource:function(){return this._element.getAttribute("src")},getQueryParameters:function(){var m=this.getSource();return ITGS.Bootstrap.tools.encoding.getQueryParameters(m)},isFromCache:function(){return this._fromCache}}}());(function(){ITGS.Bootstrap._bakedLibrary=function(){(function(){var k=function(a,b){this.name="KioskedException";this.message="[Kiosked] "+a;this.stack=Error().stack;this.meta=b||{}};k.prototype=Object.create(Error.prototype);k.prototype.constructor=
k;(function(a){function b(b,d){return Object.prototype.hasOwnProperty.call(b,d)?b[d]:a}function d(a){f=!0;a=new a;f=!1;return a}var e=this,f=!1;if(e.KskdClass)console.log("(Kiosked) Classy already exists, leaving");else{var g=0<function(){$super()}.toString().indexOf("$super"),h=function(){};h.$classyVersion="1.4";h.extend=function(l){var q=this.prototype,r=d(this);if(l.__include__)for(var u=0,n=l.__include__.length;u!==n;u+=1){var m=l.__include__[u],s;for(s in m)b(m,s)!==a&&(r[s]=m[s])}l.__classvars__=
l.__classvars__||{};if(r.__classvars__)for(var x in r.__classvars__)l.__classvars__[x]||(u=b(r.__classvars__,x),l.__classvars__[x]=u);for(var y in l)x=b(l,y),"__include__"!==y&&x!==a&&(r[y]="function"!==typeof x||g&&!/\B\$super\b/.test(x.toString())?x:function(d,e){return function(){var f=b(this,"$super");this.$super=q[e];try{return d.apply(this,arguments)}finally{f===a?delete this.$super:this.$super=f}}}(x,y));var k=function(){if(f)return null;var a=e===this?d(arguments.callee):this;a.construct&&
a.construct.apply(a,arguments);a.$class=k;return a},p;for(p in l.__classvars__)y=b(l.__classvars__,p),y!==a&&(k[p]=y);k.prototype=r;k.constructor=k;k.extend=h.extend;k.$withData=h.$withData;return k};h.$withData=function(e){var f=d(this),g;for(g in e){var h=b(e,g);h!==a&&(f[g]=h)}return f};e.KskdClass=h}})();var a=window.ITGS=window.ITGS||{};a.Includes=a.Includes||{};a.Plugins=a.Plugins||{};a.Facades=a.Facades||{};a.Analyzers=a.Analyzers||{};a.AdProviders=a.AdProviders||{};a.MessageHandlers=a.MessageHandlers||
{};a.MessageSources=a.MessageSources||{};a.Sniffing=a.Sniffing||{};a.External=a.External||{};a.overrideFunctions=a.overrideFunctions||{};a.destructors={};a.eventCallbacks=a.eventCallbacks||[];(function(){a.UnloadManager=a.UnloadManager||function(){var a=this;this._regularDestructors=[];this._priorityShutdownHandlers=[];this._beforeUnloadHandler=function(){a.shutdown()};window.addEventListener("beforeunload",this._beforeUnloadHandler,!1)};a.UnloadManager.prototype.destroy=function(){window.removeEventListener("beforeunload",
this._beforeUnloadHandler,!1)};a.UnloadManager.prototype.registerShutdownHandler=function(c,b){b&&b!==a.UnloadManager.PRIORITY_LOW?this._priorityShutdownHandlers.push(c):this._regularDestructors.push(c)};a.UnloadManager.prototype.shutdown=function(){for(var a=this._priorityShutdownHandlers.concat(this._regularDestructors),b=a.length,d=0;d<b;d+=1)try{a[d]()}catch(e){console.warn("(Kiosked) Failed executing destructor: ",a[d])}this._regularDestructors=[];this._priorityShutdownHandlers=[]};a.UnloadManager.PRIORITY_HIGH=
100;a.UnloadManager.PRIORITY_LOW=110})();var m=function(){return{domainName:null,designs:{},kskdCls:"body {ID}.kskdCls, body {ID}.kskdCls .kskdDiv, body {ID}.kskdCls .kskdDiv img, body {ID}.kskdCls .kskdDiv div, body {ID}.kskdCls .kskdDiv span, .kskdDiv.kskdFixedBannerContainer,body {ID}.kskdCls:hover, body {ID}.kskdCls *:hover,.kskdDiv.kskdFixedBannerContainer .kskdDiv:hover,body {ID}.kskdCls.kskdDiv .kskdDiv {display: block;float: none;opacity: 1;position: static;overflow: visible;width:auto;left:auto;right:auto;letter-spacing: normal;white-space: normal;top:auto;bottom:auto;height:auto;min-height:0;max-height:none;min-width:0;max-width:none;clear: none;margin: 0px;padding: 0px;border: 0px;font-size: 12px;line-height: 1.2;text-align: left;text-transform: none;color: #6d6c71;font-family: Arial, Helvetica, sans-serif;font-style: normal;vertical-align: baseline;background: transparent;box-sizing: content-box;-moz-box-sizing: content-box;-webkit-box-sizing: content-box;filter: none;} body {ID}.kskdCls.kskdDiv .kskdDiv a *:not(.kskdDiv) {display: none !important;} @media print {   .kskdCls, .kskdCls * {       display: none !important;   }}",
MediaContainer:{position:"absolute",top:"0px",left:"0px",right:"0px",bottom:"0px",display:"inline-block",pointerEvents:"none",overflow:"hidden",WebkitTouchCallout:"none",WebkitUserSelect:"none",KhtmlUserSelect:"none",MozUserSelect:"none","-ms-user-select":"none",userSelect:"none"},ImageContainer:{position:"absolute",pointerEvents:"none",overflow:"hidden"},PluginContainer:{position:"absolute",pointerEvents:"all",zIndex:2,WebkitTouchCallout:"none",WebkitUserSelect:"none",KhtmlUserSelect:"none",MozUserSelect:"none",
"-ms-user-select":"none",userSelect:"none"},OverlayContainer:{position:"absolute",pointerEvents:"all",WebkitTouchCallout:"none",WebkitUserSelect:"none",KhtmlUserSelect:"none",MozUserSelect:"none","-ms-user-select":"none",userSelect:"none"},OverlayTag:{width:"20px",height:"20px"},LB:{bottom:"0px",left:"0px"},LT:{top:"0px",left:"0px"},RT:{top:"0px",right:"0px"},RB:{bottom:"0px",right:"0px"},addCssStyle:function(a,b){for(var d=!1,e=document.head||document.getElementsByTagName("head")[0],f=e.getElementsByTagName("style"),
g=f.length,h=0;h<g;h+=1)f[h].getAttribute("kiosked")===b&&(d=!0);d||(d=document.createElement("style"),d.setAttribute("type","text/css"),d.setAttribute("kiosked",b),d.styleSheet?d.styleSheet.cssText=a:d.appendChild(document.createTextNode(a)),e.appendChild(d))},addCssStyleClass:function(a,b,d){this.hasOwnProperty(a)&&(a=this[a].replace(/{ID}/g,"#kskd"+d),this.addCssStyle(a,b,d))},getDesign:function(a){return this.designs[a]},style:function(a,b){for(var d in b)if(b.hasOwnProperty(d)){var e="[object Array]"===
Object.prototype.toString.call(b[d])?b[d]:[b[d]],f;for(f in e)if(a&&"style"in a&&d in a.style)try{a.style[d]=e[f]}catch(g){a.setAttribute("style",e[f])}}},setStyle:function(a,b,d){d?this.style(a,this.designs[d].getDesignStyle(b)):this.style(a,this[b])},getStyle:function(a,b){var d,e=null;d=document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(a,""):a.currentStyle?a.currentStyle:a.style;if(d[b]&&"none"!==d[b])e=d[b];else{var f=b.slice(0,1).toUpperCase()+
b.slice(1);d["Webkit"+f]?e=d["Webkit"+f]:d["Ms"+f]?e=d["Ms"+f]:d["Moz"+f]?e=d["Moz"+f]:d["O"+f]&&(e=d["O"+f])}return e},getDesignStyle:function(a,b){return this.designs[a].getDesignStyle(b)},imageMetaForImage:function(c){c=c.split("/");var b=c[0]+"Metafile",d=c[0]+"2xMetafile",e=c[1],f=c[1].replace(".png","@2x.png");if(1.5<n.getDevicePixelRatio()&&n.isset(a[d])&&n.isset(a[d].images[f]))return{spriteImageUrl:c[0]+"@2x",meta:a[d].images[f]};if(n.isset(a[b])&&n.isset(a[b].images[e]))return{spriteImageUrl:c[0],
meta:a[b].images[e]}},xPos:function(a){return-this.imageMetaForImage(a).meta.positionX},yPos:function(a){return-this.imageMetaForImage(a).meta.positionY},width:function(a){return this.imageMetaForImage(a).meta.width},height:function(a){return this.imageMetaForImage(a).meta.height},parseSpriteOffsetsFromStyleSet:function(a){a=a.backgroundPosition.split(" ");return 0===a.length?null:{x:parseInt(a[0],10),y:parseInt(1<a.length?a[1]:a[0],10)}},parseSpriteOffsetsFromStylesClass:function(a){return this[a]?
this.parseSpriteOffsetsFromStyleSet(this[a]):null},parseSpriteOffsetsFromDesignClass:function(a,b){var d=this.getDesignStyle(a,b);return void 0===d||0===d.length?null:this.parseSpriteOffsetsFromStyleSet(d)}}}();a.tools=function(){function c(a){var b=new XMLHttpRequest;b.onreadystatechange=function(){4===b.readyState&&(200===b.status?a.load&&a.load(JSON.parse(b.responseText)):a.error&&a.error())};b.open("POST",a.url,!0);b.withCredentials=!0;b.setRequestHeader("Content-type","application/x-www-form-urlencoded");
b.send(a.content?"json="+encodeURIComponent(JSON.stringify(a.content)):null)}function b(a){var b=new XDomainRequest;b.open("POST",a.url,!0);b.onload=function(){a.load&&a.load(JSON.parse(b.responseText))};b.onerror=function(){a.error&&a.error()};b.onprogress=function(){};b.ontimeout=function(){};b.send(a.content?"json="+encodeURIComponent(JSON.stringify(a.content)):"")}return{forceJSONP:!1,animations:[],easingFunctions:{backInCubic:function(a,b,f,c){c=(a/=c)*a;return b+f*(4*c*a+-3*c)},backInQuartic:function(a,
b,f,c){c=(a/=c)*a;return b+f*(2*c*c+2*c*a+-3*c)},inOutQuintic:function(a,b,c,g){g=(a/=g)*a;a*=g;return b+c*(6*a*g+-15*g*g+10*a)},linear:function(a,b,c,g){return b+a/g*(c-b)},outElastic:function(a,b,c,g){g=(a/=g)*a;var h=g*a;return b+c*(56*h*g+-175*g*g+200*h+-100*g+20*a)},outQuartic:function(a,b,c,g){g=(a/=g)*a;return b+c*(-1*g*g+4*g*a+-6*g+4*a)},outQuintic:function(a,b,c,g){g=(a/=g)*a;var h=g*a;return b+c*(h*g+-5*g*g+10*h+-10*g+5*a)}},addAttributes:function(a,b){for(var c in b)if(b.hasOwnProperty(c))try{a[c]=
b[c]}catch(g){}},addClass:function(a,b){this.hasClass(a,b)||(a.className+=" "+b)},addCSSRule:function(a,b,c,g){"insertRule"in a?a.insertRule(b+"{"+c+"}",g):"addRule"in a&&a.addRule(b,c,g)},addPoints:function(a,b){return{x:a.x+b.x,y:a.y+b.y}},_getValues:function(a,b){var c={},g=window.getComputedStyle(a),h;for(h in b)b.hasOwnProperty(h)&&(c[h]=parseFloat(a.style[h]||g.getPropertyValue(h)),c[h]=c[h]?c[h]:0);return c},_getUnits:function(a){var b={},c;for(c in a)if(a.hasOwnProperty(c)){var g=a[c].toString().match(/[A-Za-z%]+/g);
b[c]={value:parseFloat(a[c].toString().match(/-?[0-9\.]+/)),unit:null!==g?g[0]:null}}return b},animate:function(b,e){var c=Date.now(),g=e.easing||"linear",h=a.tools.isset(e.duration)?e.duration:1E3,l=this._getValues(b,e.properties),q=this._getUnits(e.properties),r=this,u;return a.Commitment.then(function(){var a=this;(function s(){var n=Date.now()-c,y,m,k;for(k in e.properties)e.properties.hasOwnProperty(k)&&(m=q[k].value-l[k],y=r.easingFunctions[g](n,l[k],m,h),y=(n>h?l[k]+m:y)+q[k].unit,b.style[k]=
y);n>h?(e.callback&&e.callback(b),a.resolve(),cancelAnimationFrame(u)):u=requestAnimationFrame(s)})()})},arrayContains:function(a,b){var c=a.length;do if(c-=1,a[c]===b)return!0;while(0<c);return!1},calculateZIndex:function(a){if(!(a instanceof HTMLElement))throw Error("Expected HTMLElement, received "+typeof a+" instead");return window.getComputedStyle?(a=parseInt(document.defaultView.getComputedStyle(a,null).zIndex,10),isNaN(a)?!1:a):a.currentStyle?(a=parseInt(a.currentStyle.zIndex,10),isNaN(a)?
!1:a):!1},calculateZIndexOfChildren:function(b){var e=0;if(!(b instanceof HTMLElement))return!1;for(var c=b.childNodes.length,g=0;g<c;g+=1)if(!(!0!==b.childNodes[g]instanceof HTMLElement||0<=(b.childNodes[g].className||"").indexOf("kskd"))&&a.tools.isVisible(b.childNodes[g])){var h=a.tools.calculateZIndex(b.childNodes[g]);h>e&&(e=h)}return e},corsSupported:function(){return n.XMLHttpRequestSupported()||n.XDomainRequestSupported()},create:function(b,e,c,g){b=document.createElement(b);b.className="kskdDiv";
if(e){if(e.className){for(var h=e.className.split(" "),l=e.design?e.design:!1,q=0;q<h.length;q+=1)m.setStyle(b,h[q],l);delete e.className}e.style&&(m.style(b,e.style),delete e.style);e.cssClass&&(b.className="kskdDiv "+e.cssClass);this.addAttributes(b,e)}c&&(g&&"first"===g?c.insertBefore(b,c.firstChild):g instanceof HTMLElement&&a.tools.dom.isDescendant(c,g)?c.insertBefore(b,g.nextSibling):c.appendChild(b));return b},curry:function(a,b){var c=a.length;b=b?b:null;return function h(){var l=Array.prototype.slice.call(arguments,
0);return l.length>=c?a.apply(b,l):function(){var a=Array.prototype.slice.call(arguments,0);return h.apply(b,l.concat(a))}}},curryWhole:function(a,b){b=b?b:null;return function(){var c=Array.prototype.slice.call(arguments,0);return function(){return a.apply(b,c)}}},deepClone:function e(a,b){n.isset(b)||(b=!1);if(null===a||"object"!==typeof a)return a;if(a instanceof Date){var c=new Date;c.setTime(a.getTime());return c}if(a instanceof Array){for(var c=[],l=0,q=a.length;l<q;l+=1)c[l]=e(a[l],b);return c}if(a instanceof
HTMLElement)return a;if(a instanceof Object){c={};for(l in a)if(a.hasOwnProperty(l)||b)c[l]=e(a[l],b);return c}throw Error("Unable to clone object - Type not supported");},delay:function(a){return new Promise(function(b){setTimeout(b,a||1)})},distanceBetweenCoordinates:function(a,b,c,h){a-=c;b-=h;return Math.sqrt(a*a+b*b)},distanceBetweenPoints:function(a,b){return n.distanceBetweenCoordinates(a.x,a.y,b.x,b.y)},escapeHTML:function(a){a=(a||"").replace(/&#([^\s]*);/g,function(a,b){return String.fromCharCode(Number(b))});
return a.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;")},findImageByImageURL:function(a,b){var c,h;b=b||{};var l;l=b.insertNode?b.insertNode.getElementsByTagName("img"):document.getElementsByTagName("img");n.isString(a)&&(a=[a]);for(var q,r=c=0;r<l.length;r+=1)for(var u in a)a.hasOwnProperty(u)&&("string"===typeof a[u]||a[u]instanceof String)&&("string"===typeof l[r].src||l[r].src instanceof String)&&l[r].src.replace(/^https?:/i,"").replace(/\&amp;/ig,"&")===a[u].replace(/^https?:/i,
"").replace(/\&amp;/ig,"&")&&!l[r].getAttribute("kiosked")&&l[r].offsetHeight*l[r].offsetWidth>c&&(q=l[r],c=l[r].offsetWidth,h=l[r].offsetHeight,c*=h);return q?(q.setAttribute("kiosked","true"),q):!1},findMediaByZoneId:function(a){a=n.dom.query("[kioskedHash_"+n.environment.getContext()+'="'+a+'"]');return 0<a.length?(a[0].setAttribute("kiosked","true"),a[0]):!1},findSuitableNodeParent:function(a){for(var b,c,h;a.offsetParent;)if(a=a.offsetParent,b=m.getStyle(a,"position"),c=m.getStyle(a,"display"),
h=a.tagName,"static"!==b)if("A"===h)"inline"===c&&(a.style.display="block");else break;return a},flattenSettings:function(a){if("object"!==typeof a)return a;var b={},c=function(a,e){if("object"===typeof a)for(var q in a)a.hasOwnProperty(q)&&c(a[q],0<e.length?e+"."+q:q);else 0<e.length&&(b[e]=a)};c(a,"");return b},getDevicePixelRatio:function(){return void 0!==window.devicePixelRatio?window.devicePixelRatio:1},getElementOffset:function(a,b,c){var h,l,q=0,r=0,u,t,m,s,x,y,k,p,G,C,O,z;b||(z=document.defaultView.getComputedStyle(a,
""),u=parseInt(z.borderLeftWidth,10),t=parseInt(z.borderRightWidth,10),m=parseInt(z.borderTopWidth,10),s=parseInt(z.borderBottomWidth,10),x=parseInt(z.paddingLeft,10),y=parseInt(z.paddingRight,10),k=parseInt(z.paddingTop,10),p=parseInt(z.paddingBottom,10),G=parseInt(z.paddingLeft,10),C=parseInt(z.paddingRight,10),O=parseInt(z.paddingTop,10),z=parseInt(z.paddingBottom,10));c||(h=a.offsetWidth,l=a.offsetHeight);b=a&&a.ownerDocument;c={top:0,left:0};b&&(r=b.documentElement,a.getBoundingClientRect&&(c=
a.getBoundingClientRect()),a=n.dom.getWindow(r),q=c.top+a.pageYOffset-r.clientTop,r=c.left+a.pageXOffset-r.clientLeft);return{top:q,left:r,height:l,width:h,border:{left:u,right:t,top:m,bottom:s},padding:{left:x,right:y,top:k,bottom:p},margin:{left:G,right:C,top:O,bottom:z},screen:c}},getMouseButton:function(a){var b="none";a&&(b=null!==a.which&&"undefined"!==a.which&&a.hasOwnProperty("which")?2>a.which?"left":2===a.which?"middle":"right":2>a.button?"left":4===a.button?"middle":"right");return b},
getMousePosition:function(a){var b=!1,c=!1,h=n.getWindowEvent();a.x&&a.y&&!n.isBrowser.internetExplorer()?(b=a.x,c=a.y):h?(b=h.clientX,c=h.clientY):a.clientX&&a.clientY&&(b=a.clientX,c=a.clientY);return!1!==b&&!1!==c?{x:b,y:c}:!1},getObjectLength:function(a){var b=0;if("object"===typeof a)for(var c in a)a.hasOwnProperty(c)&&(b+=1);return b},getRandomInt:function(a,b){b+=1;return Math.floor(Math.random()*(b-a))+a},getRange:function(a,b){return 0<=a?0<=b?b-a:0-(Math.abs(b)+a):0<=b?Math.abs(a)+b:b-a},
getScroll:function(a){var b=a&&a instanceof HTMLElement?a:document.documentElement;a=window.pageXOffset||b.scrollLeft;var c=window.pageYOffset||b.scrollTop,c=c?c:0,h=b.scrollWidth||window.scrollWidth,h=h?h:0,b=(b=b.scrollHeight||window.scrollHeight)?b:0;return{width:parseInt(a?a:0,10),height:parseInt(c,10),scrollWidth:parseInt(h,10),scrollHeight:parseInt(b,10)}},getTouchBeginEventName:function(){return window.navigator.msPointerEnabled?"onmspointerdown":"ontouchstart"},getTouchEndEventName:function(){return window.navigator.msPointerEnabled?
"onmspointerup":"ontouchend"},getTouchMoveEventName:function(){return window.navigator.msPointerEnabled?"onmspointermove":"ontouchmove"},getWindowEvent:function(){return window.event?window.event:!1},getWindowLocationPath:function(){var a=n.overrideCall("tools.getWindowLocationPath");return a?a():window.location.protocol+"//"+window.location.hostname+window.location.pathname},getWindowSize:function(){var a=0,b=0;window.innerWidth?(a=window.innerWidth,b=window.innerHeight):0!==document.documentElement.clientWidth&&
(a=document.documentElement.clientWidth,b=document.documentElement.clientHeight);return{width:parseInt(a,10),height:parseInt(b,10)}},getXTouch:function(a){return window.navigator.msPointerEnabled?a.pageX:a.touches[0].pageX},getYTouch:function(a){return window.navigator.msPointerEnabled?a.pageY:a.touches[0].pageY},hasClass:function(a,b){return null!==a.className.match(new RegExp("(\\s|^)"+b+"(\\s|$)"))},hash:function(a){n.isString(a)||(a+="");var b,c,h=2166136261;b=0;for(c=a.length;b<c;b+=1)h^=a.charCodeAt(b),
h+=(h<<1)+(h<<4)+(h<<7)+(h<<8)+(h<<24);return("0000000"+(h>>>0).toString(16)).substr(-8)},hasTouchEvents:function(){return this.isWindowsOS(!0)||this.isWindowsPhone()?!0:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch||window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints?!this.isWindowsOS(!1):!1},indexOfPluginWithName:function(a,b){if(n.array.isArray(a)){var c=a.length;if(0<c)for(var h=0;h<c;h+=1){var l=a[h];if(l&&l.name&&l.name===b)return h}}return!1},
isAlpha:function(a){return n.isset(a)&&/^[a-zA-Z]+$/.test(a)},isBrowser:{chrome:function(){return!!window.chrome},edge:function(){return/edge/i.test(navigator.userAgent)},firefox:function(){return/firefox/i.test(navigator.userAgent)},internetExplorer:function(){return a.tools.isBrowser.internetExplorer11()||-1!==navigator.appVersion.indexOf("MSIE")},internetExplorer9:function(){return n.isBrowser.internetExplorer()&&9===parseInt(document.documentMode,10)},internetExplorer11:function(){var a=-1<navigator.userAgent.indexOf("Trident/7.0"),
b=-1<navigator.userAgent.indexOf(".NET4.0E")||-1<navigator.userAgent.indexOf(".NET CLR");return a&&b}},isDifferentPosition:function(a,b){return a.top!==b.top||a.left!==b.left},isDifferentSize:function(a,b){return a.width!==b.width||a.height!==b.height},isEmpty:function(a){if(null===a||!1===a)return!0;switch(typeof a){case "undefined":return!0;case "boolean":return!1===a;case "number":return 0===a;case "string":return 0===a.length||""===a||"0"===a;case "object":return a instanceof Array?0===a.length:
0===Object.getOwnPropertyNames(a).length;default:throw Error("unexpected case: "+a);}},isLandscapeOrientation:function(){return window.innerWidth>window.innerHeight},isMobileType:function(){var a=/Android/i.test(navigator.userAgent),b=/BlackBerry/i.test(navigator.userAgent),c=/iPhone|iPad|iPod|iPhone Simulator|iPad Simulator/i.test(navigator.userAgent),h=/iPad|iPad Simulator/i.test(navigator.userAgent),l=/iPhone|iPod|iPhone Simulator/i.test(navigator.userAgent),q=/Opera Mini/i.test(navigator.userAgent),
r=/IEMobile|Windows Phone/i.test(navigator.userAgent),u;u=navigator.userAgent||navigator.vendor||window.opera;u=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(u)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(u.substr(0,
4))?!0:!1;return{Android:a,BlackBerry:b,iOS:c,iPad:h,iPhone:l,Opera:q,Windows:r,any:u}}(),isOnScreen:function(a,b){var c=!1,h="object"===typeof b?b:n.deepClone(a.getBoundingClientRect(),!0);if(h.top>-1*h.height&&h.bottom-window.innerHeight<h.height&&h.left>-1*h.width&&h.right-window.innerWidth<h.width){0===h.height&&(h.height=1);0===h.width&&(h.width=1);var c=h.height-(h.height+h.top),l=h.bottom-window.innerHeight,q=h.width-(h.width+h.left),r=h.right-window.innerWidth,c=(h.width-(0<q?q:0)-(0<r?r:
0))*(h.height-(0<c?c:0)-(0<l?l:0))/(h.width*h.height)*100}return c},isset:function(a){return"undefined"!==typeof a&&null!==a},isString:function(a){return"string"===typeof a||a instanceof String},isVisible:function(a){var b=window.getComputedStyle(a);return 0===b.getPropertyValue("opacity")||"none"===b.getPropertyValue("display")||"hidden"===b.getPropertyValue("visibility")||0===parseInt(a.style.opacity,10)||"none"===a.style.display||"hidden"===a.style.visibility?!1:!0},isWindowsOS:function(a){if(navigator&&
navigator.userAgent){var b=navigator.userAgent;if(b.match("Windows"))return!(a&&!b.match("ARM"))}return!1},isWindowsPhone:function(){var a=!1;if(navigator&&navigator.userAgent)for(var b=navigator.userAgent,c=["WPDesktop","Windows Phone"],h=0;h<c.length;h+=1)if(b.match(c[h])){a=!0;break}return a},jsonP:function(b){a.callback=a.callback||[];var c=this.jsonPGetUrl(b);if(2048<c.length)throw Error("jsonP request is too lengthy");a.callback[a.callback.length]=b.load;this.create("script",{src:c,type:"text/javascript"},
document.getElementsByTagName("head")[0])},jsonPGetUrl:function(b){a.callback=a.callback||[];var c=a.callback.length,g="";if(b.content)for(var h in b.content)b.content.hasOwnProperty(h)&&(g+="&"+h+"="+encodeURIComponent(b.content[h]));h="?";-1!==b.url.indexOf("?")&&(h="&");return b.url+h+"callback="+encodeURIComponent("ITGS.callback["+c+"]")+g},leftString:function(a,b){return a.length<=b?a:a.substring(0,b)},mergeDefaults:function f(a,b){for(var c in b)if(b.hasOwnProperty(c))try{a[c]=b[c].constructor===
Object?a[c]instanceof HTMLElement||b[c]instanceof HTMLElement?b[c]:f(a[c],b[c]):b[c]}catch(q){a[c]=b[c]}return a?a:b},mousemove:function(a,b){if(a.onmousemove)var c=a.onmousemove;a.onmousemove=function(a){window.event&&(a=window.event);c&&c(a);b(a)}},mousewheel:function(a,b){function c(a){var f=0;a||(a=window.event);a.wheelDelta?f=a.wheelDelta/120:a.detail&&(f=-a.detail/3);b(a,f)}if(a.addEventListener)a.addEventListener("DOMMouseScroll",c,!1),a.addEventListener("mousewheel",c,!1);else{if(a.onmousewheel)var l=
window.onmousewheel;a.onmousewheel=function(a){l&&l(a);c(a)}}},offset:function(a,b){var c=a,l=0,q=0,r=0,u=0,n=c.offsetWidth,k=c.offsetHeight,s=c,x,y=!1,p,A,G,C,O={top:0,left:0,right:0,bottom:0};b&&(x=b.firstNode?b.firstNode:null,!0===b.innerSize&&(p=parseInt(m.getStyle(c,"borderLeftWidth"),10),G=parseInt(m.getStyle(c,"borderRightWidth"),10),A=parseInt(m.getStyle(c,"borderTopWidth"),10),C=parseInt(m.getStyle(c,"borderBottomWidth"),10),p&&(n-=p,O.left=p),G&&(n-=G,O.right=G),A&&(k-=A,O.top=A),C&&(k-=
C,O.bottom=C)));for(;c&&(p=parseInt(m.getStyle(c,"borderLeftWidth"),10),A=parseInt(m.getStyle(c,"borderTopWidth"),10),p=p?p:0,A=A?A:0,s=c,"fixed"!==m.getStyle(c,"position"));){l+=c.offsetLeft+p;q+=c.offsetTop+A;if(x&&x===c||y)y=!0,r-=c.offsetLeft+p,u-=c.offsetTop+A;c=c.offsetParent}c=a;for(y=!1;c&&c!==s;)c===x&&(y=!0),(p=m.getStyle(c,"transform"))&&0===p.search(/matrix/)&&(A=p.replace(/^matrix\(/,"").replace(/\)$/,"").replace(/ /g,"").split(","),p=parseInt(A[4],10),A=parseInt(A[5],10),l+=p,q+=A,y&&
(r-=p,u-=A)),c=c.parentNode;c=this.getWindowSize().width-l;p=parseInt(m.getStyle(s,"borderLeftWidth"),10);A=parseInt(m.getStyle(s,"borderTopWidth"),10);y=m.getStyle(s,"position");p&&(0>s.offsetLeft?(l+=p,x&&(r-=p)):(l-=p,x&&(r+=p)),"static"!==y&&(l-=p,x&&(r+=p)));A&&(0>s.offsetTop?(q+=A,x&&(u-=A)):(q-=A,x&&(u+=A)),"static"!==y&&(q-=A,x&&(u+=A)));return{firstTop:q,firstLeft:l,top:q+u,left:l+r,right:c,width:n,height:k,firstNode:s,insertNode:x?x:s,border:O}},open:function(a,b){var c;if(-1!==navigator.userAgent.search(/webkit/i)){var l=
document.createEvent("HTMLEvents");l.initEvent("click",!0,!0);n.create("a",{href:a,target:b?b:"_self"}).dispatchEvent(l)}else c=window.open(a,b?b:"_self");return c},outerHeight:function(a){if("undefined"===typeof a)return 0;var b=parseInt(a.offsetHeight,10);a.style.marginTop&&(b+=parseInt(a.style.marginTop,10));a.style.marginBottom&&(b+=parseInt(a.style.marginBottom,10));return b},overrideCall:function(b){return a.overrideFunctions[b]&&"function"===typeof a.overrideFunctions[b]?a.overrideFunctions[b]:
!1},pageProtocol:function(){var a=["http:","https:","file:"];return 0<=a.indexOf(window.location.protocol)?window.location.protocol:a[0]}(),parseBoolean:function(a){return"string"!==typeof a||"true"!==a.toLowerCase()&&"yes"!==a.toLowerCase()?"boolean"===typeof a?a:0<parseInt(a,10):!0},preventChildMouseOut:function(a,b,c){(a=a.toElement||a.relatedTarget)&&a.parentNode===b||a===b||c&&c()},preventDefault:function(a,b){a&&(a.preventDefault&&a.preventDefault(),a.returnValue=!1,b&&(a.cancelBubble=!0,a.cancel=
!0,a.stopPropagation&&a.stopPropagation()))},processPluginsArray:function(b,c){var h,l=n.deepClone(b);if(c.isSet("overridePlugins")){var q,l=[];try{if(q=JSON.parse(c.get("overridePlugins")),n.array.isArray(q))for(h=0;h<q.length;h+=1)l.push(q[h]);else l=[q]}catch(r){for(q=c.get("overridePlugins").split(","),h=0;h<q.length;h+=1){var u=n.trim(q[h]);a.Plugins.hasOwnProperty(u)?l.push({name:u}):(u=0>=u.length?"(empty)":u,n.debug.log("/Tools/","(Override Plugins)","Failed loading plugin with invalid name:",
u))}}}if(c.isSet("removePlugins")){var t;try{if(t=JSON.parse(c.get("removePlugins")),n.array.isArray(t))for(h=0;h<t.length;h+=1)for(q=0;q<l.length;q+=1)l[q].name===n.trim(t[h])&&l.splice(q,1)}catch(k){for(t=c.get("removePlugins").split(","),h=0;h<t.length;h+=1)for(q=0;q<l.length;q+=1)l[q].name===n.trim(t[h])&&l.splice(q,1)}}if(c.isSet("additionalPlugins")){var s;try{if(s=JSON.parse(c.get("additionalPlugins")),n.array.isArray(s))for(h=0;h<s.length;h+=1)l.push(s[h]);else l.push(s)}catch(x){for(s=c.get("additionalPlugins").split(","),
h=0;h<s.length;h+=1)for(h=0;h<s.length;h+=1)l.push({name:n.trim(s[h])})}}return l},removeAttributes:function(a,b){n.array.isArray(b)||(b=[b]);for(var c=0,l=b.length;c<l;c+=1)try{a.removeAttribute(b[c])}catch(q){console.log(q)}},removeClass:function(a,b){this.hasClass(a,b)&&(a.className=a.className.replace(new RegExp("(\\s|^)"+b+"(\\s|$)")," "))},replaceLineBreakWithBr:function(a){return a.replace(/\n/g,"<br />")},replaceTextInArray:function(a,b,c){if("[object Array]"===Object.prototype.toString.call(a)){for(var l in a)a.hasOwnProperty(l)&&
(a[l]=a[l].replace(b,c));return a}return a.replace(b,c)},request:function(a){n.XMLHttpRequestSupported()&&!1===n.forceJSONP?c(a):n.XDomainRequestSupported()&&!1===n.forceJSONP?b(a):n.jsonP(a)},rgba2hex:function(a){a=a.match(/(\d+),[ ]?(\d+),[ ]?(\d+),[ ]?(\d+(\.\d+)?)/i);var b=("0"+parseInt(a[1],10).toString(16)).slice(-2),c=("0"+parseInt(a[2],10).toString(16)).slice(-2),l=("0"+parseInt(a[3],10).toString(16)).slice(-2),q=("0"+parseInt(255*parseFloat(a[4],10)).toString(16)).slice(-2);return["#"+b+
c+l+q,"#"+b+c+l,parseFloat(a[4],10)]},rightString:function(a,b){var c=a.length;return c<=b?a:a.substring(c-b)},routeSettingsOutput:function(a){var b={settings:{},targets:{}};if("[object Array]"===Object.prototype.toString.call(a)){var c=a.length;if(0<c)for(var l=0;l<c;l+=1)a[l].hasOwnProperty("key")&&a[l].hasOwnProperty("value")&&(a[l].hasOwnProperty("target")&&n.isset(a[l].target)?(b.targets.hasOwnProperty(a[l].target)||(b.targets[a[l].target]={}),b.targets[a[l].target][a[l].key]=a[l].value):b.settings[a[l].key]=
a[l].value)}return b},shuffleArray:function(a){for(var b=[];a.length;)b.push(a.splice(Math.random()*a.length,1)[0]);for(;b.length;)a.push(b.pop());return a},stopPropagation:function(a){n.isset(a.stopPropagation)&&a.stopPropagation();a.cancelBubble=!0},trim:function(a){return a?a.replace(/^\s+|\s+$/g,""):""},XDomainRequestSupported:function(){return"undefined"!==typeof window.XDomainRequest},XMLHttpRequestSupported:function(){return window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}}}();
(function(){function a(b){return function(){return this[b]}}function b(a){return function(){return a}}function d(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=
typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function e(a){return"string"==typeof a}function f(a,b,c){return a.call.apply(a.bind,arguments)}function g(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,
c)}}return function(){return a.apply(b,arguments)}}function h(a,b,c){h=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?f:g;return h.apply(null,arguments)}function l(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}function q(a){function b(){}var c=U;b.prototype=c.prototype;a.u=c.prototype;a.prototype=new b;a.t=function(a,b,d){return c.prototype[b].apply(a,Array.prototype.slice.call(arguments,
2))}}function r(a,b,c){this.a=a;this.b=b||1;this.d=c||1}function u(a,b){return a<b?-1:a>b?1:0}function n(a,b){var c;a:{c=a.length;for(var d=e(a)?a.split(""):a,f=0;f<c;f++)if(f in d&&b.call(void 0,d[f],f,a)){c=f;break a}c=-1}return 0>c?null:e(a)?a.charAt(c):a[c]}function k(a){return P.concat.apply(P,arguments)}function s(a,b,c){return 2>=arguments.length?P.slice.call(a,b):P.slice.call(a,b,c)}function x(a){return-1!=ga.indexOf(a)}function y(){var a=aa.document;return a?a.documentMode:void 0}function m(a){if(!Na[a]){for(var b=
0,c=String(Oa).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",l=d[f]||"",h=RegExp("(\\d*)(\\D*)","g"),q=RegExp("(\\d*)(\\D*)","g");do{var r=h.exec(g)||["","",""],s=q.exec(l)||["","",""];if(0==r[0].length&&0==s[0].length)break;b=u(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||u(0==r[2].length,0==s[2].length)||u(r[2],s[2])}while(0==b)}Na[a]=0<=b}}function p(a,
b,c,d){this.a=a;this.nodeName=c;this.nodeValue=d;this.nodeType=2;this.parentNode=this.ownerElement=b}function G(a,b){var c=Pa&&"href"==b.nodeName?a.getAttribute(b.nodeName,2):b.nodeValue;return new p(b,a,b.nodeName,c)}function C(a){this.b=a;this.a=0}function O(a){a=a.match(qb);for(var b=0;b<a.length;b++)rb.test(a[b])&&a.splice(b,1);return new C(a)}function z(a,b){return a.b[a.a+(b||0)]}function E(a){return a.b[a.a++]}function W(a){return a.b.length<=a.a}function v(a,b){if(a.contains&&1==b.nodeType)return a==
b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function w(a,b){if(a==b)return 0;if(a.compareDocumentPosition)return a.compareDocumentPosition(b)&2?1:-1;if(Q&&!(Q&&9<=oa)){if(9==a.nodeType)return-1;if(9==b.nodeType)return 1}if("sourceIndex"in a||a.parentNode&&"sourceIndex"in a.parentNode){var c=1==a.nodeType,d=1==b.nodeType;if(c&&d)return a.sourceIndex-b.sourceIndex;var e=a.parentNode,
f=b.parentNode;return e==f?Qa(a,b):!c&&v(e,b)?-1*Ra(a,b):!d&&v(f,a)?Ra(b,a):(c?a.sourceIndex:e.sourceIndex)-(d?b.sourceIndex:f.sourceIndex)}d=9==a.nodeType?a:a.ownerDocument||a.document;c=d.createRange();c.selectNode(a);c.collapse(!0);d=d.createRange();d.selectNode(b);d.collapse(!0);return c.compareBoundaryPoints(aa.Range.START_TO_END,d)}function Ra(a,b){var c=a.parentNode;if(c==b)return-1;for(var d=b;d.parentNode!=c;)d=d.parentNode;return Qa(d,a)}function Qa(a,b){for(var c=b;c=c.previousSibling;)if(c==
a)return-1;return 1}function J(a){var b=null,c=a.nodeType;1==c&&(b=a.textContent,b=void 0==b||null==b?a.innerText:b,b=void 0==b||null==b?"":b);if("string"!=typeof b)if(Y&&"title"==a.nodeName.toLowerCase()&&1==c)b=a.text;else if(9==c||1==c){a=9==c?a.documentElement:a.firstChild;for(var c=0,d=[],b="";a;){do 1!=a.nodeType&&(b+=a.nodeValue),Y&&"title"==a.nodeName.toLowerCase()&&(b+=a.text),d[c++]=a;while(a=a.firstChild);for(;c&&!(a=d[--c].nextSibling););}}else b=a.nodeValue;return""+b}function ba(a,b,
c){if(null===b)return!0;try{if(!a.getAttribute)return!1}catch(d){return!1}Pa&&"class"==b&&(b="className");return null==c?!!a.getAttribute(b):a.getAttribute(b,2)==c}function ca(a,b,c,d,f){return(Y?sb:tb).call(null,a,b,e(c)?c:null,e(d)?d:null,f||new B)}function sb(a,b,c,d,e){if(a instanceof fa||8==a.b||c&&null===a.b){var f=b.all;if(!f)return e;a=Sa(a);if("*"!=a&&(f=b.getElementsByTagName(a),!f))return e;if(c){for(var g=[],l=0;b=f[l++];)ba(b,c,d)&&g.push(b);f=g}for(l=0;b=f[l++];)"*"==a&&"!"==b.tagName||
H(e,b);return e}Ba(a,b,c,d,e);return e}function tb(a,b,c,d,e){b.getElementsByName&&d&&"name"==c&&!Q?(b=b.getElementsByName(d),Z(b,function(b){a.a(b)&&H(e,b)})):b.getElementsByClassName&&d&&"class"==c?(b=b.getElementsByClassName(d),Z(b,function(b){b.className==d&&a.a(b)&&H(e,b)})):a instanceof X?Ba(a,b,c,d,e):b.getElementsByTagName&&(b=b.getElementsByTagName(a.d()),Z(b,function(a){ba(a,c,d)&&H(e,a)}));return e}function ub(a,b,c,d,e){var f;if((a instanceof fa||8==a.b||c&&null===a.b)&&(f=b.childNodes)){var g=
Sa(a);if("*"!=g&&(f=Ta(f,function(a){return a.tagName&&a.tagName.toLowerCase()==g}),!f))return e;c&&(f=Ta(f,function(a){return ba(a,c,d)}));Z(f,function(a){"*"==g&&("!"==a.tagName||"*"==g&&1!=a.nodeType)||H(e,a)});return e}return Ua(a,b,c,d,e)}function Ua(a,b,c,d,e){for(b=b.firstChild;b;b=b.nextSibling)ba(b,c,d)&&a.a(b)&&H(e,b);return e}function Ba(a,b,c,d,e){for(b=b.firstChild;b;b=b.nextSibling)ba(b,c,d)&&a.a(b)&&H(e,b),Ba(a,b,c,d,e)}function Sa(a){if(a instanceof X){if(8==a.b)return"!";if(null===
a.b)return"*"}return a.d()}function B(){this.b=this.a=null;this.i=0}function Va(a){this.d=a;this.a=this.b=null}function Ca(a,b){if(!a.a)return b;if(!b.a)return a;for(var c=a.a,d=b.a,e=null,f=null,g=0;c&&d;){var f=c.d,l=d.d;f==l||f instanceof p&&l instanceof p&&f.a==l.a?(f=c,c=c.a,d=d.a):0<w(c.d,d.d)?(f=d,d=d.a):(f=c,c=c.a);(f.b=e)?e.a=f:a.a=f;e=f;g++}for(f=c||d;f;)f.b=e,e=e.a=f,g++,f=f.a;a.b=e;a.i=g;return a}function D(a,b){var c=new Va(b);c.a=a.a;a.b?a.a.b=c:a.a=a.b=c;a.a=c;a.i++}function H(a,b){var c=
new Va(b);c.b=a.b;a.a?a.b.a=c:a.a=a.b=c;a.b=c;a.i++}function I(a){return(a=a.a)?a.d:null}function pa(a){return(a=I(a))?J(a):""}function da(a,b){return new vb(a,!!b)}function vb(a,b){this.d=a;this.b=(this.c=b)?a.b:a.a;this.a=null}function K(a){var b=a.b;if(null==b)return null;var c=a.a=b;a.b=a.c?b.b:b.a;return c.d}function Da(a){switch(a.nodeType){case 1:return l(Wa,a);case 9:return Da(a.documentElement);case 11:case 10:case 6:case 12:return Xa;default:return a.parentNode?Da(a.parentNode):Xa}}function Xa(){return null}
function Wa(a,b){if(a.prefix==b)return a.namespaceURI||"http://www.w3.org/1999/xhtml";var c=a.getAttributeNode("xmlns:"+b);return c&&c.specified?c.value||null:a.parentNode&&9!=a.parentNode.nodeType?Wa(a.parentNode,b):null}function U(a){this.g=a;this.b=this.f=!1;this.d=null}function L(a){return"\n  "+a.toString().split("\n").join("\n  ")}function Ya(a,b){a.f=b}function Za(a,b){a.b=b}function N(a,b){var c=a.a(b);return c instanceof B?+pa(c):+c}function M(a,b){var c=a.a(b);return c instanceof B?pa(c):
""+c}function ha(a,b){var c=a.a(b);return c instanceof B?!!c.i:!!c}function ka(a,b,c){U.call(this,a.g);this.c=a;this.e=b;this.j=c;this.f=b.f||c.f;this.b=b.b||c.b;this.c==wb&&(c.b||c.f||4==c.g||0==c.g||!b.d?b.b||b.f||4==b.g||0==b.g||!c.d||(this.d={name:c.d.name,l:b}):this.d={name:b.d.name,l:c})}function ia(a,b,c,d,e){b=b.a(d);c=c.a(d);var f;if(b instanceof B&&c instanceof B){e=da(b);for(d=K(e);d;d=K(e))for(b=da(c),f=K(b);f;f=K(b))if(a(J(d),J(f)))return!0;return!1}if(b instanceof B||c instanceof B){b instanceof
B?e=b:(e=c,c=b);e=da(e);b=typeof c;for(d=K(e);d;d=K(e)){switch(b){case "number":d=+J(d);break;case "boolean":d=!!J(d);break;case "string":d=J(d);break;default:throw Error("Illegal primitive type for comparison.");}if(a(d,c))return!0}return!1}return e?"boolean"==typeof b||"boolean"==typeof c?a(!!b,!!c):"number"==typeof b||"number"==typeof c?a(+b,+c):a(b,c):a(+b,+c)}function $a(a,b,c,d){this.a=a;this.p=b;this.g=c;this.k=d}function R(a,b,c,d){if(Ea.hasOwnProperty(a))throw Error("Binary operator already created: "+
a);a=new $a(a,b,c,d);return Ea[a.toString()]=a}function qa(a,b){if(b.a.length&&4!=a.g)throw Error("Primary expression must evaluate to nodeset if filter has predicate(s).");U.call(this,a.g);this.c=a;this.e=b;this.f=a.f;this.b=a.b}function ra(a,b){if(b.length<a.o)throw Error("Function "+a.h+" expects at least"+a.o+" arguments, "+b.length+" given");if(null!==a.n&&b.length>a.n)throw Error("Function "+a.h+" expects at most "+a.n+" arguments, "+b.length+" given");a.s&&Z(b,function(b,c){if(4!=b.g)throw Error("Argument "+
c+" to function "+a.h+" is not of type Nodeset: "+b);});U.call(this,a.g);this.e=a;this.c=b;Ya(this,a.f||sa(b,function(a){return a.f}));Za(this,a.r&&!b.length||a.q&&!!b.length||sa(b,function(a){return a.b}))}function ab(a,b,c,d,e,f,g,l,h){this.h=a;this.g=b;this.f=c;this.r=d;this.q=e;this.k=f;this.o=g;this.n=void 0!==l?l:g;this.s=!!h}function F(a,b,c,d,e,f,g,l){if(Fa.hasOwnProperty(a))throw Error("Function already created: "+a+".");Fa[a]=new ab(a,b,c,d,!1,e,f,g,l)}function X(a,b){this.e=a;this.c=void 0!==
b?b:null;this.b=null;switch(a){case "comment":this.b=8;break;case "text":this.b=3;break;case "processing-instruction":this.b=7;break;case "node":break;default:throw Error("Unexpected argument");}}function Ga(a){return"comment"==a||"text"==a||"processing-instruction"==a||"node"==a}function ta(a){U.call(this,3);this.c=a.substring(1,a.length-1)}function fa(a,b){this.h=a.toLowerCase();this.c=b?b.toLowerCase():"http://www.w3.org/1999/xhtml"}function ua(a){U.call(this,1);this.c=a}function va(a,b){U.call(this,
a.g);this.e=a;this.c=b;this.f=a.f;this.b=a.b;if(1==this.c.length){var c=this.c[0];c.m||c.c!=bb||(c=c.j,"*"!=c.d()&&(this.d={name:c.d(),l:null}))}}function la(){U.call(this,4)}function wa(){U.call(this,4)}function Ha(a){return"/"==a||"//"==a}function xa(a,b){this.a=a;this.b=!!b}function Ia(a,b,c){for(c=c||0;c<a.a.length;c++)for(var d=a.a[c],e=da(b),f=b.i,g,l=0;g=K(e);l++){var h=a.b?f-l:l+1;g=d.a(new r(g,h,f));if("number"==typeof g)h=h==g;else if("string"==typeof g||"boolean"==typeof g)h=!!g;else if(g instanceof
B)h=0<g.i;else throw Error("Predicate.evaluate returned an unexpected type.");if(!h){h=e;g=h.d;var q=h.a;if(!q)throw Error("Next must be called at least once before remove.");var s=q.b,q=q.a;s?s.a=q:g.a=q;q?q.b=s:g.b=s;g.i--;h.a=null}}return b}function ea(a,b,c,d){U.call(this,4);this.c=a;this.j=b;this.e=c||new xa([]);this.m=!!d;b=this.e;b=0<b.a.length?b.a[0].d:null;a.b&&b&&(a=b.name,a=Y?a.toLowerCase():a,this.d={name:a,l:b.l});a:{a=this.e;for(b=0;b<a.a.length;b++)if(c=a.a[b],c.f||1==c.g||0==c.g){a=
!0;break a}a=!1}this.f=a}function cb(a,b,c,d){this.h=a;this.d=b;this.a=c;this.b=d}function S(a,b,c,d){if(Ja.hasOwnProperty(a))throw Error("Axis already created: "+a);b=new cb(a,b,c,!!d);return Ja[a]=b}function ya(a){U.call(this,1);this.c=a;this.f=a.f;this.b=a.b}function za(a){U.call(this,4);this.c=a;Ya(this,sa(this.c,function(a){return a.f}));Za(this,sa(this.c,function(a){return a.b}))}function xb(a,b){this.a=a;this.b=b}function Aa(a){for(var b,c=[];;){T(a,"Missing right hand side of binary expression.");
b=db(a);var d=E(a.a);if(!d)break;var e=(d=Ea[d]||null)&&d.p;if(!e){a.a.a--;break}for(;c.length&&e<=c[c.length-1].p;)b=new ka(c.pop(),c.pop(),b);c.push(b,d)}for(;c.length;)b=new ka(c.pop(),c.pop(),b);return b}function T(a,b){if(W(a.a))throw Error(b);}function Ka(a,b){var c=E(a.a);if(c!=b)throw Error("Bad token, expected: "+b+" got: "+c);}function eb(a){a=E(a.a);if(")"!=a)throw Error("Bad token: "+a);}function fb(a){a=E(a.a);if(2>a.length)throw Error("Unclosed literal string");return new ta(a)}function gb(a){var b=
E(a.a),c=b.indexOf(":");if(-1==c)return new fa(b);var d=b.substring(0,c);a=a.b(d);if(!a)throw Error("Namespace prefix not declared: "+d);b=b.substr(c+1);return new fa(b,a)}function hb(a){var b,c=[],d;if(Ha(z(a.a))){b=E(a.a);d=z(a.a);if("/"==b&&(W(a.a)||"."!=d&&".."!=d&&"@"!=d&&"*"!=d&&!/(?![0-9])[\w]/.test(d)))return new la;d=new la;T(a,"Missing next location step.");b=La(a,b);c.push(b)}else{a:{b=z(a.a);d=b.charAt(0);switch(d){case "$":throw Error("Variable reference not allowed in HTML XPath");case "(":E(a.a);
b=Aa(a);T(a,'unclosed "("');Ka(a,")");break;case '"':case "'":b=fb(a);break;default:if(isNaN(+b))if(!Ga(b)&&/(?![0-9])[\w]/.test(d)&&"("==z(a.a,1)){b=E(a.a);b=Fa[b]||null;E(a.a);for(d=[];")"!=z(a.a);){T(a,"Missing function argument list.");d.push(Aa(a));if(","!=z(a.a))break;E(a.a)}T(a,"Unclosed function argument list.");eb(a);b=new ra(b,d)}else{b=null;break a}else b=new ua(+E(a.a))}"["==z(a.a)&&(d=new xa(ib(a)),b=new qa(b,d))}if(b)if(Ha(z(a.a)))d=b;else return b;else b=La(a,"/"),d=new wa,c.push(b)}for(;Ha(z(a.a));)b=
E(a.a),T(a,"Missing next location step."),b=La(a,b),c.push(b);return new va(d,c)}function La(a,b){var c,d,e;if("/"!=b&&"//"!=b)throw Error('Step op should be "/" or "//"');if("."==z(a.a))return d=new ea(yb,new X("node")),E(a.a),d;if(".."==z(a.a))return d=new ea(zb,new X("node")),E(a.a),d;var f;if("@"==z(a.a))f=bb,E(a.a),T(a,"Missing attribute name");else if("::"==z(a.a,1)){if(!/(?![0-9])[\w]/.test(z(a.a).charAt(0)))throw Error("Bad token: "+E(a.a));c=E(a.a);f=Ja[c]||null;if(!f)throw Error("No axis with name: "+
c);E(a.a);T(a,"Missing node name")}else f=jb;c=z(a.a);if(/(?![0-9])[\w]/.test(c.charAt(0)))if("("==z(a.a,1)){if(!Ga(c))throw Error("Invalid node type: "+c);c=E(a.a);if(!Ga(c))throw Error("Invalid type name: "+c);Ka(a,"(");T(a,"Bad nodetype");e=z(a.a).charAt(0);var g=null;if('"'==e||"'"==e)g=fb(a);T(a,"Bad nodetype");eb(a);c=new X(c,g)}else c=gb(a);else if("*"==c)c=gb(a);else throw Error("Bad token: "+E(a.a));e=new xa(ib(a),f.a);return d||new ea(f,c,e,"//"==b)}function ib(a){for(var b=[];"["==z(a.a);){E(a.a);
T(a,"Missing predicate expression.");var c=Aa(a);b.push(c);T(a,"Unclosed predicate expression.");Ka(a,"]")}return b}function db(a){if("-"==z(a.a))return E(a.a),new ya(db(a));var b=hb(a);if("|"!=z(a.a))a=b;else{for(b=[b];"|"==E(a.a);)T(a,"Missing next union location path."),b.push(hb(a));a.a.a--;a=new za(b)}return a}function kb(a,c){if(!a.length)throw Error("Empty XPath expression.");var e=O(a);if(W(e))throw Error("Invalid XPath expression.");c?"function"==d(c)||(c=h(c.lookupNamespaceURI,c)):c=b(null);
var f=Aa(new xb(e,c));if(!W(e))throw Error("Bad token: "+E(e));this.evaluate=function(a,b){var c=f.a(new r(a));return new V(c,b)}}function V(a,b){if(0==b)if(a instanceof B)b=4;else if("string"==typeof a)b=2;else if("number"==typeof a)b=1;else if("boolean"==typeof a)b=3;else throw Error("Unexpected evaluation result.");if(2!=b&&1!=b&&3!=b&&!(a instanceof B))throw Error("value could not be converted to the specified type");this.resultType=b;var c;switch(b){case 2:this.stringValue=a instanceof B?pa(a):
""+a;break;case 1:this.numberValue=a instanceof B?+pa(a):+a;break;case 3:this.booleanValue=a instanceof B?0<a.i:!!a;break;case 4:case 5:case 6:case 7:var d=da(a);c=[];for(var e=K(d);e;e=K(d))c.push(e instanceof p?e.a:e);this.snapshotLength=a.i;this.invalidIteratorState=!1;break;case 8:case 9:d=I(a);this.singleNodeValue=d instanceof p?d.a:d;break;default:throw Error("Unknown XPathResult type.");}var f=0;this.iterateNext=function(){if(4!=b&&5!=b)throw Error("iterateNext called with wrong result type");
return f>=c.length?null:c[f++]};this.snapshotItem=function(a){if(6!=b&&7!=b)throw Error("snapshotItem called with wrong result type");return a>=c.length||0>a?null:c[a]}}function Ab(a){this.lookupNamespaceURI=Da(a)}function lb(a){a=a||aa;var b=a.document;b.evaluate||(a.XPathResult=V,b.evaluate=function(a,b,c,d){return(new kb(a,c)).evaluate(b,d)},b.createExpression=function(a,b){return new kb(a,b)},b.createNSResolver=function(a){return new Ab(a)})}var aa=this;Function.prototype.bind=Function.prototype.bind||
function(a,b){if(1<arguments.length){var c=Array.prototype.slice.call(arguments,1);c.unshift(this,a);return h.apply(null,c)}return h(this,a)};var P=Array.prototype,Bb=P.indexOf?function(a,b,c){return P.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(e(a))return e(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Z=P.forEach?function(a,b,c){P.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=e(a)?a.split(""):a,g=0;g<
d;g++)g in f&&b.call(c,f[g],g,a)},Ta=P.filter?function(a,b,c){return P.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=[],g=0,l=e(a)?a.split(""):a,h=0;h<d;h++)if(h in l){var q=l[h];b.call(c,q,h,a)&&(f[g++]=q)}return f},ja=P.reduce?function(a,b,c,d){d&&(b=h(b,d));return P.reduce.call(a,b,c)}:function(a,b,c,d){var e=c;Z(a,function(c,f){e=b.call(d,e,c,f,a)});return e},sa=P.some?function(a,b,c){return P.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=e(a)?a.split(""):a,g=0;g<d;g++)if(g in
f&&b.call(c,f[g],g,a))return!0;return!1},ga;a:{var mb=aa.navigator;if(mb){var nb=mb.userAgent;if(nb){ga=nb;break a}}ga=""}var Cb=x("Opera")||x("OPR"),Q=x("Trident")||x("MSIE"),Ma=x("Gecko")&&-1==ga.toLowerCase().indexOf("webkit")&&!(x("Trident")||x("MSIE")),Db=-1!=ga.toLowerCase().indexOf("webkit"),Oa=function(){var a="",b;if(Cb&&aa.opera)return a=aa.opera.version,"function"==d(a)?a():a;Ma?b=/rv\:([^\);]+)(\)|;)/:Q?b=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:Db&&(b=/WebKit\/(\S+)/);b&&(a=(a=b.exec(ga))?
a[1]:"");return Q&&(b=y(),b>parseFloat(a))?String(b):a}(),Na={},ob=aa.document,oa=ob&&Q?y()||("CSS1Compat"==ob.compatMode?parseInt(Oa,10):5):void 0,Y=Q&&!(Q&&9<=oa),Pa=Q&&!(Q&&8<=oa),qb=RegExp("\\$?(?:(?![0-9-])[\\w-]+:)?(?![0-9-])[\\w-]+|\\/\\/|\\.\\.|::|\\d+(?:\\.\\d*)?|\\.\\d+|\"[^\"]*\"|'[^']*'|[!<>]=|\\s+|.","g"),rb=/^\s/;!Ma&&!Q||Q&&Q&&9<=oa||Ma&&m("1.9.1");Q&&m("9");q(ka);ka.prototype.a=function(a){return this.c.k(this.e,this.j,a)};ka.prototype.toString=function(){var a="Binary Expression: "+
this.c,a=a+L(this.e);return a+L(this.j)};$a.prototype.toString=a("a");var Ea={};R("div",6,1,function(a,b,c){return N(a,c)/N(b,c)});R("mod",6,1,function(a,b,c){return N(a,c)%N(b,c)});R("*",6,1,function(a,b,c){return N(a,c)*N(b,c)});R("+",5,1,function(a,b,c){return N(a,c)+N(b,c)});R("-",5,1,function(a,b,c){return N(a,c)-N(b,c)});R("<",4,2,function(a,b,c){return ia(function(a,b){return a<b},a,b,c)});R(">",4,2,function(a,b,c){return ia(function(a,b){return a>b},a,b,c)});R("<=",4,2,function(a,b,c){return ia(function(a,
b){return a<=b},a,b,c)});R(">=",4,2,function(a,b,c){return ia(function(a,b){return a>=b},a,b,c)});var wb=R("=",3,2,function(a,b,c){return ia(function(a,b){return a==b},a,b,c,!0)});R("!=",3,2,function(a,b,c){return ia(function(a,b){return a!=b},a,b,c,!0)});R("and",2,2,function(a,b,c){return ha(a,c)&&ha(b,c)});R("or",1,2,function(a,b,c){return ha(a,c)||ha(b,c)});q(qa);qa.prototype.a=function(a){a=this.c.a(a);return Ia(this.e,a)};qa.prototype.toString=function(){return"Filter:"+L(this.c)+L(this.e)};
q(ra);ra.prototype.a=function(a){return this.e.k.apply(null,k(a,this.c))};ra.prototype.toString=function(){var a="Function: "+this.e;if(this.c.length)var b=ja(this.c,function(a,b){return a+L(b)},"Arguments:"),a=a+L(b);return a};ab.prototype.toString=a("h");var Fa={};F("boolean",2,!1,!1,function(a,b){return ha(b,a)},1);F("ceiling",1,!1,!1,function(a,b){return Math.ceil(N(b,a))},1);F("concat",3,!1,!1,function(a,b){var c=s(arguments,1);return ja(c,function(b,c){return b+M(c,a)},"")},2,null);F("contains",
2,!1,!1,function(a,b,c){b=M(b,a);a=M(c,a);return-1!=b.indexOf(a)},2);F("count",1,!1,!1,function(a,b){return b.a(a).i},1,1,!0);F("false",2,!1,!1,b(!1),0);F("floor",1,!1,!1,function(a,b){return Math.floor(N(b,a))},1);F("id",4,!1,!1,function(a,b){function c(a){if(Y){var b=e.all[a];if(b){if(b.nodeType&&a==b.id)return b;if(b.length)return n(b,function(b){return a==b.id})}return null}return e.getElementById(a)}var d=a.a,e=9==d.nodeType?d:d.ownerDocument,d=M(b,a).split(/\s+/),f=[];Z(d,function(a){a=c(a);
!a||0<=Bb(f,a)||f.push(a)});f.sort(w);var g=new B;Z(f,function(a){H(g,a)});return g},1);F("lang",2,!1,!1,b(!1),1);F("last",1,!0,!1,function(a){if(1!=arguments.length)throw Error("Function last expects ()");return a.d},0);F("local-name",3,!1,!0,function(a,b){var c=b?I(b.a(a)):a.a;return c?c.localName||c.nodeName.toLowerCase():""},0,1,!0);F("name",3,!1,!0,function(a,b){var c=b?I(b.a(a)):a.a;return c?c.nodeName.toLowerCase():""},0,1,!0);F("namespace-uri",3,!0,!1,b(""),0,1,!0);F("normalize-space",3,!1,
!0,function(a,b){return(b?M(b,a):J(a.a)).replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},0,1);F("not",2,!1,!1,function(a,b){return!ha(b,a)},1);F("number",1,!1,!0,function(a,b){return b?N(b,a):+J(a.a)},0,1);F("position",1,!0,!1,function(a){return a.b},0);F("round",1,!1,!1,function(a,b){return Math.round(N(b,a))},1);F("starts-with",2,!1,!1,function(a,b,c){b=M(b,a);a=M(c,a);return 0==b.lastIndexOf(a,0)},2);F("string",3,!1,!0,function(a,b){return b?M(b,a):J(a.a)},0,1);F("string-length",1,!1,!0,function(a,
b){return(b?M(b,a):J(a.a)).length},0,1);F("substring",3,!1,!1,function(a,b,c,d){c=N(c,a);if(isNaN(c)||Infinity==c||-Infinity==c)return"";d=d?N(d,a):Infinity;if(isNaN(d)||-Infinity===d)return"";c=Math.round(c)-1;var e=Math.max(c,0);a=M(b,a);if(Infinity==d)return a.substring(e);b=Math.round(d);return a.substring(e,c+b)},2,3);F("substring-after",3,!1,!1,function(a,b,c){b=M(b,a);a=M(c,a);c=b.indexOf(a);return-1==c?"":b.substring(c+a.length)},2);F("substring-before",3,!1,!1,function(a,b,c){b=M(b,a);a=
M(c,a);a=b.indexOf(a);return-1==a?"":b.substring(0,a)},2);F("sum",1,!1,!1,function(a,b){for(var c=da(b.a(a)),d=0,e=K(c);e;e=K(c))d+=+J(e);return d},1,1,!0);F("translate",3,!1,!1,function(a,b,c,d){b=M(b,a);c=M(c,a);var e=M(d,a);a=[];for(d=0;d<c.length;d++){var f=c.charAt(d);f in a||(a[f]=e.charAt(d))}c="";for(d=0;d<b.length;d++)f=b.charAt(d),c+=f in a?a[f]:f;return c},3);F("true",2,!1,!1,b(!0),0);X.prototype.a=function(a){return null===this.b||this.b==a.nodeType};X.prototype.d=a("e");X.prototype.toString=
function(){var a="Kind Test: "+this.e;null===this.c||(a+=L(this.c));return a};q(ta);ta.prototype.a=a("c");ta.prototype.toString=function(){return"Literal: "+this.c};fa.prototype.a=function(a){var b=a.nodeType;return 1!=b&&2!=b?!1:"*"!=this.h&&this.h!=a.nodeName.toLowerCase()?!1:this.c==(a.namespaceURI?a.namespaceURI.toLowerCase():"http://www.w3.org/1999/xhtml")};fa.prototype.d=a("h");fa.prototype.toString=function(){return"Name Test: "+("http://www.w3.org/1999/xhtml"==this.c?"":this.c+":")+this.h};
q(ua);ua.prototype.a=a("c");ua.prototype.toString=function(){return"Number: "+this.c};q(va);q(la);la.prototype.a=function(a){var b=new B;a=a.a;9==a.nodeType?H(b,a):H(b,a.ownerDocument);return b};la.prototype.toString=b("Root Helper Expression");q(wa);wa.prototype.a=function(a){var b=new B;H(b,a.a);return b};wa.prototype.toString=b("Context Helper Expression");va.prototype.a=function(a){var b=this.e.a(a);if(!(b instanceof B))throw Error("Filter expression must evaluate to nodeset.");a=this.c;for(var c=
0,d=a.length;c<d&&b.i;c++){var e=a[c],f=da(b,e.c.a),g;if(e.f||e.c!=Eb)if(e.f||e.c!=Fb)for(g=K(f),b=e.a(new r(g));null!=(g=K(f));)g=e.a(new r(g)),b=Ca(b,g);else g=K(f),b=e.a(new r(g));else{for(g=K(f);(b=K(f))&&(!g.contains||g.contains(b))&&b.compareDocumentPosition(g)&8;g=b);b=e.a(new r(g))}}return b};va.prototype.toString=function(){var a;a="Path Expression:"+L(this.e);if(this.c.length){var b=ja(this.c,function(a,b){return a+L(b)},"Steps:");a+=L(b)}return a};xa.prototype.toString=function(){return ja(this.a,
function(a,b){return a+L(b)},"Predicates:")};q(ea);ea.prototype.a=function(a){var b=a.a,c=null,c=this.d,d=null,e=null,f=0;c&&(d=c.name,e=c.l?M(c.l,a):null,f=1);if(this.m)if(this.f||this.c!=jb)if(a=da((new ea(Gb,new X("node"))).a(a)),b=K(a))for(c=this.k(b,d,e,f);null!=(b=K(a));)c=Ca(c,this.k(b,d,e,f));else c=new B;else c=ca(this.j,b,d,e),c=Ia(this.e,c,f);else c=this.k(a.a,d,e,f);return c};ea.prototype.k=function(a,b,c,d){a=this.c.d(this.j,a,b,c);return Ia(this.e,a,d)};ea.prototype.toString=function(){var a;
a="Step:"+L("Operator: "+(this.m?"//":"/"));this.c.h&&(a+=L("Axis: "+this.c));a+=L(this.j);if(this.e.a.length){var b=ja(this.e.a,function(a,b){return a+L(b)},"Predicates:");a+=L(b)}return a};cb.prototype.toString=a("h");var Ja={};S("ancestor",function(a,b){for(var c=new B,d=b;d=d.parentNode;)a.a(d)&&D(c,d);return c},!0);S("ancestor-or-self",function(a,b){var c=new B,d=b;do a.a(d)&&D(c,d);while(d=d.parentNode);return c},!0);var bb=S("attribute",function(a,b){var c=new B,d=a.d();if("style"==d&&b.style&&
Y)return H(c,new p(b.style,b,"style",b.style.cssText)),c;var e=b.attributes;if(e)if(a instanceof X&&null===a.b||"*"==d)for(var d=0,f;f=e[d];d++)Y?f.nodeValue&&H(c,G(b,f)):H(c,f);else(f=e.getNamedItem(d))&&(Y?f.nodeValue&&H(c,G(b,f)):H(c,f));return c},!1),jb=S("child",function(a,b,c,d,f){return(Y?ub:Ua).call(null,a,b,e(c)?c:null,e(d)?d:null,f||new B)},!1,!0);S("descendant",ca,!1,!0);var Gb=S("descendant-or-self",function(a,b,c,d){var e=new B;ba(b,c,d)&&a.a(b)&&H(e,b);return ca(a,b,c,d,e)},!1,!0),Eb=
S("following",function(a,b,c,d){var e=new B;do for(var f=b;f=f.nextSibling;)ba(f,c,d)&&a.a(f)&&H(e,f),e=ca(a,f,c,d,e);while(b=b.parentNode);return e},!1,!0);S("following-sibling",function(a,b){for(var c=new B,d=b;d=d.nextSibling;)a.a(d)&&H(c,d);return c},!1);S("namespace",function(){return new B},!1);var zb=S("parent",function(a,b){var c=new B;if(9==b.nodeType)return c;if(2==b.nodeType)return H(c,b.ownerElement),c;var d=b.parentNode;a.a(d)&&H(c,d);return c},!1),Fb=S("preceding",function(a,b,c,d){var e=
new B,f=[];do f.unshift(b);while(b=b.parentNode);for(var g=1,l=f.length;g<l;g++){var h=[];for(b=f[g];b=b.previousSibling;)h.unshift(b);for(var q=0,r=h.length;q<r;q++)b=h[q],ba(b,c,d)&&a.a(b)&&H(e,b),e=ca(a,b,c,d,e)}return e},!0,!0);S("preceding-sibling",function(a,b){for(var c=new B,d=b;d=d.previousSibling;)a.a(d)&&D(c,d);return c},!0);var yb=S("self",function(a,b){var c=new B;a.a(b)&&H(c,b);return c},!1);q(ya);ya.prototype.a=function(a){return-N(this.c,a)};ya.prototype.toString=function(){return"Unary Expression: -"+
L(this.c)};q(za);za.prototype.a=function(a){var b=new B;Z(this.c,function(c){c=c.a(a);if(!(c instanceof B))throw Error("Path expression must evaluate to NodeSet.");b=Ca(b,c)});return b};za.prototype.toString=function(){return ja(this.c,function(a,b){return a+L(b)},"Union Expression:")};V.ANY_TYPE=0;V.NUMBER_TYPE=1;V.STRING_TYPE=2;V.BOOLEAN_TYPE=3;V.UNORDERED_NODE_ITERATOR_TYPE=4;V.ORDERED_NODE_ITERATOR_TYPE=5;V.UNORDERED_NODE_SNAPSHOT_TYPE=6;V.ORDERED_NODE_SNAPSHOT_TYPE=7;V.ANY_UNORDERED_NODE_TYPE=
8;V.FIRST_ORDERED_NODE_TYPE=9;var ma=["wgxpath","install"],$=aa;ma[0]in $||!$.execScript||$.execScript("var "+ma[0]);for(var na;ma.length&&(na=ma.shift());)ma.length||void 0===lb?$[na]?$=$[na]:$=$[na]={}:$[na]=lb})();(function(){var c={exports:{}};(function(a){function c(a){return Array.prototype.slice.call(a,0)}function e(a,b){var e=this;return function(){var f=c(arguments),g=this;setTimeout(function(){g[b].apply(e,f)},a)}}function f(){var a=this,b=function(){a._lastResult=c(arguments);u.call(a,
n.FULFILLED);null!==a._handlers.done?a._handlers.done.apply(a,a._lastResult):r.call(a)};return{fulfill:b,resolve:b,reject:function(){a._lastResult=c(arguments);null!==a._handlers.fail?g.apply(a,a._lastResult):(u.call(a,n.REJECTED),r.call(a))}}}function g(){var a=c(arguments);u.call(this,n.REJECTED);if(null!==this._handlers.fail)this._handlers.fail.apply(this,a);else if(null!==this._handlers.nextCommitment)g.apply(this._handlers.nextCommitment,a);else{if(1===a.length&&a[0]instanceof Error)throw a[0];
throw Error("Could not chain to failure handler");}}function h(){this.then=function(){throw Error("Commitment is locked: unable to chain. This may be because either done() or fail() has been called.");}}function l(a){var b=f.call(this);if(a===n.FULFILLED)null!==this._handlers.fulfillment?q.call(this,this._handlers.fulfillment,b,"resolve"):(u.call(this,n.FULFILLED),r.call(this));else if(a===n.REJECTED)null!==this._handlers.rejection?q.call(this,this._handlers.rejection,b,"reject"):null===this._handlers.rejection&&
null!==this._handlers.fail?g.apply(this,this._lastResult):(u.call(this,n.REJECTED),r.call(this));else throw Error("Invalid commitment state: unable to run next commitment");}function q(a,b,c){var d=this;setTimeout(function(){var e,f=!1;try{e=a.apply(b,d._lastResult)}catch(l){f=l}f?g.call(d,f):void 0!==e&&b[c].call(d,e)},1)}function r(a){a=a||this._lastResult;null!==this._handlers.nextCommitment&&(this._handlers.nextCommitment._lastResult=a,l.call(this._handlers.nextCommitment,this._state))}function u(a){if(this._state!==
n.PENDING)throw Error("Cannot fulfill/reject: commitment not in pending state");this._state=a}var n={PENDING:100,FULFILLED:200,REJECTED:300},k=function(){this._state=n.PENDING;this._handlers={fulfillment:null,rejection:null,done:null,fail:null,nextCommitment:null};this._type="then";this._lastResult=[];this._chainIndex=0};k.prototype.all=function(){var a=c(arguments),b=a.length;if(0>=b)throw Error("Must pass at least one function/commitment to all");for(var e=[],f=0;f<b;f+=1){var g=a[f];if(!0!==g instanceof
k){var h=new k;h._handlers.fulfillment=g;g=h}e.push(g)}var a=new k,q=e.length,r=this;a._handlers.fulfillment=function(){for(var a=c(arguments),b=a.length,f=0,g=!1,h=[],s=this,u=0,J=0;J<q;J+=1){var n=0<b?a[u]:[];"[object Array]"!==Object.prototype.toString.call(n)&&(n=[n]);u+=1;u>=b&&(u=0);e[J]._lastResult=n;l.call(e[J],r._state);var ca=function(){f===q&&(!0===g?s.reject():s.resolve.apply(s,h))};e[J].then(function(){f+=1;h.push(c(arguments));ca()},function(){f+=1;g=!0;ca()})}};a._type="all";return this.then(a)};
k.prototype.delay=function(a){var b=new k;b._handlers.fulfillment=e.call(b,a,"resolve");b._handlers.rejection=e.call(b,a,"reject");return this.then(b)};k.prototype.done=function(a){if(null!==this._handlers.nextCommitment)throw Error("Cannot add done handler: not at the end of the chain");if(null!==this._handlers.done)throw Error("Cannot add done handler: one is already specified");this._handlers.done=a;h.call(this);return this};k.prototype.fail=function(a){if(null!==this._handlers.nextCommitment)throw Error("Cannot add fail handler: not at the end of the chain");
if(null!==this._handlers.fail)throw Error("Cannot add fail handler: one is already specified");this._handlers.fail=a;h.call(this);return this};k.prototype.isPending=function(){return this._state==n.PENDING};k.prototype.then=function(){var a=c(arguments),b=a.length;if(null!==this._handlers.nextCommitment)throw Error("Cannot add commitment: not at the end of the chain");if(null!==this._handlers.done||null!==this._handlers.fail)throw Error("Cannot add commitment: done/fail handlers already set (end of chain)");
var e=new k;if(1===b&&a[0]instanceof k)e=a[0];else if(1===b&&"function"===typeof a[0]){if("function"!==typeof a[0])throw Error("Fulfillment handler must be a function");e._handlers.fulfillment=a[0]}else if(2===b){if("function"!==typeof a[1])throw Error("Both handlers must be functions");e._handlers.fulfillment=a[0];e._handlers.rejection=a[1]}e._chainIndex=this._chainIndex+1;this._handlers.nextCommitment=e;this.isPending()||r.call(this);return this._handlers.nextCommitment};a.JSCommitment={};a.JSCommitment.classes=
{JSCommitment:k};a.JSCommitment.startWith=function(){var a=c(arguments),b=new k;b._lastResult=a;l.call(b,n.FULFILLED);return b};a.JSCommitment.then=function(){var a=c(arguments),b=a.length,e=new k;0<b&&(e=e.then.apply(e,a));l.call(e,n.FULFILLED);return e}})("object"===typeof c&&c.exports?c.exports:window);a.External=c.exports})();a.Commitment=a.External.JSCommitment;(function(a,b){function d(a){s[k]=e.apply(b,a);return k++}function e(a){var c=[].slice.call(arguments,1);return function(){"function"===
typeof a?a.apply(b,c):(new Function(""+a))()}}function f(a){if(m)setTimeout(e(f,a),0);else{var b=s[a];if(b){m=!0;try{b()}finally{g(a),m=!1}}}}function g(a){delete s[a]}function h(){p=function(){var a=d(arguments);process.nextTick(e(f,a));return a}}function l(){if(a.postMessage&&!a.importScripts){var b=!0,d=a.onmessage;a.onmessage=function(){b=!1};a.postMessage("","*");a.onmessage=d;return b}}function q(){var b="setImmediate$"+Math.random()+"$",e=function(d){d.source===a&&"string"===typeof d.data&&
0===d.data.indexOf(b)&&f(+d.data.slice(b.length))};a.addEventListener?a.addEventListener("message",e,!1):a.attachEvent("onmessage",e);p=function(){var e=d(arguments);a.postMessage(b+e,"*");return e}}function r(){var a=new MessageChannel;a.port1.onmessage=function(a){f(a.data)};p=function(){var b=d(arguments);a.port2.postMessage(b);return b}}function u(){var a=y.documentElement;p=function(){var b=d(arguments),c=y.createElement("script");c.onreadystatechange=function(){f(b);c.onreadystatechange=null;
a.removeChild(c);c=null};a.appendChild(c);return b}}function n(){p=function(){var a=d(arguments);setTimeout(e(f,a),0);return a}}if(!a.setImmediate){var k=1,s={},m=!1,y=a.document,p,A=Object.getPrototypeOf&&Object.getPrototypeOf(a),A=A&&A.setTimeout?A:a;"[object process]"==={}.toString.call(a.process)?h():l()?q():a.MessageChannel?r():y&&"onreadystatechange"in y.createElement("script")?u():n();A.setImmediate=p;A.clearImmediate=g}})((new Function("return this"))());(function(a){function b(a,b){return function(){a.apply(b,
arguments)}}function d(a){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof a)throw new TypeError("not a function");this._value=this._state=null;this._deferreds=[];q(a,b(f,this),b(g,this))}function e(a){var b=this;null===this._state?this._deferreds.push(a):r(function(){var c=b._state?a.onFulfilled:a.onRejected;if(null===c)(b._state?a.resolve:a.reject)(b._value);else{var d;try{d=c(b._value)}catch(e){a.reject(e);return}a.resolve(d)}})}function f(a){try{if(a===
this)throw new TypeError("A promise cannot be resolved with itself.");if(a&&("object"===typeof a||"function"===typeof a)){var c=a.then;if("function"===typeof c){q(b(c,a),b(f,this),b(g,this));return}}this._state=!0;this._value=a;h.call(this)}catch(d){g.call(this,d)}}function g(a){this._state=!1;this._value=a;h.call(this)}function h(){for(var a=0,b=this._deferreds.length;a<b;a++)e.call(this,this._deferreds[a]);this._deferreds=null}function l(a,b,c,d){this.onFulfilled="function"===typeof a?a:null;this.onRejected=
"function"===typeof b?b:null;this.resolve=c;this.reject=d}function q(a,b,c){var d=!1;try{a(function(a){d||(d=!0,b(a))},function(a){d||(d=!0,c(a))})}catch(e){d||(d=!0,c(e))}}var r=d.immediateFn||"function"===typeof setImmediate&&setImmediate||function(a){setTimeout(a,1)},u=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};d.prototype["catch"]=function(a){return this.then(null,a)};d.prototype.then=function(a,b){var c=this;return new d(function(d,f){e.call(c,new l(a,
b,d,f))})};d.all=function(){var a=Array.prototype.slice.call(1===arguments.length&&u(arguments[0])?arguments[0]:arguments);return new d(function(b,c){function d(f,g){try{if(g&&("object"===typeof g||"function"===typeof g)){var l=g.then;if("function"===typeof l){l.call(g,function(a){d(f,a)},c);return}}a[f]=g;0===--e&&b(a)}catch(h){c(h)}}if(0===a.length)return b([]);for(var e=a.length,f=0;f<a.length;f++)d(f,a[f])})};d.resolve=function(a){return a&&"object"===typeof a&&a.constructor===d?a:new d(function(b){b(a)})};
d.reject=function(a){return new d(function(b,c){c(a)})};d.race=function(a){return new d(function(b,c){for(var d=0,e=a.length;d<e;d++)a[d].then(b,c)})};"undefined"!==typeof module&&module.exports?module.exports=d:a.Promise||(a.Promise=d)})(this);(function(){var c={exports:{}},b;"undefined"!==typeof c?b=c:(window.IOW={},b=window.IOW);(function(b){b.exports=function(b,c,d,h,l,q){(function(r){function u(){var a=this;a.stack={};a.displayAd=function(){};a.requestAds=function(b){var c=r[r.libServingName__];
if(0===(b||{}).sectionId||(b||{}).sectionId)try{c.requestAds.call(c,b)}catch(d){a.stack[b.sectionId+""]=b}}}function n(){function r(b){function c(a){m("server request sent: "+a.sectionId);var b,e,f;f=d.generateAdServerUrl(a);m("Ad server full URL: "+f);if(!0===d.isSyncMode(a.sectionId))return a='<script type="text/javascript" src="{{url}}">\x3c/script>'.replace("{{url}}",f),document.write(a),!0;b=document.createElement("script");b.async=!0;b.type="text/javascript";b.src=f;e=document.getElementsByTagName("script")[0];
d.isPresto()?setTimeout(function(){e.parentNode.insertBefore(b,e)},0):e.parentNode.insertBefore(b,e);return!0}var d=this;this.globalPart=b;this.displayedAds={};this.serverSlotsDef={};this.adRenderer=new u(this);this.dmpIsLoading=!1;this.segments=[];this.dmpParams={};this.dmpFinishCallbackFns={};this.dmpExpireTimers=[];this.maxDmpTime=200;this.pid=this.genPageId();this.globalPart.displayAd=function(a,b,c){var e=c;c||(e=d.getSlotDefById(a,b));d.notEmptyVar(a)&&d.serverSlotsDef&&e&&!d.slotIsDisplayed(e)&&
d.adRenderer.renderSlot(e)&&d.setSlotIsDisplayed(!0,e)};this.displayAd=this.globalPart.displayAd;this.globalPart.processDmp=function(a,b){d.dmpIsLoading=!1;d.isDmpProcessed=!0;var c={},e=["gender_age","home_location","occupation","work_location"],f,g;f=!0;d.isArray(a)?(g=a,f=!1):a&&d.isArray(a.segments)&&(g=a.segments);if(c&&f)for(var l=0;l<e.length;l++)f=e[l],a.hasOwnProperty(f)&&(c[f]=a[f]);d.segments=g;d.dmpParams=c;d.onDmpProcessed()};this.processDmp=this.processDmp=this.globalPart.processDmp;
this.processStack=function(){window.__ASL_USE_DMP&&!d.dmpIsLoading&&!d.dmpIsLoading&&C(!!window.__ASL_DMP_SYNC);var a=this.globalPart&&this.globalPart.stack||{},b;for(b in a)a.hasOwnProperty(b+"")&&(b=parseInt(b,10),this.requestAds(a[b]),delete a[b])};this.requestAds=this.requestAds=function(a){a=a||{};var b;delete d.displayedAds[a.sectionId];delete d.serverSlotsDef[a.sectionId];this.sectionInfo[a.sectionId]=a;a.dmp&&!d.isDmpProcessed?(m("set callback"),!d.dmpIsLoading&&C(a.sync),b=a.sectionId,d.dmpFinishCallbackFns[b]=
d.requestAdServiceData.bind(d,a),a.sync||d.dmpExpireTimers.push(setTimeout(this.onDmpExpire.bind(this,b,a),this.maxDmpTime))):(a.dmp&&m("make a call"),this.requestAdServiceData(a))};this.onDmpExpire=function(a,b){m("DMP expire callback is called");d.dmpFinishCallbackFns=d.dmpFinishCallbackFns||{};a in d.dmpFinishCallbackFns&&delete d.dmpFinishCallbackFns[a];d.requestAdServiceData(b)};this.requestAdServiceData=function(a){var b=window.__DMP_RESULT;a.dmp?b&&!d.isDmpProcessed?d.processDmp(b.r1,b.r2,
a):c(a):c(a)};this.onDmpProcessed=function(){var a,b;for(a in d.dmpFinishCallbackFns)b=d.dmpFinishCallbackFns[a],d.dmpFinishCallbackFns.hasOwnProperty(a)&&"function"===typeof b&&b.call();d.dmpExpireTimers=d.dmpExpireTimers||[];a=0;for(b=d.dmpExpireTimers.length;a<b;a++)clearTimeout(d.dmpExpireTimers[a])};window[W]=function(b){var c,e,f,g={};d.serverSlotsDef=d.serverSlotsDef||{};for(var l=0,h=b.length;l<h;l++)c=b[l],e=v+c.id+"_"+c.section_id+"_"+c.suid,f=c.size,d.notEmptyVar(f)&&(f=f.split(d.sizeDelimiter)),
e={slotId:e,sectionId:c.section_id,data:c.data,type:c.type||"",size:f,isRich:!!c.is_rich,suid:c.suid,plc:c.plc},g[c.section_id]=g[c.section_id]||[],g[c.section_id].push(e),d.serverSlotsDef[e.sectionId]=d.serverSlotsDef[e.sectionId]||{},d.serverSlotsDef[e.sectionId][e.slotId]=e;for(var q in g)g.hasOwnProperty(q)&&a.IOWManager.getSharedInstance().getProxy().processSlotsResponse(q,g[q])};this.generateAdServerUrl=function(a){a=a||{};if(a.sectionId){var b="https:"===document.location.protocol,c,e,f=[],
g=this.getLang();e="section_id handler_name tz fl click3rd seg is_secure ord pid".split(" ");c=E.replace(/^http:|^https:|\?$/im,"");c=(b?"https:":"http:")+c;b=["section_id="+a.sectionId,"handler_name="+W,"tz="+(new Date).getTimezoneOffset(),"fl="+d.getFlashVersion(),"is_secure="+(b?1:0),"pid="+d.pid,"plc="+a.plc,"suid="+a.suid,"ab_test_value="+a.ab_test_value,"url="+encodeURIComponent(a.url),"device_family="+a.device_family];f=f.concat(b);f=d.addParams((this.sectionInfo[a.sectionId]||{}).custom,f,
e);a.dmp&&d.dmpParams&&(f=d.addParams(d.dmpParams,f,e));e=d.segments;"undefined"!==typeof e&&0<e.length&&f.push("seg="+e.join("_"));(a=(this.sectionInfo[a.sectionId]||{}).click3rd)&&f.push("click3rd="+a);!1!==g&&f.push("lang="+encodeURIComponent(g));return c+"?"+f.join("&")+"&ord="+Math.floor(1E13*Math.random())}};this.addParams=function(a,b,c){a=a||{};b=b||[];c=c||[];var e,f;a:for(f in a){e=0;for(var g=c.length;e<g;e++)if(c[e]+""===f+"")continue a;if(a.hasOwnProperty(f)){e=a[f];if(d.isArray(e)){for(g=
0;g<e.length;g++)b.push(f+"="+encodeURIComponent(e[g]));continue a}b.push(f+"="+encodeURIComponent(e))}}return b};this.getSlotDefById=function(a,b){d.serverSlotsDef=d.serverSlotsDef||{};var c;d.isDefined(b)||(c=a.split("_"),0<c.length&&(b=c[c.length-1]));return d.serverSlotsDef[b]&&d.serverSlotsDef[b][a]};this.setSlotIsDisplayed=function(a,b){if(d.isDefined(a))return d.displayedAds[b.sectionId]=d.displayedAds[b.sectionId]||{},a?d.displayedAds[b.sectionId][b.slotId]=!0:delete d.displayedAds[b.sectionId][b.slotId],
this};this.slotIsDisplayed=function(a){var b,c;c=a.sectionId;a=a.slotId;try{b=!!d.displayedAds[c][a]}catch(e){b=!1}return b};this.getLang=function(){for(var a=document.getElementsByTagName("meta"),b,c=!1,d=0;d<a.length;d++)if(b=!1,a[d]&&(b=a[d].getAttribute("http-equiv")||a[d].httpEquiv),b&&"content-language"===b.toLowerCase()){c=(c=a[d].getAttribute("content")||a[d].content)||!1;break}return c}}function u(a){var b=this;a instanceof r&&(this.adManager=a);this.renderSlot=function(a){var c=document.getElementById(a.slotId),
d,e,f;if(!c)return m("Not ready to render: "+a.slotId),!1;f=a.type;if("javascript"===f&&b.isSyncMode(a.sectionId))return e='<script type="text/javascript">'+a.data+"\x3c/script>",document.write(e),m("Filled content on: "+a.slotId+" with "+a.type+" content"),!0;d=b.prepareFrame(a);d.src="javascript:\"<html><body style='background:transparent;margin:0%;'></body></html>\"";c.innerHTML="";c.appendChild(d);switch(f){case "javascript":e='<html><body style=\'background:transparent;margin:0%;\'><script type="text/javascript">var inDapIF=true;\x3c/script><script type="text/javascript">'+
(0!==b.getIEVersion()?b.hexEncode(a.data):a.data)+"\x3c/script></body></html>";break;case "html":e=0!==b.getIEVersion()?b.hexEncode(a.data):a.data}c=b.isNetscape();0!==b.getIEVersion()||c?(d=window.frames[d.name],d.contents=e,d.location.replace(b.getFifLocationIE(a))):(d=d.contentWindow?d.contentWindow.document:d.contentDocument,-1!==navigator.userAgent.indexOf("Firefox")&&d.open("text/html","replace"),d.write(e),b.isPresto()||d.close());m("Filled content on: "+a.slotId+" with "+a.type+" content");
return!0};this.prepareFrame=function(a){var c=document.createElement("iframe"),d="border:none;",e=b.getFrameName(a.slotId);b.notEmptyVar(a.size[0])&&(d+="width:"+a.size[0]+"px;",c.width=a.size[0]);b.notEmptyVar(a.size[1])&&(d+="height:"+a.size[1]+"px;",c.height=a.size[1]);c.setAttribute("style",d);c.setAttribute("frameBorder","0");c.setAttribute("scrolling","no");c.name=e;c.id=e;return c};this.getFifLocationIE=function(a){return b.isNetscape()&&!b.isSyncMode(a.sectionId)?"javascript:document.write(window.contents);":
"javascript:window.contents"};this.getFrameName=function(a){return"fif_slot_"+v+"_"+a}}function k(){var a=this;this.sectionInfo={};this.sizeDelimiter="x";Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d?this:a,b.concat(Array.prototype.slice.call(arguments)))};
d.prototype=this.prototype;e.prototype=new d;return e});this.getFlashVersion=function(){var b=0,c;if(a.isDefined(navigator.plugins)&&"object"===typeof navigator.plugins["Shockwave Flash"])!(c=navigator.plugins["Shockwave Flash"].description)||a.isDefined(navigator.mimeTypes)&&navigator.mimeTypes["application/x-shockwave-flash"]&&!navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin||(c=c.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),b=parseInt(c.replace(/^(.*)\..*$/,"$1"),10));else if(a.isDefined(window.ActiveXObject))try{var d=
new ActiveXObject("ShockwaveFlash.ShockwaveFlash");d&&(c=d.GetVariable("$version"))&&(c=c.split(" ")[1].split(","),b=parseInt(c[0],10))}catch(e){}return b};this.getScreenSize=function(){var a=0,b=0;"number"===typeof window.innerHeight?(a=window.innerHeight,b=window.innerWidth):document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?(a=document.documentElement.clientHeight,b=document.documentElement.clientWidth):document.body&&(document.body.clientWidth||
document.body.clientHeight)&&(a=document.body.clientHeight,b=document.body.clientWidth);return{width:b,height:a}};this.isDefined=function(a){return"undefined"!==typeof a};this.notEmptyVar=function(b){return a.isDefined(b)&&null!==b&&""!==b+""};this.isSyncMode=function(b){return a.sectionInfo&&a.sectionInfo[b]&&a.sectionInfo[b].sync};this.getIEVersion=function(){var a=navigator.userAgent,b=a.indexOf("MSIE ");return-1===b?0:parseFloat(a.substring(b+5,a.indexOf(";",b)))};this.isNetscape=function(){var a=
navigator.userAgent;return null!==a.match(/\d\sNavigator\/\d/)||null!==a.match(/\d\sNetscape\/\d/)};this.isPresto=function(){return-1!==navigator.userAgent.indexOf("Opera")};this.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)};this.hexEncode=function(a){window.hexDic=window.hexDic||{};a+="";for(var b=[],c=window.hexDic,d=0;d<a.length;d++){var e=a.charAt(d),f=e.charCodeAt(0),g=d+1;if(31>f||127<f)e in c?e=c[e]:(f="&#x"+("000"+f.toString(16)).slice(-4)+";",e=c[e]=f);b[g]=
e}return b.join("")};this.genPageId=function(){return(this.genRandomInt(1E6,99999999)+this.genRandomString(20)+((new Date).getTime()+"").split("").reverse().join("")).slice(0,35)};this.genRandomInt=function(a,b){return Math.floor(Math.random()*(b-a+1))+a};this.genRandomString=function(a){var b;b="";a=a||0;if(0>a)return"";for(;0<a;)b+="1qwe8rty2uiop3a0sdf4ghjkl5z9xcv6bnm7MNBVCXZASDFGHJKLPOIUYTREWQ"[this.genRandomInt(0,61)],a--;return b}}function m(a){window.__SHOWAD_DEBUG&&"undefined"!==typeof console&&
console.info&&console.info(new Date," -> ",a.replace("http","htt_p"))}function p(){window.__DMP_PROCESSING_CALLBACK_FN=function(a,b){var c;window.__DMP_RESULT=window.__DMP_RESULT||{};c=window.__DMP_RESULT;c.r1=a;c.r2=b;(c=window[z])&&"function"===typeof c.processDmp&&c.processDmp.call(window,a,b);var d,e;"[object Array]"===G(a)?d=a:a&&G(a.segments)&&(d=a.segments);G(b)?e=b:a&&G(a.piggybacks)&&(e=a.piggybacks);t(e);if(!window.__ASL_DMP_NO_COOKIE&&d&&G(d)&&(e="seg_cookie_name",""!==e+"")){e+="";c=new Date;
c.setTime(c.getTime()+31536E6);c=c.toGMTString();var f="";if(0<d.length){for(var g=0;21>g&&g<d.length;g++)d[g]=("0000"+String(d[g])).slice(-5),f+="kskd_cookie_prefix"+g+"="+d[g]+"/";f=f.replace(/\,$/,"")}else f="kskd_cookie_prefix0=0";document.cookie=e+"="+escape(f)+"; expires="+c+"; path=/"}}}function t(a){if(a&&G(a)&&!(0>=a.length)){var b="cftdpb_"+Math.floor(1E13*Math.random()),c=document.createElement("iframe");c.id=b;c.style.display="none";c.onload=function(){for(var b=c.contentWindow.document,
d=0;d<a.length;d++)if("https:"===location.protocol&&(a[d].url=a[d].url.split("http:").join("https:")),"script"===a[d].type){var e=document.createElement("script");e.type="text/javascript";e.src=a[d].url;b.body.appendChild(e)}else"image"===a[d].type&&((new Image).src=a[d].url)};b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(c,b)}}function G(a){return"[object Array]"===Object.prototype.toString.call(a)}function C(a){if("function"===typeof window.__DMP_PROCESSING_CALLBACK_FN){w.dmpIsLoading=
!0;var b=("https:"===document.location.protocol?"https:":"http:")+"?dd_jsonp=__DMP_PROCESSING_CALLBACK_FN&dd_rft=je&oid=dmp_oid",c,d=0,b=b+("&src="+encodeURIComponent(location.href));document.referrer&&(b+="&ref="+encodeURIComponent(document.referrer));a:{c=0;for(var e=document.getElementsByTagName("meta"),f,g;c<e.length;c++)if(g=(f=e[c])&&f.getAttribute("name"),f=f&&f.getAttribute("content"),g&&"keywords"===(g+"").toLowerCase()&&f){c=0;for(e=(f||"").split(",");c<e.length;c++)e[c]=e[c].replace(/(^[\s]+)|([\s]+$)/g,
"");c=e;break a}c=[]}for(;d<c.length;d++)b+="&mtk="+encodeURIComponent(c[d]);for(;2E3<b.length;)b=b.split("&"),b.pop(),b=b.join("&");a?document.write('<script type="text/javascript" src="'+b+'">\x3c/script>'):O(b)}}function O(a){var b=document.createElement("script"),c=document.getElementsByTagName("script")[0];b.type="text/javascript";b.src=a;b.async=!0;-1!==navigator.userAgent.indexOf("Opera")?setTimeout(function(){c.parentNode.insertBefore(b,c)},0):c.parentNode.insertBefore(b,c)}var z=c;if("undefined"===
typeof window[z]){var E=d,W=h,v=l;if("undefined"===typeof window[q])throw Error("Failed initialising library");r.prototype=new k;r.prototype.constructor=r;u.prototype=r.prototype;u.prototype.constructor=u;var w=new r(window[q]);p();window[z]=w;w.processStack();setTimeout(b,1)}}r.libServingName__=c;r[q]=r[q]||new u;"undefined"===typeof r.__ASL_LIB_LOADED&&n();r.__ASL_LIB_LOADED=1})(window)}})(b);a._iowLib=c.exports})();(function(){a.Status=function(){if(!this instanceof a.Status)return new a.Status;
this._selectorsBin=[];this._selectors={};this._statuses={};return this};a.Status.prototype.addSelection=function(a,b){if("[object Array]"!==Object.prototype.toString.call(a))throw new TypeError("Expected array");var d=a.length;if(0>=d)throw Error("Empty options array");b||(b=a[0]);if(0>a.indexOf(b))throw Error("Default not in options array");for(var e=0;e<d;e+=1)if(this.statusExists(a[e]))throw Error("Cannot register status '"+a[e]+"' - already exists");for(var e=this._selectorsBin.push(a)-1,f=0;f<
d;f+=1)if(!0!==this.registerStatus(a[f],e))throw Error("Failed registering status: '"+a[f]+"'");this.set(b)};a.Status.prototype.is=function(a){var b=arguments.length;if(0<b){for(var d=0;d<b;d+=1)if(!this.statusSet(arguments[d]))return!1;return!0}return!1};a.Status.prototype.isNot=function(a){var b=arguments.length;if(0<b){for(var d=0;d<b;d+=1)if(this.statusSet(arguments[d]))return!1;return!0}return!1};a.Status.prototype.isSelector=function(a){return this.statusExists(a)&&-1<this._selectors[a]};a.Status.prototype.registerStatus=
function(a,b){if(null===b||void 0===b)b=-1;return"string"!==typeof a||this._selectors.hasOwnProperty(a)?!1:(this._selectors[a]=b,!0)};a.Status.prototype.set=function(a){var b=arguments.length;if(0<b)for(var d=0;d<b;d+=1)this.setStatus(arguments[d])};a.Status.prototype.setStatus=function(a){if(this.statusExists(a)){if(this.isSelector(a)){var b=this._selectorsBin[this._selectors[a]].slice(0);b.splice(b.indexOf(a),1);for(var d=b.length,e=0;e<d;e+=1)if(this._statuses.hasOwnProperty(b[e])&&(delete this._statuses[b[e]],
this._statuses[b[e]]))throw Error("Failed disabling status: '"+b[e]+"'");}}else this.registerStatus(a);this._statuses[a]=!0};a.Status.prototype.statusExists=function(a){return this._selectors.hasOwnProperty(a)};a.Status.prototype.statusSet=function(a){return this.statusExists(a)&&this._statuses[a]};a.Status.prototype.unset=function(a){var b=arguments.length;if(0<b){for(var d=!0,e=0;e<b;e+=1)!0!==this.unsetStatus(arguments[e])&&(d=!1);return d}return!1};a.Status.prototype.unsetStatus=function(a){if(this.statusExists(a)){if(this.isSelector(a))throw Error("Cannot unset optioned status: '"+
a+"'");delete this._statuses[a];if(this._statuses[a])throw Error("Failed disabling status: '"+a+"'");return!0}return!1}})();(function(){a.PubSub=a.PubSub||function(){this._topics={}};a.PubSub.prototype.publish=function(c,b,d){this._topics.hasOwnProperty(c)&&(b=b||null,a.tools.isset(d)||(d=!0),this._topics[c].forEach(function(a){d?setTimeout(function(){a(b)},1):a(b)}))};a.PubSub.prototype.removeAll=function(){this._topics={}};a.PubSub.prototype.subscribe=function(a,b){this._topics.hasOwnProperty(a)||
(this._topics[a]=[]);this._topics[a].push(b);var d=this;return{remove:function(){var a=d._topics.indexOf(b);0<=a&&d._topics.splice(a,1)}}}})();var n=a.tools=a.tools||{};a.tools.compatibility=a.tools.compatibility||function(){window.wgxpath?window.wgxpath.install():console.log("(Kiosked) Unable to install wgxPath!");(function(){for(var a=0,b=["webkit","moz"],d=0;d<b.length&&!window.requestAnimationFrame;++d)window.requestAnimationFrame=window[b[d]+"RequestAnimationFrame"],window.cancelAnimationFrame=
window[b[d]+"CancelAnimationFrame"]||window[b[d]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b,d){var g=(new Date).getTime(),h=Math.max(0,16-(g-a)),l=window.setTimeout(function(){b(g+h)},h);a=g+h;return l});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})})();return{bindFunction:function(a,b){if("function"!==typeof a)throw new TypeError("bindFunction - what is trying to be bound is not callable");var d=
Array.prototype.slice.call(arguments,2),e=function(){},f=function(){return a.apply(this instanceof e&&b?this:b,d.concat(Array.prototype.slice.call(arguments)))};e.prototype=a.prototype;f.prototype=new e;return f},checkDocumentQuerySelectorAll:function(){if(0>document.querySelectorAll.toString().indexOf("[native code]"))throw new a.Exceptions.NotSupportedException("Non-native document.querySelectorAll method detected, unable to perform any DOM-querying.");},enforcePrototypeMinimumVersion:function(c,
b){var d=n.compatibility.getPrototypeVersion();if(d){var e=d.split("."),f=parseInt(e[0],10),e=parseInt(e[1],10);if(f>=c&&e>=b)n.debug.log("/Compatibility/","Prototype detected: "+d);else throw new a.Exceptions.NotSupportedException("Prototype "+d+" detected. Versions below 1.7 are not supported.");}},getPrototypeVersion:function(){return window.Prototype&&window.Prototype.Version?window.Prototype.Version:!1}}}();a.tools.debug=a.tools.debug||function(){function a(b,c){if((!n.environment||"production"!==
n.environment.getContext())&&window.console&&window.console[b]){try{console[b].apply(console,c)}catch(f){console[b](c.join(" "))}return!0}return!1}function b(a,b){return n.formatting&&n.formatting.zeroPad?n.formatting.zeroPad(a,b):a}return{error:function(){var b=n.debug.getLogPrefix();if(0<arguments.length){var e=Array.prototype.slice.call(arguments,0);e.unshift(b);return a.call(this,"error",e)}return!1},getLogPrefix:function(){var a=new Date;return"[Kiosked] ("+a.getFullYear()+"-"+b(a.getMonth()+
1,2)+"-"+b(a.getDate(),2)+" "+b(a.getHours(),2)+":"+b(a.getMinutes(),2)+":"+b(a.getSeconds(),2)+")"},log:function(){var b=n.debug.getLogPrefix();if(0<arguments.length){var e=Array.prototype.slice.call(arguments,0);e.unshift(b);return a.call(this,"log",e)}return!1},warn:function(){var b=n.debug.getLogPrefix();if(0<arguments.length){var e=Array.prototype.slice.call(arguments,0);e.unshift(b);return a.call(this,"warn",e)}return!1}}}();a.tools.encoding=a.tools.encoding||function(){return{base64_decode:function(c){var b=
"",d,e,f,g,h,l=0;for(c=c.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<c.length;)d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(c.charAt(l)),l+=1,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(c.charAt(l)),l+=1,g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(c.charAt(l)),l+=1,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(c.charAt(l)),l+=1,d=d<<2|e>>4,e=(e&15)<<4|g>>2,f=(g&3)<<6|h,b+=String.fromCharCode(d),
64!==g&&(b+=String.fromCharCode(e)),64!==h&&(b+=String.fromCharCode(f));return b=a.tools.encoding.utf8_decode(b)},base64_encode:function(c){var b="",d,e,f,g,h,l,q=0;for(c=a.tools.encoding.utf8_encode(c);q<c.length;)d=c.charCodeAt(q),q+=1,e=c.charCodeAt(q),q+=1,f=c.charCodeAt(q),q+=1,g=d>>2,d=(d&3)<<4|e>>4,h=(e&15)<<2|f>>6,l=f&63,isNaN(e)?h=l=64:isNaN(f)&&(l=64),b=b+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(g)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(d)+
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(h)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(l);return b},formURLStringFromParameters:function(a,b){b=b||[];if("object"===typeof a){var d="",e=function(d,e,f){0<f.length&&(f+="&");e=a[d];0<=b.indexOf("ENCODE_KEY")&&(d=encodeURIComponent(d));0<=b.indexOf("ENCODE_VALUE")&&(e=encodeURIComponent(e));return f+(d+"="+e)};if(0<=b.indexOf("ALPHABETIZE")){var f=[],g;for(g in a)a.hasOwnProperty(g)&&f.push(g);
f.sort();g=f.length;if(0<g)for(var h=0;h<g;h+=1)var l=f[h],d=e(l,a[l],d)}else for(f in a)a.hasOwnProperty(f)&&(d=e(f,a[f],d));return d}return""},utf8_decode:function(a){for(var b="",d=0,e=0,f=0,g=0;d<a.length;)e=a.charCodeAt(d),128>e?(b+=String.fromCharCode(e),d+=1):191<e&&224>e?(f=a.charCodeAt(d+1),b+=String.fromCharCode((e&31)<<6|f&63),d+=2):(f=a.charCodeAt(d+1),g=a.charCodeAt(d+2),b+=String.fromCharCode((e&15)<<12|(f&63)<<6|g&63),d+=3);return b},utf8_encode:function(a){a=a.replace(/\r\n/g,"\n");
for(var b="",d=0;d<a.length;d+=1){var e=a.charCodeAt(d);128>e?b+=String.fromCharCode(e):(127<e&&2048>e?b+=String.fromCharCode(e>>6|192):(b+=String.fromCharCode(e>>12|224),b+=String.fromCharCode(e>>6&63|128)),b+=String.fromCharCode(e&63|128))}return b}}}();a.tools.decorators=a.tools.decorators||function(){return{decorateWithMeta:function(c){if("object"!==typeof c)throw new a.Exceptions.InvalidTypeException("object",typeof c,c);c._metaStore={};c.getMeta=function(a,c){return this._metaStore.hasOwnProperty(a)?
this._metaStore[a]:c};c.setMeta=function(a,c){this._metaStore[a]=c}},decorateWithPubSub:function(a,b){if("object"!==typeof a)throw new k("Target is not an object");a.publish=function(){return b.publish.apply(b,arguments)};a.removeSubscriptions=function(){return b.removeAll.apply(b,arguments)};a.subscribe=function(){return b.subscribe.apply(b,arguments)}},decorateWithStatus:function(c,b){if("object"!==typeof c)throw new a.Exceptions.InvalidTypeException("object",typeof c,c);if(!b instanceof a.Status)throw new a.Exceptions.InvalidTypeException("ITGS.Status",
typeof b,b);c.is=function(){return b.is.apply(b,arguments)};c.isNot=function(){return b.isNot.apply(b,arguments)};c.has=c.is;c.hasNot=c.isNot;c.set=function(){b.set.apply(b,arguments)};c.unset=function(){return b.unset.apply(b,arguments)};c.addStatus=function(a){return b.registerStatus(a)};c.addStatusSet=function(){b.addSelection.apply(b,arguments)}}}}();a.tools.environment=a.tools.environment||function(){var c=null,b="",d="",e="",f=null,g=0,h="performance"in window&&"timing"in window.performance&&
"navigation"in window.performance;return{generateEventHash:function(b,c){g+=1;var d=a.tools.hashing.md5(""+b+c),e=a.tools.hashing.md5(""+g+a.tools.getRandomInt(1,999999)+Date.now()+a.tools.environment.getIPAddress());return d+e},generatePageEventHash:function(){0>=e.length&&(e=a.tools.hashing.md5(a.tools.environment.getPageUrl()+a.tools.environment.getIPAddress())+a.tools.hashing.md5(""+a.tools.getRandomInt(1,999999)+Date.now()));return e},getAnalyticsConsumerData:function(){return{"browser.ts":a.tools.environment.getCurrentTimestamp(),
distinct_id:"",ip_address:a.tools.environment.getIPAddress(),run_id:a.tools.environment.generatePageEventHash(),user_agent:a.tools.environment.getUserAgent()}},getAnalyticsPageData:function(b){var c=p.length,d=0;if(0<c)for(var e=0;e<c;e+=1)p[e].isHealthy()&&(d+=1);b=b||a.snifferController;var e=b.getPageProperties(),c=e.publisherID,e=e.siteID,f=n.environment.getContainerTypesCount(),g=n.environment.getPageUrl(),h=a.SnifferUtilities.processPageURL(g),k={};if(0<p.length){var m=p[0].getPlacement().getOptions();
m.categories&&(m=a.tools.matching.getMostRelevantCategory(m.categories,"iabtier1"))&&(k=m)}return n.mergeDefaults({"page.uri":h,"page.original_uri":g,"page.publisher_id":c,"page.album_id":e,"page.containers":d,"page.unfiltered_containers":b.getUnfilteredContainers(),"page.valid_containers":a.messaging.getValidContainers(),"page.valid_inventory":a.messaging.getValidInventory(),environment:n.environment.getContext(),"library.version":a.Config.VERSION,"page.container_types.total":f.all,"page.container_types.in-content":f["in-content"],
"page.container_types.in-line":f["in-line"],"page.container_types.in-screen":f["in-screen"],"page.category":k,"page.meta.keywords":a.tools.dom.getMetaKeywords()},n.environment.getAnalyticsConsumerData())},getContainerTypesCount:function(){var b,c=p.length;b={all:0,"in-content":0,"in-line":0,"in-screen":0};if(0<c)try{for(var d=0;d<c;d+=1)if(p[d].isHealthy()){var e=p[d].getPlacement().getAnchor();b.all+=1;e instanceof a.PlacementBoxAnchor&&(b["in-content"]+=1);e instanceof a.PlacementStubAnchor&&(b["in-line"]+=
1);e instanceof a.PlacementLaunchpadAnchor&&(b["in-screen"]+=1)}}catch(f){console.warn("Kiosked: (Analytics) Failed counting container types",f)}return b},getContext:function(){return c},getCurrentTimestamp:function(){return Number((new Date).getTime())},getDeviceType:function(){var b=a.tools.environment.device.isTablet();return a.tools.environment.device.isMobile()||b?b?"tablet":"mobile":"desktop"},getDomainName:function(){return d},getImageFullURL:function(a){var b=document.createElement("div"),
c;try{c=a.split("&").join("&amp;").split("<").join("&lt;").split('"').join("&quot;")}catch(d){c=a}b.innerHTML='<a href="'+c+'">x</a>';return b.firstChild.href},getIOWAdServerURL:function(){return a.Config.IOW_AD_SERVER.PRODUCTION},getIPAddress:function(){return b},getPageDomain:function(){return 0<window.location.hostname.length?window.location.hostname:window.location.host},getPageUrl:function(){return document.URL+""},getPlacementIndex:function(b){var c=b.getOptions().kioskID,c=a.PlacementContainerLocator.getPlacementContainerByID(c);
return b instanceof a.Placement?p.indexOf(c):!1},getPublisherID:function(){return f},getUserAgent:function(){return navigator.userAgent},navigationTimingSupported:function(){return h},setContext:function(a){c=a+""},setDomainName:function(a){d=a+""},setIPAddress:function(a){b=a+""},setPublisherID:function(a){f=a}}}();a.tools.dom=a.tools.dom||function(){var c="";return{addEvent:function(b,c,e){if(b instanceof HTMLElement){b.addEventListener(c,e,!1);var f={remove:function(){a.tools.dom.removeEvent(b,
c,e);delete f.remove}};return f}throw new k("Parameter not an instance of HTMLElement");},clamp:function(a,c){var e,f,g,h,l,q,r,u,n,k;e=document.createElement("span");(function(a){a.position="absolute";a.whiteSpace="pre";a.visibility="hidden"})(e.style);if(a.ownerDocument&&a.ownerDocument===document){k=a.getAttribute("style");h=q=0;l=1;n=!0;g=a.clientWidth;for(f=(a.textContent||a.innerText).replace(/\n/g," ");null!==a.firstChild;)a.removeChild(a.firstChild);a.appendChild(e);var s=function(a){a.display=
"block";a.overflow="hidden";a.textOverflow="ellipsis";a.whiteSpace="nowrap";a.width="100%";a.height="auto";a.margin="auto";a.padding="auto"};f.replace(/ /g,function(m,p){l!==c&&(e.appendChild(document.createTextNode(f.substr(h,p-h))),g<e.clientWidth?(n?(u=f.substr(h,p+1-h),h=p+1):(u=f.substr(h,q-h),h=q),r=document.createElement("span"),r.setAttribute("style",k),r.appendChild(document.createTextNode(u)),s(r.style),a.appendChild(r),n=!0,l+=1):n=!1,q=p+1,e.removeChild(e.firstChild))});a.removeChild(e);
r=document.createElement("span");r.setAttribute("style",k);s(r.style);r.appendChild(document.createTextNode(f.substr(h)));a.appendChild(r)}},destroy:function(a){if(a instanceof HTMLElement){var c=a.parentNode;c&&c.removeChild(a)}},DOMIsReady:function(){return!/in/.test(document.readyState)},getBorderSizing:function(a){var c=document.defaultView.getComputedStyle(a,"");a=parseInt(c.borderLeftWidth,10);var e=parseInt(c.borderRightWidth,10),f=parseInt(c.borderTopWidth,10),g=parseInt(c.borderBottomWidth,
10),h=parseInt(c.paddingLeft,10),l=parseInt(c.paddingRight,10),q=parseInt(c.paddingTop,10),r=parseInt(c.paddingBottom,10),n=parseInt(c.marginLeft,10),k=parseInt(c.marginRight,10),m=parseInt(c.marginTop,10),c=parseInt(c.marginBottom,10);return{border:{left:a,right:e,top:f,bottom:g},margin:{left:n,right:k,top:m,bottom:c},padding:{left:h,right:l,top:q,bottom:r}}},getFirstImage:function(a,c){n.array.isArray(c)&&2===c.length||(c=[0,0]);var e=c[0],f=c[1];if(a instanceof HTMLImageElement&&a.clientWidth>=
e&&a.clientHeight>=f)return a;var g=a.getElementsByTagName("img"),h=g.length;if(0<h)for(var l=0;l<h;l+=1){var q=g[l];if(q.clientWidth>=e&&q.clientHeight>=f)return g[l]}return null},getImageSource:function(a){if(a instanceof HTMLImageElement){if(a.src)return a.src;if(a.srcset)return a.srcset}return""},getIntersection:function(b,c){var e=a.tools.dom.getScreenPosition(b),f=a.tools.dom.getScreenPosition(c),g={left:a.tools.getRange(e.left,f.left),top:a.tools.getRange(e.top,f.top),right:a.tools.getRange(f.left+
f.width,e.left+e.width),bottom:a.tools.getRange(f.top+f.height,e.top+e.height)},h=Math.max(0,Math.min(e.left+e.width,f.left+f.width)-Math.max(e.left,f.left)),l=Math.max(0,Math.min(e.top+e.height,f.top+f.height)-Math.max(e.top,f.top)),q=h*l,r={a:e.width*e.height,b:f.width*f.height};return{area:r,cuts:0>g.left||0>g.right||0>g.top||0>g.bottom,difference:g,excluded:{a:r.a-q,b:r.b-q},intersect:{width:h,height:l},screen:{a:e,b:f}}},getMetaKeywords:function(){if(0<c.length)return c;var b=a.tools.dom.query("meta[name=keywords]"),
d=a.Config.META_MAX_KEYWORDS;if(0<b.length){for(var b=b[0].getAttribute("content")||"",b=b.split(",",d),d=b.length,e=0;e<d;e+=1)b[e]=a.tools.trim(b[e]);c=b.join(",")}return c},getNavigationPerfTimingValue:function(b){if(a.tools.environment.navigationTimingSupported())try{var c="undefined"!==typeof window.performance.timing[b]?parseInt(window.performance.timing[b],10):-1;if(0<c)return c}catch(e){a.tools.debug.error("Performance event request failed: "+b)}return!1},getPlainText:function(a,c){c=c||["script",
"style"];var e=a.cloneNode(!0);e.innerHTML=e.innerHTML.replace(/<br>/g,"\n");return n.trim(function g(a){var b="";if(a.tagName&&0<=c.indexOf(a.tagName.toLowerCase()))return b;a.nodeType&&3===a.nodeType&&(b+=a.nodeValue.replace(/\t/g," ").replace(/\n/g," ").replace(/[ ]{2,}/g," "));if(a.childNodes){var e=a.childNodes.length;if(0<e)for(var r=0;r<e;r+=1)b+=g(a.childNodes[r])}return b}(e))},getScreenPosition:function(a){var c={top:0,left:0,width:0,height:0};a&&a.ownerDocument&&a.getBoundingClientRect&&
(c=a.getBoundingClientRect());return c},getWindow:function(b){a.windowObj=a.windowObj?a.windowObj:n.dom.isWindow(b)?b:!1;if(!1===a.windowObj)if(b=Object.getPrototypeOf(b)===document.constructor.prototype?b:b.ownerDocument)a.windowObj=b.defaultView||b.parentWindow;else return!1;return a.windowObj},imageHasLoaded:function(a){if(!(a instanceof HTMLImageElement))throw Error("Expected image type");return!a.complete||"undefined"!==typeof a.naturalWidth&&0===a.naturalWidth?!1:!0},isDescendant:function(a,
c){for(var e=c.parentNode;null!==e;){if(e===a)return!0;e=e.parentNode}return!1},isElement:function(a){return"object"===typeof HTMLElement||"function"===typeof HTMLElement?a instanceof HTMLElement:a&&"object"===typeof a&&null!==a&&1===a.nodeType&&"string"===typeof a.nodeName},isElementInDocument:function(a){for(;a!==document&&a.parentNode;)a=a.parentNode;return a===document},isVideoElement:function(a){var c=!1;window.HTMLVideoElement&&(c=a instanceof window.HTMLVideoElement);c||(c=a.tagName?"video"===
a.tagName.toLowerCase():!1);return c},isWindow:function(a){a=Object.prototype.toString.call(a);return"[object global]"===a||"[object Window]"===a||"[object DOMWindow]"===a},mouseIsOutside:function(a,c){for(var e=a.relatedTarget||a.toElement||a.fromElement;e&&e!==c;)e=e.parentNode;return e!==c},nodeIdentifier:function(a){var c={getElement:function(){return a},isHTMLElement:function(){return a instanceof HTMLElement},isIFrame:function(){return a instanceof HTMLIFrameElement},isImage:function(){return a instanceof
HTMLImageElement},isVideo:function(){return n.dom.isVideoElement(a)},isYoutubeContainer:function(){return c.isIFrame()&&(-1<a.src.indexOf("youtube.com")||-1<a.src.indexOf("youtu.be"))?!0:!1},nextElementOfType:function(c){var d;for(d=a;d=d.nextSibling;)if(d instanceof c)return d;return null},previousElementOfType:function(c){var d;for(d=a;d=d.previousSibling;)if(d instanceof c)return d;return null}};return c},onDOMReady:function(b){var c,e=function(){return a.tools.dom.DOMIsReady()?(clearInterval(c),
b(),!0):!1};e()||(c=setInterval(e,100))},reloadScriptsInNode:function(b){var c=[];[].forEach.call(b.querySelectorAll("script"),function(b){c.push(new Promise(function(c,d){var h=document.createElement("script");h.setAttribute("type","text/javascript");b.src&&0<b.src.length?(h.onload=c,h.onerror=function(a){d("Failed reloading script: "+b.src+" ("+a.message+")")},h.src=b.src):(h.innerHTML=b.innerHTML,setTimeout(c,1));h.id=b.id||"";var l=b.nextSibling,q=b.parentNode;a.tools.dom.destroy(b);q.insertBefore(h,
l)}))});return Promise.all(c)},removeEvent:function(a,c,e){if(a instanceof HTMLElement)a.removeEventListener(c,e,!1);else throw new k("Parameter not an instance of HTMLElement");},xPath:{forEachElement:function(a,c,e){e=e||document;c=c||function(a){};for(a=document.evaluate(a,e,null,XPathResult.ANY_TYPE,null);e=a.iterateNext();)c(e)},getElement:function(a,c){c=c||document;var e=document.evaluate(a,c,null,XPathResult.ANY_TYPE,null).iterateNext();return e?e:null},getElements:function(a,c){var e=[];
c=c||document;for(var f=document.evaluate(a,c,null,XPathResult.ANY_TYPE,null),g;g=f.iterateNext();)e.push(g);return e}}}}();a.tools.dom.cutting=a.tools.dom.cutting||function(){var c=["search","exact"];return{isValidElement:function(a){return a?a instanceof HTMLElement&&a!==document:!1},locateParentElement:function d(e,f,g,h){g=g||"exact";h=h||0;if("auto"===f)return d(e,10,"search",0);if(0>c.indexOf(g))throw new k("Unsupported 'mode': "+g);f=parseInt(f,10);var l=e.parentNode;if("exact"===g)return a.tools.dom.cutting.isValidElement(l)&&
0<f?d(l,f-1,g,h+1):0<h?e:null;if("search"===g&&a.tools.dom.cutting.isValidElement(l)){g=null;h=0;for(var q;0<f&&a.tools.dom.cutting.isValidElement(l);)f-=1,q=document.defaultView.getComputedStyle(l,null).overflow,"hidden"===q&&(q=a.tools.dom.getIntersection(l,e),q.cuts&&q.excluded.b>h&&(h=q.excluded.b,g=l)),l=l.parentNode;return g}return null}}}();a.tools.environment.device=a.tools.environment.device||function(){var c=null,b=null,d=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,
e=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,
f=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i;return{getUserAgent:function(){return""+(navigator.userAgent||navigator.vendor||window.opera)},isMobile:function(b){if(null===c||b)b=a.tools.environment.device.getUserAgent(),
c=d.test(b)||e.test(b.substr(0,4));return c},isTablet:function(c){if(null===b||c)c=a.tools.environment.device.getUserAgent(),b=f.test(c)||e.test(c.substr(0,4));return b&&!a.tools.environment.device.isMobile()}}}();a.tools.matching=a.tools.matching||function(){return{getMostRelevantCategory:function(c,b){var d=!1;if(c&&n.isString(b)){if(c.hasOwnProperty(b)){var e=c[b],f=e.length,g=0;if(0<f)for(var h=0;h<f;h+=1){var l=e[h];l.relevance&&l.relevance>g&&(d=l,g=l.relevance)}}}else{if(c)throw new a.Exceptions.InvalidTypeException("String",
typeof b,this);throw new a.Exceptions.BadOptionException("Expected categories to be set",this,c);}return d}}}();a.tools.communication=a.tools.communication||function(){var c=a.tools.isBrowser.internetExplorer9();return{getAjaxAppliance:function(){var a=["Msxml2.XMLHTTP","Microsoft.XMLHTTP"];if(c)return new window.XDomainRequest;if(window.XMLHttpRequest)return new XMLHttpRequest;if(window.ActiveXObject)for(var d=0;d<a.length;d+=1)try{return new window.ActiveXObject(a[d])}catch(e){}return!1},sendRequest:function(b){b=
b||{};var d="POST";if(!b.hasOwnProperty("destination"))throw new a.Exceptions.InvalidPropertiesException("(Kiosked) No 'destination' specified for Ajax request",this,b);if(b.method)if(0<=["POST","GET"].indexOf(b.method.toUpperCase()))d=b.method.toUpperCase();else throw new a.Exceptions.NotSupportedException("Unsupported request method: '"+b.method+"'",b);else n.debug.log("/Communication/","No request method specified, using default:",d);b.hasOwnProperty("data")&&"GET"!==d||(b.data=null);b.data&&("object"===
typeof b.data||n.array.isArray(b.data))&&(b.data=n.encoding.formURLStringFromParameters(b.data,["ENCODE_VALUE"]));var e=b.hasOwnProperty("appliance")?b.appliance:n.communication.getAjaxAppliance();if(!1===e||!n.isset(e))throw new a.Exceptions.NotSupportedException("Failed finding ajax appliance",this);var f=new Promise(function(a,c){e.onreadystatechange=function(){4===e.readyState&&(200===e.status?(a(e.responseText),b.callback&&b.callback(e.responseText)):(c(e.statusText),b.errorCallback&&b.errorCallback()))}});
c&&(e.onprogress=function(){},f=new Promise(function(a,c){e.onload=function(){a(e.responseText);b.callback&&b.callback(e.responseText)};e.onerror=e.ontimeout=function(){c(e.statusText);b.errorCallback&&b.errorCallback()}}),b.destination=b.destination.replace(/^https?:/,""),b.destination=window.location.protocol+b.destination);e.open(d,b.destination,!0);e.withCredentials=b.hasOwnProperty("withCredentials")?b.withCredentials:!0;c||e.setRequestHeader("Content-Type","application/x-www-form-urlencoded");
e.send(b.data);return f}}}();a.tools.scope=a.tools.scope||function(){return{enforceCaller:function(c,b,d){d=d&&0<d.length?d:"Invalid caller - unexpected context";if(!(c instanceof b))throw new a.Exceptions.IllegalInvocationException(d,this);},hasOwnProperties:function(c,b,d){var e=!1;"string"===typeof b&&(b=[b]);d=d||function(a,b){return a.hasOwnProperty(b)};if("object"===typeof c&&a.tools.array.isArray(b))for(var e=!0,f=0;f<b.length;f+=1)if(!d(c,b[f])){e=!1;break}return e}}}();a.tools.formatting=
a.tools.formatting||function(){return{escapeRegexExpression:function(a){return a.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")},replaceAll:function(c,b,d){return c.replace(new RegExp(a.tools.formatting.escapeRegexExpression(b),"g"),d)},tokenReplaceString:function(c,b,d){d=d||function(a){return"["+a.toUpperCase()+"]"};for(var e in b)b.hasOwnProperty(e)&&(c=a.tools.formatting.replaceAll(c,d(e),b[e]));return c},zeroPad:function(a,b){var d=a.toString(),e=d.split("."),f="";1<e.length&&(f=e[1],d=e[0]);
e=b-d.length+1;return Array(+(0<e&&e)).join("0")+d+(0<f.length?"."+f:"")}}}();a.tools.ads=a.tools.ads||function(){return{calculateActualAdSize:function(c,b,d){c=a.tools.ads.calculateScale(c,b,d);return{width:Math.floor(b.width/c),height:Math.floor(b.height/c)}},calculateScale:function(c,b,d){d=a.tools.isset(d)?d:!0;return(d?b.width:b.height)/(d?c.width:c.height)}}}();(function(a){var b={};(function(a,b,c,d,l){function q(a,b){return q.search(a,b)}function r(a,b){if(I[b]){var c="function"==typeof I[b]?
I[b](a):a[I[b]];"class"!=b||c||(c=null);return c}return a.getAttribute(b)}function n(a,b){for(var c=0,d=b.length;c<d;++c)if(0>w(a,b[c]))return!1;return!0}function k(a,b,c){c=[c];for(var d=!0,e,f=0,g=a.length;f<g;++f)if(e=b[a[f].name])d=d&&e.apply(b,c.concat(a[f].args));else return"Unknown function "+a[f].name;return d}function m(a){return function(b,c){return D(b,function(b){return a(b,c)})}}function s(a,b){return function(c,d,e){c=r(c,d);return(b?!0:null!=c)&&a(c,e)}}function p(a){a=a.parentNode.children||
[];W.childrenHasComments&&(a=D(a,function(a){return 1==a.nodeType}));return a}function y(a,b){return function(c){return G[a](c,{value:b})}}var pb=a.Jaguar,A,G,v=[].slice,O=[].indexOf,z=[].filter,E={}.hasOwnProperty,W=function(a){var b={},c=a.createElement("a");c.name="test";(a.firstChild||a).appendChild(c);b.brokenId=!!a.getElementById("test");c.innerHTML="\x3c!-- Three guys walk into a bar. *DONK* --\x3e";b.childrenHasComments=!(!c.children||!c.children.length);return b}(b.implementation.createDocument?
b.implementation.createDocument(null,"html",null):new ActiveXObject("Microsoft.XMLDOM")),w=O?function(a,b){return O.call(a,b)}:function(a,b){for(var c=0,d=a.length;c<d;++c)if(a[c]===b)return c;return-1},D=z?function(a,b){return z.call(Array.prototype.slice.call(a),b)}:function(a,b){for(var c=0,d=a.length,e=Array(d);c<d;++c)e[c]=func(a[c]);return e},I=q.fixAttributes={"class":"className","for":"htmlFor",html:"innerHTML",style:function(a){return a.style.cssText},text:function(a){return a.textContent||
a.innerText||""}};q.features=W;q.filter=D;q.indexOf=w;q.getAttribute=r;q.cache=[];q.cacheSize=50;q.tokenize=function(a){function b(a){return a&&("/"<a&&":">a||"@"<a&&"[">a||"`"<a&&"{">a||"-"==a||"_"==a)}function c(a,b){return{type:a,value:b}}a=a.split("");for(var d=a[0],e=0,f,g,l,h={"(":1,")":1,"[":1,"]":1},q={'"':1,"'":1},r=[];d;){if(q[d]){f="";for(g=d;;){d=a[++e];if(d==g)break;else if(!d)return[];f+=d}r.push(c("ident",f))}else if(" "==d)f=a[e-1],g=a[e+1],(b(f)||q[f]||"*"==f||h[f])&&(b(g)||q[g]||
"*"==g||h[g]||" "!=a[e+2])&&r.push(c("op",d));else if("*"==d)"="==a[++e]?r.push(c("op","*=")):(r.push(c("ident",d)),--e);else if(h[d])r.push(c("op",d));else{f="";for(g=b(d);d&&" "!=d&&!q[d]&&(g&&b(d)||!g&&!b(d))&&!h[d];)f+=d,"="==d&&(r.push(c("op",f)),f="",l=!0),d=a[++e];--e;f&&r.push(c(l||g?"ident":"op",f));l=!1}d=a[++e]}return r};q.parse=function(a){if("string"==typeof a&&q.cache[a])return q.cache[a];for(var b=q.tokenize(a),c=[[]],d,e={classes:[],attrs:[],pseudos:[]},f,g=0,h,r=b.length;g<r;++g)if(d=
b[g].value,"op"==b[g].type)if(","==d)c[c.length-1].push(e),c.push([]),e={classes:[],attrs:[],pseudos:[]};else if("#"==d)e.id=b[++g]?b[g].value:"";else if("."==d)e.classes.push(b[++g]?b[g].value:"");else if("["==d){d=b[g+2]&&"]"!=b[g+2].value;if(!b[g+2]||d&&(!b[g+4]||"]"!=b[g+4].value))return[];e.attrs.push({name:d?b[g+2].value:"",args:[b[++g].value,d?b[g+=2].value:l]});++g}else if(":"==d){if(!b[g+1])return[];d=b[g+2]&&"("==b[g+2].value;h=g+1;if(d)for(h+=2,f=1;h<r&&("("==b[h].value&&"op"==b[h].type&&
++f,")"!=b[h].value||--f||"op"!=b[h].type);++h);e.pseudos.push({name:b[++g].value,args:d?b.slice(g+2,h):[]});g=h}else e.tag||(e.tag="*"),c[c.length-1].push(e),e={classes:[],attrs:[],pseudos:[],tag:"*",combinator:d};else e.tag=d.toUpperCase();c[c.length-1].push(e);q.cache.push(a);q.cache[a]=c;q.cache.length>q.cacheSize&&(q.cache[q.cache.shift()]=l);return c};q.search=function(a,c){c=c||b;if(!a||"string"!=typeof a||1!=c.nodeType&&9!=c.nodeType)return[];var d=q.parse(a),e=0,g=d.length,l=0,h=[],r=[],
n,u=[],s;if(!g)return[];for(;e<g;++e)h.push(q.evaluateSearch(d[e],c));e=0;for(g=h.length;e<g;++e)for(s=0,d=h[e].length;s<d;)r[l++]=h[e][s++];if(1<g&&(r.sort(function(a,b){return a==b?(n=!0,0):a.compareDocumentPosition?a.compareDocumentPosition(b)&2?1:-1:a.sourceIndex-b.sourceIndex}),n)){e=0;for(g=r.length;e<g;++e)r[e]!=r[e-1]&&u.push(r[e]);r=u}return r};q.evaluateSearch=function(a,b){function c(a,e){d.length||g||(d=b.getElementsByTagName("*"));d=D(d,function(b){b=k(a,e,b);"string"==typeof b&&(l=b);
return b})}var d=[],e,f=a[a.length-1],g,l,h=0,r;if(f.id){if(b.getElementById&&!W.brokenId)e=b.getElementById(f.id);else for(d=b.getElementsByTagName(f.tag||"*"),r=d.length;h<r;++h)if(d[h].id==f.id){e=d[h];break}d=e?[e]:[];g=!0}if(f.classes.length)if(g&&!n(e.className.split(" "),f.classes))d=[];else if(!g){if(b.getElementsByClassName)d=b.getElementsByClassName(f.classes.join(" "));else for(e=b.getElementsByTagName(f.tag||"*"),h=0,r=e.length;h<r;++h)n(e[h].className.split(" "),f.classes)&&d.push(e[h]);
g=!0}f.tag&&(g?"*"!=f.tag&&(d=D(d,function(a){return a.nodeName.toUpperCase()==f.tag})):d=b.getElementsByTagName(f.tag));f.attrs.length&&c(f.attrs,q.attrs);f.pseudos.length&&d.length&&c(f.pseudos,q.pseudos);f.combinator&&(q.combinators[f.combinator]?d=q.combinators[f.combinator](d,a.slice(0,-1)):l="Unknown combinator "+f.combinator);if(l)throw Error(l);return d};q.match=function(a,b){if(!a||1!=a.nodeType||"string"!=typeof b)return!1;for(var c=q.parse(b),d=!1,e=0,f=c.length;e<f;++e)d=d||q.evaluateMatch(c[e],
a);return d};q.evaluateMatch=function(a,b){if(9==b.nodeType)return!1;var c=a[a.length-1],d=!0;c.id&&(d=b.id==c.id);c.classes.length&&(d=d&&n(b.className.split(" "),c.classes));c.tag&&(d=d&&("*"==c.tag?!0:b.nodeName.toUpperCase()==c.tag));c.attrs.length&&(d=d&&k(c.attrs,q.attrs,b));c.pseudos.length&&(d=d&&k(c.pseudos,q.pseudos,b));c.combinator&&(d=q.matchCombinators[c.combinator]?d&&q.matchCombinators[c.combinator](b,a.slice(0,a.length-1)):!1);return d};q.matchCombinators={" ":function(a,b){for(;a=
a.parentNode;)if(q.evaluateMatch(b,a))return!0;return!1},">":function(a,b){return q.evaluateMatch(b,a.parentNode)},"~":function(a,b){for(;a=a.previousSibling;)if(1==a.nodeType&&q.evaluateMatch(b,a))return!0;return!1},"+":function(a,b){for(;a=a.previousSibling;)if(1==a.nodeType)return q.evaluateMatch(b,a);return!1}};q.combinators={};for(A in q.matchCombinators)E.call(q.matchCombinators,A)&&(q.combinators[A]=m(q.matchCombinators[A]));q.attrs={"":s(function(a){return null!=a},!0),"=":s(function(a,b){return a===
b},!0),"!=":s(function(a,b){return a!==b},!0),"^=":s(function(a,b){return!a.indexOf(b)}),"$=":s(function(a,b){return a.lastIndexOf(b)==a.length-b.length}),"*=":s(function(a,b){return-1<a.indexOf(b)}),"|=":s(function(a,b){return a===b||!a.indexOf(b+"-")}),"~=":s(function(a,b){return-1<w(a.split(" "),b)})};q.nthCache=[];q.nthCacheSize=100;q.pseudos=G={has:function(a){for(var b="",c=arguments,d=1,e=c.length;d<e;++d)b+=c[d].value;return!!q.search(b,a).length},contains:function(a,b){return-1<r(a,"text").indexOf(b.value)},
not:function(a){for(var b="",c=arguments,d=1,e=c.length;d<e;++d)b+=c[d].value;return!q.match(a,b)},root:function(a){return 9==a.parentNode.nodeType},empty:function(a){return!a.firstChild},"first-child":y("nth-child","1"),"last-child":y("nth-child","-1"),"only-child":function(a){var b=p(a);return 1==b.length&&b[0]==a},"first-of-type":y("nth-of-type","1"),"last-of-type":y("nth-of-type","-1"),"only-of-type":function(a){var b=a.nodeName.toUpperCase(),c=D(p(a),function(a){return a.nodeName.toUpperCase()==
b});return 1==c.length&&c[0]==a},"nth-child":function(a){var b=v.call(arguments,1),e,f,r,n;this instanceof Array&&(e=this);b.length||(b=[{value:"n"}]);f=b[0].value;if(1==b.length&&"n"==f)return 1==a.parentNode.nodeType;e||(e=p(a));if(1==b.length&&!d(+f))return e[-1<f?f-1:e.length+ +f]==a;f=b;for(var u=f[0].value,b=u,s=1,k=f.length;s<k;++s)b+=f[s].value;if(q.nthCache[b])r=q.nthCache[b];else{if("odd"==u)n=2,r=1;else if("even"==u)n=2,r=0;else if("n"==u?n=1:"-n"==u?n=-1:d(+u)?u=u.substr((""+(n=c(u,10))).length):
n=+u,2<k)r=+f[2].value;else if("n"==u)r=0;else for(s=0,k=u.length;s<k;++s)if(!d(+u.charAt(s))){r=c(u.substr(s),10);break}n=[n,r];q.nthCache.push(b);q.nthCache[b]=n;q.nthCache.length>q.nthCacheSize&&(q.nthCache[q.nthCache.shift()]=l);r=n}n=r[0];r=r[1];e=w(e,a)+1;return n?0<n&&e<r||0>n&&r<e||9==a.parentNode.nodeType?!1:!((e-r)%n):r==e},"nth-last-child":function(a){return G["nth-child"].apply(v.call(p(a)).reverse(),arguments)},"nth-of-type":function(a){var b=a.nodeName.toUpperCase();return G["nth-child"].apply(D(this instanceof
Array?this:p(a),function(a){return a.nodeName.toUpperCase()==b}),arguments)},"nth-last-of-type":function(a){return G["nth-of-type"].apply(v.call(p(a)).reverse(),arguments)}};q.noConflict=function(){a.Jaguar=pb;return q};"function"==typeof a.define&&define.amd?define(function(){return q}):a.Jaguar=q})(b,document,parseInt,isNaN);var d=/,[^ ]/;a.dom.query=function(a,c){d.test(a)&&(a=a.split(",").join(", "));return b.Jaguar(a,c)};a.dom.queryFirst=function(b,d){var g=a.dom.query(b,d);return 0<g.length?
g[0]:null}})(a.tools);a.tools.array=a.tools.array||function(){return{isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)}}}();a.tools.hashing=a.tools.hashing||function(){var a={};(function(a){function c(a,b){var d=(a&65535)+(b&65535);return(a>>16)+(b>>16)+(d>>16)<<16|d&65535}function e(a,b,e,f,g,h){a=c(c(b,a),c(f,h));return c(a<<g|a>>>32-g,e)}function f(a,b,c,d,f,g,h){return e(b&c|~b&d,a,b,f,g,h)}function g(a,b,c,d,f,g,h){return e(b&d|c&~d,a,b,f,g,h)}function h(a,b,c,d,
f,g,h){return e(c^(b|~d),a,b,f,g,h)}function l(a,b){a[b>>5]|=128<<b%32;a[(b+64>>>9<<4)+14]=b;var l,q,r,n,u,k=1732584193,m=-271733879,p=-1732584194,t=271733878;for(l=0;l<a.length;l+=16)q=k,r=m,n=p,u=t,k=f(k,m,p,t,a[l],7,-680876936),t=f(t,k,m,p,a[l+1],12,-389564586),p=f(p,t,k,m,a[l+2],17,606105819),m=f(m,p,t,k,a[l+3],22,-1044525330),k=f(k,m,p,t,a[l+4],7,-176418897),t=f(t,k,m,p,a[l+5],12,1200080426),p=f(p,t,k,m,a[l+6],17,-1473231341),m=f(m,p,t,k,a[l+7],22,-45705983),k=f(k,m,p,t,a[l+8],7,1770035416),
t=f(t,k,m,p,a[l+9],12,-1958414417),p=f(p,t,k,m,a[l+10],17,-42063),m=f(m,p,t,k,a[l+11],22,-1990404162),k=f(k,m,p,t,a[l+12],7,1804603682),t=f(t,k,m,p,a[l+13],12,-40341101),p=f(p,t,k,m,a[l+14],17,-1502002290),m=f(m,p,t,k,a[l+15],22,1236535329),k=g(k,m,p,t,a[l+1],5,-165796510),t=g(t,k,m,p,a[l+6],9,-1069501632),p=g(p,t,k,m,a[l+11],14,643717713),m=g(m,p,t,k,a[l],20,-373897302),k=g(k,m,p,t,a[l+5],5,-701558691),t=g(t,k,m,p,a[l+10],9,38016083),p=g(p,t,k,m,a[l+15],14,-660478335),m=g(m,p,t,k,a[l+4],20,-405537848),
k=g(k,m,p,t,a[l+9],5,568446438),t=g(t,k,m,p,a[l+14],9,-1019803690),p=g(p,t,k,m,a[l+3],14,-187363961),m=g(m,p,t,k,a[l+8],20,1163531501),k=g(k,m,p,t,a[l+13],5,-1444681467),t=g(t,k,m,p,a[l+2],9,-51403784),p=g(p,t,k,m,a[l+7],14,1735328473),m=g(m,p,t,k,a[l+12],20,-1926607734),k=e(m^p^t,k,m,a[l+5],4,-378558),t=e(k^m^p,t,k,a[l+8],11,-2022574463),p=e(t^k^m,p,t,a[l+11],16,1839030562),m=e(p^t^k,m,p,a[l+14],23,-35309556),k=e(m^p^t,k,m,a[l+1],4,-1530992060),t=e(k^m^p,t,k,a[l+4],11,1272893353),p=e(t^k^m,p,t,a[l+
7],16,-155497632),m=e(p^t^k,m,p,a[l+10],23,-1094730640),k=e(m^p^t,k,m,a[l+13],4,681279174),t=e(k^m^p,t,k,a[l],11,-358537222),p=e(t^k^m,p,t,a[l+3],16,-722521979),m=e(p^t^k,m,p,a[l+6],23,76029189),k=e(m^p^t,k,m,a[l+9],4,-640364487),t=e(k^m^p,t,k,a[l+12],11,-421815835),p=e(t^k^m,p,t,a[l+15],16,530742520),m=e(p^t^k,m,p,a[l+2],23,-995338651),k=h(k,m,p,t,a[l],6,-198630844),t=h(t,k,m,p,a[l+7],10,1126891415),p=h(p,t,k,m,a[l+14],15,-1416354905),m=h(m,p,t,k,a[l+5],21,-57434055),k=h(k,m,p,t,a[l+12],6,1700485571),
t=h(t,k,m,p,a[l+3],10,-1894986606),p=h(p,t,k,m,a[l+10],15,-1051523),m=h(m,p,t,k,a[l+1],21,-2054922799),k=h(k,m,p,t,a[l+8],6,1873313359),t=h(t,k,m,p,a[l+15],10,-30611744),p=h(p,t,k,m,a[l+6],15,-1560198380),m=h(m,p,t,k,a[l+13],21,1309151649),k=h(k,m,p,t,a[l+4],6,-145523070),t=h(t,k,m,p,a[l+11],10,-1120210379),p=h(p,t,k,m,a[l+2],15,718787259),m=h(m,p,t,k,a[l+9],21,-343485551),k=c(k,q),m=c(m,r),p=c(p,n),t=c(t,u);return[k,m,p,t]}function q(a){var b,c="";for(b=0;b<32*a.length;b+=8)c+=String.fromCharCode(a[b>>
5]>>>b%32&255);return c}function r(a){var b,c=[];c[(a.length>>2)-1]=void 0;for(b=0;b<c.length;b+=1)c[b]=0;for(b=0;b<8*a.length;b+=8)c[b>>5]|=(a.charCodeAt(b/8)&255)<<b%32;return c}function n(a){return q(l(r(a),8*a.length))}function k(a,b){var c,d=r(a),e=[],f=[];e[15]=f[15]=void 0;16<d.length&&(d=l(d,8*a.length));for(c=0;16>c;c+=1)e[c]=d[c]^909522486,f[c]=d[c]^1549556828;c=l(e.concat(r(b)),512+8*b.length);return q(l(f.concat(c),640))}function m(a){var b="",c,d;for(d=0;d<a.length;d+=1)c=a.charCodeAt(d),
b+="0123456789abcdef".charAt(c>>>4&15)+"0123456789abcdef".charAt(c&15);return b}a.md5=function(a,b,c){b?c?a=k(unescape(encodeURIComponent(b)),unescape(encodeURIComponent(a))):(a=k(unescape(encodeURIComponent(b)),unescape(encodeURIComponent(a))),a=m(a)):a=c?n(unescape(encodeURIComponent(a))):m(n(unescape(encodeURIComponent(a))));return a}})(a);return{md5:function(b){return a.md5(b)}}}();(function(a){a.bulletLang={filter:function(a,c){return this.runFilter(a,this.parseFilter(c))},parseFilter:function(a){for(var c=
/(([a-zA-Z]+)(\(([^\)]+)\))?)/g,e=[],f;null!==(f=c.exec(a));)e.push({name:f[2],args:f[4]?f[4].split(/,/):[]});return e},runFilter:function(a,c){for(var e=a.length,f=[],g=0;g<e;g+=1)for(var h=0;h<c.length;h+=1)if(this.filterMatches(g,e,c[h].name,c[h].args)){f.push(a[g]);break}return f},filterMatches:function(a,c,e,f){a=[a.toString(),c.toString()].concat(f).map(function(a){return parseInt(a,10)});return this.filters[e].apply(this,a)},filters:{every:function(a,c,e,f){f=f||1;c=a+=1;return c>=f&&0===(a-
f+1)%e},first:function(a){return 0===a},last:function(a,c){return a+1===c},nth:function(){for(var a=arguments[0],c=Array.prototype.slice.call(arguments,2),e=0;e<=c.length;e+=1)if(c.hasOwnProperty(e)&&c[e]===a+1)return!0;return!1}}}})(a.tools);a.tools.flash=a.tools.flash||function(){var a=new function(){var a=this;a.installed=!1;a.raw="";a.major=-1;a.minor=-1;a.revision=-1;a.revisionStr="";var c=[{name:"ShockwaveFlash.ShockwaveFlash.7",version:function(a){return e(a)}},{name:"ShockwaveFlash.ShockwaveFlash.6",
version:function(a){var b="6,0,21";try{a.AllowScriptAccess="always",b=e(a)}catch(c){}return b}},{name:"ShockwaveFlash.ShockwaveFlash",version:function(a){return e(a)}}],e=function(a){var b=-1;try{b=a.GetVariable("$version")}catch(c){}return b};a.majorAtLeast=function(c){return a.major>=c};a.minorAtLeast=function(c){return a.minor>=c};a.revisionAtLeast=function(c){return a.revision>=c};a.versionAtLeast=function(c){for(var d=[a.major,a.minor,a.revision],e=Math.min(d.length,arguments.length),l=0;l<e;l+=
1)if(d[l]>=arguments[l]){if(!(l+1<e&&d[l]===arguments[l]))return!0}else return!1};a.FlashDetect=function(){var e,g,h,l,q,r;if(navigator.plugins&&0<navigator.plugins.length){if((r=navigator.mimeTypes)&&r["application/x-shockwave-flash"]&&r["application/x-shockwave-flash"].enabledPlugin&&r["application/x-shockwave-flash"].enabledPlugin.description){e=r=r["application/x-shockwave-flash"].enabledPlugin.description;r=e.split(/ +/);var k=r[2].split(/\./);r=r[3];g=parseInt(k[0],10);h=parseInt(k[1],10);l=
r;q=parseInt(r.replace(/[a-zA-Z]/g,""),10)||a.revision;a.raw=e;a.major=g;a.minor=h;a.revisionStr=l;a.revision=q;a.installed=!0}}else if(-1===navigator.appVersion.indexOf("Mac")&&"execScript"in window)for(r=-1,k=0;k<c.length&&-1===r;k+=1){e=-1;try{e=new ActiveXObject(c[k].name)}catch(n){e={activeXError:!0}}e.activeXError||(a.installed=!0,r=c[k].version(e),-1!==r&&(e=r,l=e.split(","),g=parseInt(l[0].split(" ")[1],10),h=parseInt(l[1],10),q=parseInt(l[2],10),l=l[2],a.raw=e,a.major=g,a.minor=h,a.revision=
q,a.revisionStr=l))}}()};a.JS_RELEASE="1.0.4";return{flashSupported:a.installed}}();(function(){var c=function(){this._callbacks=[];this._onCompleteCallback=function(){}};c.prototype.checkForCompletion=function(){for(var a=this._callbacks.length,c=0;c<a;c+=1)if(!0!==this._callbacks[c].completed)return;this._onCompleteCallback(a)};c.prototype.getCallback=function(){var a=this,c={completed:!1,callback:function(){c.completed=!0;a.checkForCompletion()}};this._callbacks.push(c);return c.callback};c.prototype.onCompletion=
function(b){this._onCompleteCallback=b;setTimeout(a.tools.compatibility.bindFunction(this.checkForCompletion,this),1)};a.AnimationContainer=c})();(function(){a.SettingsDeviceFilter=function(a){this._settingsData=a};a.SettingsDeviceFilter.prototype.fetchSettingsForDeviceType=function(a){return this.getSettingsData().filter(function(b){return b.hasOwnProperty("targetDeviceFamily")?parseInt(b.targetDeviceFamily,10)===a:!0})};a.SettingsDeviceFilter.prototype.getCurrentDevice=function(){return a.tools.environment.device.isMobile()?
a.Config.SETTINGS_DEVICE_TARGET.MOBILE:a.Config.SETTINGS_DEVICE_TARGET.DESKTOP};a.SettingsDeviceFilter.prototype.getMergedSettingsForCurrentDevice=function(){return this.getMergedSettingsForDevice(this.getCurrentDevice())};a.SettingsDeviceFilter.prototype.getMergedSettingsForDevice=function(c){return this.mergeDeviceTypesInData(this.fetchSettingsForDeviceType(a.Config.SETTINGS_DEVICE_TARGET.ANY),this.fetchSettingsForDeviceType(c))};a.SettingsDeviceFilter.prototype.getSettingsData=function(){return this._settingsData};
a.SettingsDeviceFilter.prototype.mergeDeviceTypesInData=function(c,b){var d=[].concat(c).concat(b),e=d.length;return d.filter(function(b){for(var c=0;c<e;c+=1)if(d[c].key===b.key&&d[c].target===b.target){var h=parseInt(d[c].targetDeviceFamily,10);if(parseInt(b.targetDeviceFamily,10)===a.Config.SETTINGS_DEVICE_TARGET.ANY&&h!==a.Config.SETTINGS_DEVICE_TARGET.ANY)return!1}return!0})}})();a.Factories=a.Factories||{};(function(){a.Factories.ContainerFactory=a.Factories.ContainerFactory||{createFriendlyIframeTool:function(){var c=
document.createElement("iframe"),b=a.tools.isBrowser.internetExplorer9();b&&(c.src="about:blank");c.style.width="100%";c.style.height="100%";c.style.overflow="hidden";c.frameBorder="0";c.scrolling="no";c.align="top";c.seamless="seamless";c.marginwidth="0";c.marginheight="0";var d=new Promise(function(a){c.onload=function(){a()};c.onreadystatechange=function(){"complete"!==this.readyState&&"interactive"!==this.readyState||a()}}),e={appendToElement:function(a){a.appendChild(c);return e},getIFrame:function(){return c},
waitForLoad:function(){return d.then(function(){return e})},writeContent:function(a){var d=c.contentWindow.document;d.open();d.write(a);b||d.close();return e}};return e}}})();(function(){a.DisclaimerBarFactory=a.DisclaimerBarFactory||{createBarWithSettings:function(c,b){var d={showDisclaimer:c.getBool("ui.media.Banner.showDisclaimer",!1),disclaimerLink:c.get("ui.media.overlays.Disclaimer.disclaimerLink",a.Config.DISCLAIMER_DEFAULT_LINK)},e=c.getBool("ui.media.plugins.ExternalBannerSlot.disclaimerInsideBanner",
!1),f=b===a.Config.PLACEMENT_ANCHOR_TYPE.STUB;if(e&&f)return d.external=!1,new a.DisclaimerBarInside(d);d.external=!0;return new a.DisclaimerBarBasic(d)}}})();(function(){var c=["externalbannerslot","floorbannerslot","vastpreroll","bannerslot","thirdpresencevideo"];a.AnchorTypeResolver=a.AnchorTypeResolver||{fetchSinglePluginName:function(a){a=a.split(",");for(var d=0,e=a.length;d<e;d+=1){var f=a[d].trim().toLowerCase();if(0<=c.indexOf(f))return f}return""},resolveAnchorTypeForSettings:function(b){var c=
!1;b=b.get("ui.media.overridePlugins","bannerslot").trim();0<b.length&&(0<=b.indexOf(",")&&(b=a.AnchorTypeResolver.fetchSinglePluginName(b)),c="externalbannerslot"===b.toLowerCase()?a.Config.PLACEMENT_ANCHOR_TYPE.STUB:"floorbannerslot"===b.toLowerCase()?a.Config.PLACEMENT_ANCHOR_TYPE.LAUNCHPAD:"vastpreroll"===b.toLowerCase()?a.Config.PLACEMENT_ANCHOR_TYPE.STUB:"thirdpresencevideo"===b.toLowerCase()?a.Config.PLACEMENT_ANCHOR_TYPE.STUB:a.Config.PLACEMENT_ANCHOR_TYPE.BOX);return c}}})();(function(){var c,
b=function(){this.supports={html5:"function"===typeof document.createElement("video").canPlayType,flash:a.tools.flash.flashSupported}};a.videoSupport={supports:function(a){c||(c=new b);return!0===c.supports[a]}}})();(function(){a.AdElementFactory=a.AdElementFactory||{createAdElementWithWaterfall:function(c,b,d,e,f){e=e||new a.SettingsOBC;var g=b.getCurrentStep();if(!1!==g){b=g.network.toLowerCase();var h=a.AdElementFactory.getElementType(b),l=new (a.AdElementFactory.getAdElementClass(b))({kioskID:d}),
q=function(){l.set("loaded");l.publish("loaded")},r=a.tools.create("div");f={advertiserID:g.advertiserID,zoneID:g.zone,network:b,kioskID:d,width:g.proportions.width,height:g.proportions.height,placementType:f.getOptions().placementType,domain:a.tools.environment.getPageDomain(),dfpCount:l instanceof a.AdElementDFP?l.getDFPIndex():-1};if("iframe"===h)return b=a.AdElementFactory.getNetworkURL(b,g.zone,d,e),d=a.AdElementFactory.createIFrame(d),c=a.AdElementApplicatorFactory.createApplicatorForIFrame(c,
d,b,q),l.setScalingElement(d),l.setApplicator(c),l;if("script"===h){c.appendChild(r);c=a.AdElementFactory.getScriptResourceForNetwork(b);if(c=a.AdContentTokenResolver.resolveContent(c,f))return c=a.AdElementApplicatorFactory.createApplicatorForScript(r,c,q,d),l.setScalingElement(r),l.setApplicator(c),l;throw new k("No script content available for network: "+b);}if("in-line"===h){r=a.AdElementFactory.createInLine(d);c.appendChild(r);c=a.AdElementFactory.getScriptResourceForNetwork(b);if(c=a.AdContentTokenResolver.resolveContent(c,
f))return c=a.AdElementApplicatorFactory.createApplicatorForInLine(r,c,q),l.setScalingElement(r),l.setApplicator(c),l;throw new k("No in-line content available for network: "+b);}if("video"===h)return c.appendChild(r),c=a.AdElementApplicatorFactory.createApplicatorForVideo(r,g.zone,d,function(b){b instanceof a.VASTVideoAdFlash?(l.set("flash"),l.removeScaling()):b instanceof a.VASTVideoAdHTML5&&l.set("html5");b.setupInContainer(r);b.subscribe("adCompleted",function(){l.publish("adCompleted")});return new Promise(function(a){b.subscribe("adStarted",
function(){q();a()})})}),l.setScalingElement(r),l.setApplicator(c),l;a.tools.debug.warn("/AdElementFactory/","Failed getting information for network:",g.network)}else a.tools.debug.warn("/AdElementFactory/","Unable to get waterfall step information for creating an ad element");return!1},createIFrame:function(c){var b=a.tools.create("iframe");b.setAttribute("id","kbanner"+c);b.setAttribute("frameborder","0");b.setAttribute("scrolling","no");b.setAttribute("ALLOWTRANSPARENCY","true");b.setAttribute("MARGINHEIGHT",
"0");b.setAttribute("MARGINWIDTH","0");b.setAttribute("TOPMARGIN","0");b.setAttribute("LEFTMARGIN","0");b.setAttribute(a.Config.KIOSKED_AD_ELEMENT_ID_ATTRIBUTE,c);b.style.position="absolute";b.style.left="0px";b.style.bottom="0px";b.style.border="none";b.style.WebkitTransformOrigin="0% 100%";b.style.MozTransformOrigin="0% 100%";b.style.msTransformOrigin="0% 100%";b.style.OTransformOrigin="0% 100%";b.style.transformOrigin="0% 100%";b.style.setProperty("max-width","none","important");b.style.setProperty("min-height",
"0","important");b.style.setProperty("margin","0 0","important");b.style.setProperty("margin","0 0","important");return b},createInLine:function(c){var b=a.tools.create("div");b.setAttribute(a.Config.KIOSKED_AD_ELEMENT_ID_ATTRIBUTE,c);return b},getAdElementClass:function(c){switch(c.toLowerCase()){case "dfp":return a.AdElementDFP;case "thirdpresence":return a.AdElementTP;default:return a.AdElement}},getElementType:function(a){switch(a){case "revive":case "aol":return"iframe";case "iow":case "dfp":case "thirdpresence":return"in-line";
case "appnexus":case "criteo":case "openx":case "districtm":return"script";case "vast":return"video";case "test:script":return"script";default:return!1}},getNetworkURL:function(c,b,d,e){e=e||new a.SettingsOBC;switch(c.toLowerCase()){case "revive":return c=a.tools.encoding.formURLStringFromParameters({cb:d,refresh:"",what:"zone:"+b}),e.get("ui.media.Banner.providers.ReviveProvider.URLPath","//ad.kiosked.com/www/delivery/")+"afr.php?"+c;case "appnexus":return b={cb:d,referrer:encodeURIComponent(a.tools.environment.getPageUrl()),
id:b},c="https:"===n.pageProtocol?"https://secure.adnxs.com/":"http://ib.adnxs.com/",b=a.tools.encoding.formURLStringFromParameters(b),e.get("ui.media.Banner.providers.AppNexusProvider.URLPath",c)+"tt?"+b;default:return""}},getScriptResourceForNetwork:function(c){switch(c.toLowerCase()){case "appnexus":return"https:"===a.tools.pageProtocol?a.resourceManager.getResource("networks/appnexus_secure.html"):a.resourceManager.getResource("networks/appnexus.html");case "dfp":return a.resourceManager.getResource("networks/dfp.html");
case "districtm":return a.resourceManager.getResource("networks/districtm.html");case "thirdpresence":return a.resourceManager.getResource("networks/thirdpresence.html");case "criteo":return a.resourceManager.getResource("networks/criteo.html");case "openx":return a.resourceManager.getResource("networks/openx.html");case "iow":return a.resourceManager.getResource("networks/iow.html");case "test:script":return a.resourceManager.getResource("networks/test.html");default:return null}}}})();(function(){a.AdElementApplicatorFactory=
a.AdElementApplicatorFactory||{createApplicatorForIFrame:function(a,b,d,e){return function(){if(b&&a)return(new Promise(function(e){b.onload=e;b.src=d;a.appendChild(b)})).then(e);throw new k("Required: iframe and container");}},createApplicatorForInLine:function(c,b,d){return function(){c.innerHTML=b;return a.tools.dom.reloadScriptsInNode(c).then(d)}},createApplicatorForScript:function(c,b,d,e){return function(){return(new Promise(function(d){var g=a.resourceManager.getResource("helpers/iframe-padding.html"),
h=a.tools.create("iframe");h.style.width="100%";h.style.height="100%";h.style.overflow="hidden";h.frameBorder="0";h.scrolling="no";h.align="top";h.seamless="seamless";h.marginwidth="0";h.marginheight="0";h.onload=function(){d()};h.onreadystatechange=function(){"complete"!==this.readyState&&"interactive"!==this.readyState||d()};h.setAttribute("data-kioskid",e);c.appendChild(h);h.contentWindow._kskdContents="<!DOCTYPE html><html><head></head><body>"+(g+"\n"+b)+"</body></html>";h.src='javascript:window["_kskdContents"]'})).then(d)}},
createApplicatorForVideo:function(c,b,d,e){return function(){if(c){var f=new a.VASTDelegate(b);return f.prepareVideoPlayer().then(function(a){if(!a)throw new k("Failed building video player");f.destroy();return a.initialise().then(function(){a.setKioskID(d);return a},function(a){throw new k("Failed initialising video player: "+a);})}).then(e)}throw new k("Required: container");}}}})();(function(){var c="ADVERTISER_ID CACHEBUSTER DFP_INSTANCE_COUNT DOMAIN HEIGHT ID KIOSK_ID NETWORK_NAME PLACEMENT_TYPE SIZE WIDTH".split(" "),
b={advertiserID:"ADVERTISER_ID",dfpCount:"DFP_INSTANCE_COUNT",domain:"DOMAIN",height:"HEIGHT",kioskID:["KIOSK_ID","CACHEBUSTER"],network:"NETWORK_NAME",placementType:"PLACEMENT_TYPE",width:"WIDTH",zoneID:"ID"};a.AdContentTokenResolver=a.AdContentTokenResolver||{convertFriendlyToRaw:function(d){var e={},f=[],g;for(g in b)if(b.hasOwnProperty(g)){var h=b[g];a.tools.array.isArray(h)||(h=[h]);h.forEach(function(a){e[a]=d[g];f.push(a)})}e.SIZE=""+(e.WIDTH||"0")+"x"+(e.HEIGHT||"0");f.push("SIZE");if(f.length!==
c.length)throw new k("Invalid number of friendly properties to raw: "+f.length+"/"+c.length);return e},resolveContent:function(b,c){var f=a.AdContentTokenResolver.convertFriendlyToRaw(c);return a.tools.formatting.tokenReplaceString(b,f)}}})();a.resourceManager=a.resourceManager||function(){var c={};return{getResource:function(b){if(a.resources&&a.resources.hasOwnProperty(b)){if(c.hasOwnProperty(b))return c[b];var d=a.resources[b];try{var e=a.tools.encoding.base64_decode(d);return""===e?null:c[b]=
e}catch(f){a.tools.debug.error("/ResourceManager/","Failed retrieving and decoding resource: "+b)}}return null}}}();a.SnifferUtilities=a.SnifferUtilities||function(){var c=["style","kioskedhash_development","kioskedhash_staging","kioskedhash_production"];return{createElementHash:function(b,d,e){n.isset(d)||(d=0);var f=n.hash(a.SnifferUtilities.processPageURL(a.tools.environment.getPageUrl()).toLowerCase()),g="",g=b instanceof HTMLImageElement?a.SnifferUtilities.processImageURL(a.tools.dom.getImageSource(b)):
a.SnifferUtilities.elementAsString(b,c),g=g+d.toString(),g=n.hash(g.toLowerCase());return e+"_"+f+"_"+g},elementAsString:function(b,d){if(!0!==b instanceof HTMLElement)throw new a.Exceptions.InvalidTypeException("HTMLElement",typeof b,this);d=d||c;var e=b.tagName.toLowerCase(),f=b.attributes,g=f.length,h={},l=[],q;for(q=0;q<g;q+=1){var r=f[q].name;0<=d.indexOf(r)||l.push(r)}l.sort();f=l.length;for(q=0;q<f;q+=1)h[l[q]]=b.getAttribute(l[q]);return e+=" "+JSON.stringify(h)},elementHashIsValid:function(a){var c=
/^[0-9]{1,6}_[A-Za-z0-9]{8}_[A-Za-z0-9]{8}$/;return n.isString(a)&&c.test(a)},getMaximumItemsPerRound:function(){return a.tools.isBrowser.internetExplorer11()?a.Config.SNIFFER_MAX_ELEMENTS_PER_CYCLE_STEADY:a.Config.SNIFFER_MAX_ELEMENTS_PER_CYCLE},getPageType:function(){for(var a=0,c=0,e=0,f=document.getElementsByTagName("img"),g=0,h=0,e=0;e<f.length;e+=1)250<f[e].offsetHeight&&300<f[e].offsetWidth&&(g+=1);for(e=0;e<f.length;e+=1)100<f[e].offsetHeight&&180<f[e].offsetWidth&&(h+=1);3>g&&(a+=10);20<
h&&(c+=20);3<document.getElementsByTagName("h1").length&&(c+=20);3<document.getElementsByTagName("h2").length&&(c+=10);50<document.getElementsByTagName("h3").length&&(c+=30);return c>a?"index":"article"},getSnifferItemSkeleton:function(){return{categories:null,context:null,element:null,hash:"",node:null,plugins:[]}},highlightAnalyzedElement:function(a,c,e){if(e&&(c=c.toLowerCase(),a instanceof HTMLElement))switch(c){case "target":a.style.border="solid 8px #00FF00";break;case "title":a.style.backgroundColor=
"#0000FF";a.style.color="#FFF";break;case "content":a.style.backgroundColor="#FF0000"}},processDOMModifications:function(a){a._bodyHTMLCollection=null;var c=a.getSettings();if(c&&!0===c.getBool("ui.media.Banner.showFloorBanner",!1)){var e=5E3,c=function(){var c=!1;try{a._bodyHTMLCollection=document.createElement("div"),document.body.appendChild(a._bodyHTMLCollection),a._bodyHTMLCollection.innerHTML+='<div style="width: 5px; height: 5px" id="kskdFooter"></div>'}catch(d){c=!0}if(!1===c)clearInterval(f);
else if(e-=100,0>=e)throw clearInterval(f),Error("Sniffer DOM modification never succeeded");},f=setInterval(c,100);c()}},processImageURL:function(a){var c=n.overrideCall("SnifferUtilities.processImageURL");return c?c(a):a},processPageURL:function(a){var c=n.overrideCall("SnifferUtilities.processPageURL");return c?c(a):a.replace(/#.*$/,"")}}}();a.Analyzers.AbstractAnalyzer=a.Analyzers.AbstractAnalyzer||KskdClass.extend(function(){return{construct:function(c){this.zoneAnalysis=this.pageAnalysis=null;
this._settings={};this._settings=new a.SettingsOBC({});c&&(!0===c.debugMode&&(this.debugMode=!0),n.isset(c.settings)&&(this._settings=c.settings.getSubset("ui.analyzers"),this._mediaSettings=c.settings))},getSettings:function(){return this._settings},getMediaSettings:function(){return this._mediaSettings},analyzePage:function(){return{}},analyzeZones:function(){return[]},getPageAnalysis:function(){return{}},isValidResourceURL:function(a){return/https?:\/\/[a-zA-Z0-9._-]+\/([^ ])*/i.test(a)},sendAnalysis:function(a){var b=
{url:"//"+n.environment.getDomainName()+"/matching-report/report",content:[]};a&&this.pageAnalysis&&b.content.push(this.pageAnalysis);if(this.zoneAnalysis){for(a=0;a<this.zoneAnalysis.length;a+=1)b.content.push(this.zoneAnalysis[a]);n.request(b)}}}}());a.Analyzers.GeneralAnalyzer=a.Analyzers.GeneralAnalyzer||a.Analyzers.AbstractAnalyzer.extend(function(){function c(c){n.scope.enforceCaller(this,a.Analyzers.GeneralAnalyzer,"Expected caller to be instance of GeneralAnalyzer");if(!c)return null;-1===
c.indexOf("http:")&&-1===c.indexOf("https:")&&(c=window.location.protocol+"//"+b(c)+c);if(-1<c.indexOf(".jpg")||-1<c.indexOf(".png")||-1<c.indexOf(".gif"))return null;var d=b.call(this,c);n.scope.enforceCaller(this,a.Analyzers.GeneralAnalyzer,"Expected caller to be instance of GeneralAnalyzer");for(var e=this.getMediaSettings().getSubset("ui").get("hostNames","").split(","),f=0;f<e.length;f+=1)e[f]=n.trim(e[f]);for(var f=!1,g=0;g<e.length;g+=1)3<e[g].length&&-1!==d.indexOf(e[g])&&(f=!0);return!1===
f?null:c}function b(a){var b=document.createElement("a");b.href=a;return b.hostname}function d(a,b){try{if(a instanceof HTMLElement){if(b){a=a.cloneNode(!0);for(var c=n.dom.query(b,a),d=0;d<c.length;d+=1)c[d]instanceof HTMLElement&&n.dom.destroy(c[d])}return n.trim(n.dom.getPlainText(a)).replace(/(\r\n|\n|\r)/gm," ").replace(/\s+/g," ")}}catch(e){n.debug.log("could not process element content",e)}return""}function e(a){if(!a)return 0;a=a.replace(/(\r\n|\n|\r)/gm," ");a=a.replace(/[ ]{2,}/gi," ");
a=a.replace(/(^\s*)|(\s*$)/gi,"");return""===a?0:a.split(" ").length}function f(b,c,d){n.scope.enforceCaller(this,a.Analyzers.GeneralAnalyzer,"Expected caller to be instance of GeneralAnalyzer");var f="",g=0,h;c=n.dom.query(b,c);for(var k=0;k<c.length;k+=1){b=n.trim(n.dom.getPlainText(c[k]));var m=window.getComputedStyle(c[k],null).getPropertyValue("font-size"),m=parseFloat(m);2<e.call(this,b)&&m>g&&(f=b,g=m,h=c[k])}if(d&&g>d)return a.SnifferUtilities.highlightAnalyzedElement(h,"title",this.debugMode),
f;if(d)return"";a.SnifferUtilities.highlightAnalyzedElement(h,"title",this.debugMode);return f}function g(b,c){n.scope.enforceCaller(this,a.Analyzers.GeneralAnalyzer,"Expected caller to be instance of GeneralAnalyzer");var d="",e=n.dom.query("h1",b),g=0<e.length?n.trim(n.dom.getPlainText(e[0])):"",h=document.getElementsByTagName("body")[0];if(0===d.length&&(0<g.length&&(d=g,a.SnifferUtilities.highlightAnalyzedElement(e[0],"title",this.debugMode)),c&&0===d.length&&(d=f.call(this,"h1",h,55)),c&&0===
d.length&&(d=f.call(this,"h2",h,55)),c&&0===d.length&&(d=f.call(this,"h3",h,55)),0===d.length&&(e=n.dom.query("h2",b),d=g=0<e.length?n.trim(n.dom.getPlainText(e[0])):"",a.SnifferUtilities.highlightAnalyzedElement(e[0],"title",this.debugMode)),0===d.length&&(d=n.dom.query("h3",b),d=g=0<d.length?n.trim(n.dom.getPlainText(d[0])):"",a.SnifferUtilities.highlightAnalyzedElement(b,"title",this.debugMode)),0===d.length&&(d=f.call(this,"h1",b.parentNode),0===d.length&&(d=f.call(this,"h2",b.parentNode)),0===
d.length&&(d=f.call(this,"h3",b.parentNode)),0===d.length))){d=f.call(this,"h1",b.parentNode.parentNode);0===d.length&&(d=f.call(this,"h2",b.parentNode.parentNode));0===d.length&&(d=f.call(this,"h3",b.parentNode.parentNode));if(0===d.length&&c)for(g=document.getElementsByTagName("meta"),e=0;e<g.length;e+=1)"og:title"===g[e].getAttribute("property")&&(d=g[e].getAttribute("content"));0===d.length&&(d=f.call(this,"h1",h),0===d.length&&(d=f.call(this,"h2",h)),0===d.length&&(d=f.call(this,"h3",h)))}return d}
function h(b,c){n.scope.enforceCaller(this,a.Analyzers.GeneralAnalyzer,"Expected caller to be instance of GeneralAnalyzer");var d="",f=n.dom.query("figcaption",b);if(f=(f=0<f.length?n.dom.getPlainText(f[0]):!1)?n.trim(f):!1)d=f;else for(var f=n.dom.query("a",b),g=0;g<f.length;g+=1)if(c.link&&f[g].getAttribute("href")===c.link){var h=n.trim(n.dom.getPlainText(f[g]));5<e.call(this,h)&&(d=h)}return d}return{MIN_WORD_COUNT:30,MAX_WORD_COUNT:300,construct:function(a){this.$super(a)},analyzePage:function(b,
c,d){var e="article";!1===this.getMediaSettings().getBool("ui.sniff.disableIndexPageAnalysis",!1)&&(e=a.SnifferUtilities.getPageType(b));n.scope.enforceCaller(this,a.Analyzers.GeneralAnalyzer,"Expected caller to be instance of GeneralAnalyzer");for(var f=b="",g=document.getElementsByTagName("title")[0],g=g?n.dom.getPlainText(g):"",h=document.getElementsByTagName("meta"),k=0;k<h.length;k+=1){var m=h[k].getAttribute("property"),p=h[k].getAttribute("name");""===g&&"title"===p&&(g=h[k].getAttribute("content"));
""===g&&"og:title"===m&&(g=h[k].getAttribute("content"));""===b&&"og:description"===m&&(b=h[k].getAttribute("content"));""===b&&"description"===p&&(b=h[k].getAttribute("content"));"keywords"===p&&(f=h[k].getAttribute("content"))}b={title:g,description:b,keywords:f};this.pageType=e;this.pageAnalysis=b;this.pageAnalysis.url=a.SnifferUtilities.processPageURL(a.tools.environment.getPageUrl());this.pageAnalysis.type="webPage";this.pageAnalysis.albumId=c;this.pageAnalysis.publisherId=d;this.pageAnalysis.pageType=
e;return this.pageAnalysis},analyzeZones:function(b){var f=[],r=a.SnifferUtilities.processPageURL(a.tools.environment.getPageUrl());this.pageType||(this.pageType=a.SnifferUtilities.getPageType(b));for(var k=0;k<b.length;k+=1){a.SnifferUtilities.highlightAnalyzedElement(b[k].img,"target",this.debugMode);var m;a:{var p=b[k];m=this.pageType;var s=r;n.scope.enforceCaller(this,a.Analyzers.GeneralAnalyzer,"Expected caller to be instance of GeneralAnalyzer");var x=p.img,s={pageUrl:s,id:p.zoneId},y=0;s.type=
"webImage";s.responseTypes=p.responseTypes;if(x instanceof HTMLImageElement&&x.src&&0<x.src.length){if(s.url=x.src,!this.isValidResourceURL(s.url)){n.debug.warn("/GeneralAnalyzer/","Invalid image URL",x);m=!1;break a}}else s.url=p.zoneId;s.width=x.offsetWidth;s.height=x.offsetHeight;s.alt=x.getAttribute("alt");if("index"===this.pageType){var v=x;n.scope.enforceCaller(this,a.Analyzers.GeneralAnalyzer,"Expected caller to be instance of GeneralAnalyzer");p=void 0;for(v=v.parentNode;v&&v.parentNode;){if("A"===
v.tagName.toUpperCase()&&v.getAttribute("href")){p=v.getAttribute("href");break}v=v.parentNode}if(p=c.call(this,p))s.link=n.environment.getImageFullURL(p)}var A=this.getSettings().getSubset("GeneralAnalyzer"),y=A.get("forceContentElement",!1),p=A.get("excludeContentElement",!1),v=A.get("minWordCount",this.MIN_WORD_COUNT),A=A.get("minWordCount",this.MAX_WORD_COUNT),w=!1,C=x,D="";if(y=y?document.querySelector(y):!1)C=y,D=d(C,p),s.content=D,s.caption=h.call(this,C,s),s.title=g.call(this,C,m),s.width=
x.offsetWidth,s.height=x.offsetHeight,a.SnifferUtilities.highlightAnalyzedElement(C,"content",this.debugMode);else for(;!1===w;){if("BODY"===C.parentNode.tagName.toUpperCase()||"HTML"===C.parentNode.tagName.toUpperCase())w=!0;D=d(C,p);y=e.call(this,D);if(y>v){var w=C.parentNode,z=d(w,p),y=e.call(this,z);y<A?(s.content=z,s.caption=h.call(this,w,s),s.title=g.call(this,w,m)):(s.content=D,s.caption=h.call(this,C,s),s.title=g.call(this,C,m));s.width=x.offsetWidth;s.height=x.offsetHeight;a.SnifferUtilities.highlightAnalyzedElement(C,
"content",this.debugMode);w=!0}C=C.parentNode}m=s}m?f.push(m):n.debug.warn("/GeneralAnalyzer/","Failed analysis for item:",b[k])}return this.zoneAnalysis=f},getPageAnalysis:function(){this.pageAnalysis&&(this.pageAnalysis.url=a.SnifferUtilities.processPageURL(a.tools.environment.getPageUrl()));return this.pageAnalysis}}}());a.styles=a.styles||{AdContainerElement:{"default":{position:"absolute",overflow:"hidden",pointerEvents:"all"}},BannerCloseImage:{"default":{__stylesheet:"images.BannerCloseImage"},
mobile:{__stylesheet:"images.BannerCloseImageMobile"}},BannerCloseImageInside:{"default":{__stylesheet:"images.BannerCloseImageInside"},mobile:{__stylesheet:"images.BannerCloseImageInsideMobile"}},BannerDisclaimerContainer:{"default":{position:"absolute",overflow:"hidden",zIndex:2,height:"18px",right:"0px",minWidth:"18px",opacity:"0"},mobile:{__include:"default",height:"20px",marginTop:"0px"},hd:{__include:"mobile"}},BannerDisclaimerContainerInside:{"default":{position:"absolute",overflow:"hidden",
zIndex:11,height:"18px",left:"0px",minWidth:"18px",opacity:"0"},mobile:{__include:"default",height:"20px",marginTop:"0px"},hd:{__include:"mobile"}},BannerDisclaimerCloseButtonContainer:{"default":{position:"absolute",right:"0px",top:"0px",width:"18px",height:"18px",cursor:"pointer",zIndex:2},mobile:{__include:"default",width:"20px",height:"20px"},hd:{__include:"mobile"}},BannerDisclaimerCloseButtonContainerLeft:{"default":{position:"absolute",left:"0px",top:"0px",width:"18px",height:"18px",cursor:"pointer",
zIndex:2},mobile:{__include:"default",width:"20px",height:"20px"},hd:{__include:"mobile"}},BannerDisclaimerCloseButtonIcon:{"default":{__include:"BannerCloseImage.default.normal",width:"100%",height:"100%",backgroundSize:"100% 100%"},mobile:{__include:["default","BannerCloseImage.mobile.normal"]},hd:{__include:"mobile"}},BannerDisclaimerCloseButtonIconInside:{"default":{__include:["BannerDisclaimerCloseButtonIcon.default.normal","BannerCloseImageInside.default.normal"]},mobile:{__include:["default",
"BannerCloseImageInside.mobile.normal"]},hd:{__include:"mobile"}},BannerDisclaimerAdsLogo:{"default":{__include:"BannerAdsLogo.default.normal",position:"relative","float":"left",width:"100%",height:"100%"},mobile:{__include:["default","BannerAdsLogo.mobile.normal"],backgroundSize:"85px 20px"},hd:{__include:["mobile","BannerAdsLogo.hd.normal"]}},BannerDisclaimerAdsLogoExternal:{"default":{__include:["BannerDisclaimerAdsLogo.default.normal","BannerAdsLogoGrey.default.normal"]},mobile:{__include:["default",
"BannerAdsLogoGrey.mobile.normal"]},hd:{__include:["default","BannerAdsLogoGrey.hd.normal"]}},BannerDisclaimerAdsLogoInside:{"default":{__include:["BannerAdsLogoBackground.default.normal"],backgroundSize:"auto 100%",position:"relative","float":"left",width:"100%",height:"100%"},mobile:{__include:["default","BannerAdsLogoBackground.mobile.normal"]},hd:{__include:["default","BannerAdsLogoBackground.hd.normal"]}},BannerDisclaimerAdsLogoFloor:{"default":{__include:["BannerDisclaimerAdsLogo.default.normal",
"BannerAdsLogoGrey.default.normal"]},mobile:{__include:["BannerDisclaimerAdsLogo.mobile.normal","BannerAdsLogo.mobile.normal"]},hd:{__include:["BannerDisclaimerAdsLogo.hd.normal","BannerAdsLogoGrey.hd.normal"]}},BannerDisclaimerAdsLogoContainer:{"default":{position:"relative",height:"18px",width:"86px",marginRight:"18px"},mobile:{__include:"default",height:"20px",width:"85px",marginRight:"20px"},hd:{__include:"mobile"}},BannerDisclaimerAdsLogoContainerLeft:{"default":{normal:{position:"relative",
height:"18px",width:"18px",marginLeft:"19px"},hover:{position:"relative",height:"18px",width:"86px",marginLeft:"19px"}},mobile:{__include:"default",height:"20px",width:"20px",marginLeft:"21px"},hd:{__include:"mobile"}},BannerAdsLogo:{"default":{__stylesheet:"images.BannerAdsLogoDefault"},mobile:{__stylesheet:"images.BannerAdsLogoMobile"},hd:{__include:"mobile"}},BannerAdsLogoGrey:{"default":{__stylesheet:"images.BannerAdsLogoGreyDefault"},mobile:{__stylesheet:"images.BannerAdsLogoGreyMobile"},hd:{__include:"mobile"}},
BannerAdsLogoBackground:{"default":{__stylesheet:"images.BannerAdsLogoBackgroundDefault"},mobile:{__stylesheet:"images.BannerAdsLogoBackgroundMobile"},hd:{__include:"mobile"}},BannerFooterContainer:{"default":{position:"fixed",left:"0px",right:"0px",bottom:"-500px",backgroundColor:"rgba(0,0,0,0.1)"},mobile:{__include:"default",backgroundColor:"initial"}},ExpandableBannerContainerBox:{"default":{position:"fixed",overflow:"auto",overflowX:"hidden",overflowY:"scroll",background:"rgba(0, 0, 0, 0.70)",
top:0,left:0,right:0,bottom:0,border:0,opacity:0,display:"none",zIndex:"72101021"},mobile:{__include:"default"},hd:{__include:"default"}},ExpandableBannerContentBox:{"default":{position:"absolute",top:"50%",left:"50%",opacity:0,"webkit-transform-origin":"0% 100%"},mobile:{__include:"default",width:"90%"},hd:{__include:"mobile"}},ExpandableBannerDisclaimerContainer:{"default":{position:"absolute",top:"-20px",right:"0px",overflow:"hidden",zIndex:2,height:"20px",minWidth:"20px",marginTop:"0px"},mobile:{__include:"default",
top:"-20px",height:"20px",marginTop:"0px"},hd:{__include:"mobile"}}};a.KioskedObject=a.KioskedObject||KskdClass.extend(function(){return{construct:function(){n.scope.enforceCaller(this,a.KioskedObject,"Expected instance of KioskedObject");this._status=new a.Status;n.decorators.decorateWithStatus(this,this._status);this._pubSub=new a.PubSub;n.decorators.decorateWithPubSub(this,this._pubSub);n.decorators.decorateWithMeta(this)},bindMember:function(c){var b=this[c];if("function"!==typeof b)throw new k("Provided member name did not match any member function: "+
c);return a.tools.compatibility.bindFunction(b,this)},destroy:function(){this._pubSub.removeAll();this.destroyed=!0},isBuilt:function(){return!0}}}());a.AdComponentAbstract=a.AdComponentAbstract||a.KioskedObject.extend(function(){return{construct:function(){this.$super();this.set("healthy")},destroy:function(){this.unset("healthy");this.$super()},isHealthy:function(){return this.is("healthy")}}}());a.Config=a.Config||{ANALYTICS_EVENT_NAME:"kioskedAnalytics",ANALYTICS_EVENT_NAME_PROPERTY:"name",ANALYTICS_MODULE_LOG_NAME:"KioskedAnalytics",
ANALYTICS_SAMPLERATE_IMMUNE_EVENTS:["pageDataInvalid"],ANALYTICS_TARGET_DOMAIN_PRODUCTION:"http://events.kiosked.com/u",ANALYTICS_TARGET_DOMAIN_STAGING:"http://events.intags.com/u",BANNER_AD_Z_INDEX:10,BANNER_ANIMATION_SPEED_IN:600,BANNER_ANIMATION_SPEED_OUT:600,BANNER_CLASS_NAMES:"BannerSlotAbstract BannerSlot ExternalBannerSlot FloorBannerSlot ExpandableBannerSlot ExpandableBannerLightBoxSlot VastPreroll ThirdPresenceVideo".split(" "),BANNER_COMPONENT_LOAD_STATUS:{BUILT:500,BUILT_AND_LOADED:501},
BANNER_DISCLAIMER:{HEIGHT_DESKTOP:18,HEIGHT_MOBILE:20},BANNER_SIZE_STANDARDS:{HORIZONTAL:{WIDTH:728,HEIGHT:90},HORIZONTAL_SMALL:{WIDTH:468,HEIGHT:60},VERTICAL:{WIDTH:160,HEIGHT:600},MOBILE:{WIDTH:320,HEIGHT:50},MEDIUM_RECT:{WIDTH:300,HEIGHT:250},VIDEO:{WIDTH:640,HEIGHT:360}},BANNER_VIS_FRAME_Z_INDEX:5,BANNER_VIS_UPDATE_INTERVAL:400,CACHE:{ZONE_RESPONSE:!1},DFP_ELEMENT_PLACEMENT_ID_ATTR:"kskd-dfp-placement",DISCLAIMER_DEFAULT_LINK:"http://page.kiosked.com/who-served-this-ad",ELEMENT_SEARCH_MODE:{SEARCH:"search",
SELECT:"select"},ELEMENT_SELECTION_MODE:{NORMAL:"normal",CUSTOM:"custom"},FIXED_BANNER_DIV_CLASS:"kskdFixedBannerContainer",FIXED_BANNER_Z_INDEX:2147483640,FLASH_PLAYER_LOCATION:"//apps-res.kiosked.com/vast/swf/KskdAdPlayer.swf",IOW_AD_RESPONSE_CB:"_kskd_ad_response",IOW_AD_RESPONSE_SLOT_PREFIX:"kskd_slot_",IOW_AD_SERVER:{PRODUCTION:"//ads.kiosked.com/ad",DEVELOPMENT:"//adserving-dev.kiosked.iponweb.net/ad"},IOW_GLOBAL_NAMESPACE:"KRTB",IOW_TAGPROVIDER_GLOBAL_NAME:"KRTBTagProvider",KIOSKED_AD_ELEMENT_ID_ATTRIBUTE:"kskd-ad-id",
LIGHTBOX_DIV_CLASS:"kskdLightBoxContainer",META_MAX_KEYWORDS:10,PLACEMENT_ANCHOR_TYPE:{BOX:"box",STUB:"stub",LAUNCHPAD:"launchpad"},PLACEMENT_INPUT_MGR_INTERVAL:400,PLACEMENT_TYPE:{IN_MEDIA:"in-media",IN_LINE:"in-line",IN_SCREEN:"in-screen"},SAMPLE_RATE_PAGE_IMP:.1,SAMPLE_RATE_CONTAINER_IMP:.1,SAMPLE_RATE_CONTAINER_OPP:.1,SAMPLE_RATE_PAGE_TIMINGS:.1,SAMPLE_RATE_SEND_ALL:1,SAMPLE_RATE_WATERFALL:.05,SETTINGS_AB_TEST_OVERRIDE_NONE:0,SETTINGS_AB_TEST_OVERRIDE_FAIL:1,SETTINGS_AB_TEST_OVERRIDE_PARTIAL:2,
SETTINGS_AB_TEST_OVERRIDE_FULL:3,SETTINGS_DEVICE_TARGET:{ANY:0,DESKTOP:1,MOBILE:2,TABLET:3},SNIFFER_BLOCK_PARAM:"kskd-disable",SNIFFER_ELEMENT_QUEUE_DELAY:500,SNIFFER_INTERVAL:500,SNIFFER_MAX_ELEMENTS_PER_CYCLE:15,SNIFFER_MAX_ELEMENTS_PER_CYCLE_STEADY:5,SAMPLE_RATE_RANDOM_CURRENT:1,VAST_VIDEO_FORMAT_UNKNOWN:0,VAST_VIDEO_FORMAT_FLASH:1,VAST_VIDEO_FORMAT_HTML5:2,VERSION:"1.2.19"};var p=[];(function(){a.createWithMedia=a.createWithMedia||function(c){if(!(c instanceof a.PlacementContainer))throw new k("Failed storing placement container - not an instance of ITGS.PlacementContainer");
p.push(c);return c};a.destructors.destroyPlacement=a.destructors.destroyPlacement||function(c){c=c.getOptions().kioskID;var b=a.PlacementContainerLocator.getPlacementContainerByID(c);if(!b)throw new k("Could not find placement container for destruction: "+c);a.destructors.destroyPlacementContainer(b)};a.destructors.destroyPlacements=a.destructors.destroyPlacements||function(){for(var c=p.length,b=Promise.resolve(),d=0;d<c;d+=1){var e=p[d];try{b=b.then(a.destructors.destroyPlacementContainer(e))}catch(f){a.tools.debug.warn("Failed destroying placement:",
e)}}return b.then(function(){p=[]})};a.destructors.destroySniffer=a.destructors.destroySniffer||function(){if(a.sniffer)try{a.sniffer.destroy()}catch(c){n.debug.log("/Destructors/","Failed destroying (old) sniffer")}if(a.snifferController)try{a.snifferController.destroy()}catch(b){a.tools.debug.error("/Destructors/","Failed destroying sniffer")}};a.destructors.destroyPlacementContainer=a.destructors.destroyPlacementContainer||function(c){return new Promise(function(b){var d=!1;try{d=c.getPlacement().getOptions().kioskedZoneID,
c.destroy()}catch(e){a.tools.debug.warn("/Destructors/","Failed destroying placement container")}if("string"===typeof d&&0<d.length)if(p&&p instanceof Array)if(d=p.indexOf(c),0<=d)p.splice(d,1);else throw new k("Unable to locate placement container in global collection");else throw new k("Global placement container collection not found");else throw new k("Invalid Kiosked zone ID, unable to destroy container");b()})};a.destructors.destroyDiagnostics=a.destructors.destroyDiagnostics||function(){n.isset(a.diagnostics)&&
a.diagnostics.destroy()};a.destructors.destroyNamespace=a.destructors.destroyNamespace||function(c){var b=c||function(){};a.destructors.destroySniffer();a.destructors.destroyPlacements();a.destructors.destroyDiagnostics();setTimeout(function(){window.ITGS=null;try{delete window.ITGS}catch(a){}b()},500)};a.loadDiagnostics=function(){var c=a.loadedScript;delete a.loadDiagnostics;a.destructors.destroyNamespace(function(){window.ITGS_load_diagnostics=!0;var a=document.createElement("script");a.setAttribute("src",
c);a.setAttribute("type","text/javascript");document.getElementsByTagName("head")[0].appendChild(a)})};a.unloadManager=a.unloadManager||new a.UnloadManager})();n.compatibility.enforcePrototypeMinimumVersion(1,7);a.tools.compatibility.checkDocumentQuerySelectorAll();a.Exceptions={};(function(){var c=a.KioskedObject.extend(function(){return{construct:function(a,c,e){this._exceptionName="KioskedException";this._exceptionMessage="An unknown error has occurred";a&&c&&this.setInfo(a,c);this._target=e?e:
null},getTarget:function(){return this._target},setInfo:function(a,c){this._exceptionName="Kiosked"+a;this._exceptionMessage=c},toString:function(){return"["+this._exceptionName+"] "+this._exceptionMessage}}}());a.Exceptions.BadOptionException=c.extend(function(){return{construct:function(a,c,e){this.$super("BadOptionException",a?a:"A parameter passed contained an unexpected value or option",c);this._option=e},getOptionObject:function(){return this._option}}}());a.Exceptions.DuplicateActionException=
c.extend(function(){return{construct:function(a,c,e){this.$super("DuplicateActionException",a?a:"An action was executed that resulted in a duplicated path of events",e);this._dupTarget=c},getTarget:function(){return this._dupTarget}}}());a.Exceptions.IllegalInvocationException=c.extend(function(){return{construct:function(a,c){this.$super("IllegalInvocationException",a?a:"A function was called with an invalid context - 'this' was not an instance of the expected class",c)}}}());a.Exceptions.InvalidPropertiesException=
c.extend(function(){return{construct:function(a,c,e){this.$super("InvalidPropertiesException",a?a:"A required property of an object was invalid or missing",c);this._properties=e},getPropertiesObject:function(){return this._properties}}}());a.Exceptions.InvalidStateException=c.extend(function(){return{construct:function(a,c,e,f){e=e?e:null;this.$super("InvalidStateException","Invalid state: Expected context to have state '"+a+"' but was in '"+c+"' ("+(f||typeof e)+")",e)}}}());a.Exceptions.InvalidTypeException=
c.extend(function(){return{construct:function(a,c,e){this.$super("InvalidTypeException","Invalid type received: Expected type '"+a+"' but received '"+c+"'",e?e:null)}}}());a.Exceptions.LoopException=c.extend(function(){return{construct:function(a,c){this.$super("LoopException",a?a:"A loop or recursion failed to exit in time",c)}}}());a.Exceptions.NotSupportedException=c.extend(function(){return{construct:function(a,c){this.$super("NotSupportedException",a?a:"A requested feature or operation is not supported",
c)}}}());a.Exceptions.NullElementException=c.extend(function(){return{construct:function(a,c){this.$super("NullElementException",a?a:"An element was expected, but NULL received",c)}}}());a.Exceptions.UnexpectedException=c.extend(function(){return{construct:function(a,c,e){this._data=e;this.$super("UnexpectedException",a?a:"An element was expected, but NULL received",c)},getData:function(){return this._data}}}());a.Exceptions.UndefinedException=c.extend(function(){return{construct:function(a,c){this.$super("UndefinedException",
a?a:"An element was expected, but it was undefined",c)}}}())})();a.IOWManager=a.IOWManager||a.KioskedObject.extend(function(){function c(b){b.subscribe("iowRender",function(b){if(b=a.PlacementContainerLocator.getPlacementContainerByID(b.kioskID))b=b.getPlacement().getWaterfallTrickleData(),b[a.Config.ANALYTICS_EVENT_NAME_PROPERTY]="waterfallRender",a.messaging.dispatch(a.Config.ANALYTICS_EVENT_NAME,b);else throw new k("Failed finding placement container for IOW render event");})}return{construct:function(){this.$super();
this._proxy=null},getProxy:function(){null===this._proxy&&(this._proxy=new a.IOWProxy,c(this._proxy));return this._proxy},getTagProvider:function(){return window[a.Config.IOW_TAGPROVIDER_GLOBAL_NAME]?window[a.Config.IOW_TAGPROVIDER_GLOBAL_NAME]:null},prepareLibrary:function(){return new Promise(function(b,c){if(!0===a._iowLib)b();else if("function"===typeof a._iowLib){var e=a._iowLib;a._iowLib=!0;e(function(){b()},a.Config.IOW_GLOBAL_NAMESPACE,a.tools.environment.getIOWAdServerURL(),a.Config.IOW_AD_RESPONSE_CB,
a.Config.IOW_AD_RESPONSE_SLOT_PREFIX,a.Config.IOW_TAGPROVIDER_GLOBAL_NAME)}else c("Failed booting IOW lib")})}}}());(function(){var c=null;a.IOWManager.getSharedInstance=function(){null===c&&(c=new a.IOWManager);return c}})();a.IOWProxy=a.IOWProxy||a.KioskedObject.extend(function(){function c(a){return(a=d[a])?a:!1}function b(b,c){a.tools.scope.enforceCaller(this,a.IOWProxy,"Expected caller to be instance of IOWProxy");var d=a.IOWManager.getSharedInstance(),h=this.getQueue(),l=this.generateSectionQueueIndex(b);
d&&h&&(h=h[l]=h[l]||[],l=h.length,d=d.getTagProvider(),c<l&&(h=h[c],h.open=!1,h.slots=h.placements.length,d.requestAds({sectionId:b,dmp:!1,sync:!1,plc:h.placements.join(","),suid:h.requestLocalID,url:a.tools.environment.getPageUrl(),device_family:a.tools.environment.getDeviceType(),ab_test_value:a.snifferController.getSettingsMetaAbTesting().test})))}var d={"in-media":"m","in-line":"l","in-screen":"s"};return{construct:function(){this.$super();this._queue={}},claimQueuedSlots:function(a,b,c){var d=
this.getQueue();a=this.generateSectionQueueIndex(a);if(null!==d){d=d[a]||[];a=d.length;for(var l=0;l<a;l+=1){var q=d[l];if(!1===q.open&&q.requestLocalID===c)return q.open=!1,q.slots=b,q}}return null},destroy:function(){this._queue=null;this.$super()},fetchSlotData:function(a,b){var d=c(a);if(!1===d)throw new k("Invalid placement type: "+a);var h=this,l=0;return new Promise(function(a,c){(function t(){var e=h.getQueue(),k=h.generateSectionQueueIndex(b);if(null!==e){for(var e=e[k]||[],k=e.length,m=
!1,n=!1,p=0;p<k;p+=1){for(var v=e[p].slots||[],w=v.length,C=0;C<w;C+=1)if(v[C].plc===d){n=C;break}if(!1!==n){m=v[n];v.splice(n,1);break}}m?a(m):15E3<=l?c("Wait time exceeded, no valid slot response was found"):(l+=110,setTimeout(t,110))}else c("No queue present in proxy")})()})},generateLocalID:function(a,b){return a+"_"+b},generateSectionQueueIndex:function(a){return"s"+a},getNewRequestPacket:function(){return{open:!0,placements:[],requestLocalID:"",sectionID:0,slots:!1}},getQueue:function(){return this._queue},
processSlotsResponse:function(b,c){var d=c.length,h=0<d?c[0].suid:!1;if(!h)throw new k("Invalid local ID, or no IOW local ID available");this.claimQueuedSlots(b,c,h);a.tools.debug.log("/IOWProxy/","Received "+d+" slots on section "+b)},renderSlot:function(b,c,d,h){var l=this;return this.fetchSlotData(c,d).then(function(b){return new a.IOWResponse(b)}).then(function(c){if(c.isEmpty())return a.tools.debug.log("/IOWProxy/","IOW empty fill: fallback"),a.messaging.publish("placementFillError",h),Promise.reject("No fill");
var f=a.Factories.ContainerFactory.createFriendlyIframeTool();f.getIFrame().setAttribute("data-kioskid",h);f.appendToElement(b);f.writeContent(c.getPlacementHTML());l.publish("iowRender",{kioskID:h,sectionID:d});return f.waitForLoad()})},requestSlot:function(d,f){var g=c(d);if(!1===g)throw new k("Invalid placement type: "+d);var h=this.getQueue(),l=this.generateSectionQueueIndex(f),h=h[l]=h[l]||[],q=h.length,r=null;0<q&&(r=h[q-1],!0!==r.open&&(r=null));if(null===r){r=a.tools.mergeDefaults(this.getNewRequestPacket(),
{sectionID:f});h.push(r);var m=h.length-1,n=this;r.requestLocalID=this.generateLocalID(l,m);r.timer=setTimeout(function(){b.call(n,f,m)},200)}r.placements.push(g);5<=r.placements.length&&(r.open=!1)}}}());a.IOWResponse=a.IOWResponse||a.KioskedObject.extend(function(){return{construct:function(a){this.$super();this._data=a;this._data.data=(this._data.data||"").trim()},getFormat:function(){var a=this.getResponseData();return a.type?a.type.toLowerCase():""},getPlacementHTML:function(){var a=this.getFormat(),
b=this.getResponseData().data;return"html"===a?b:"javascript"===a?'<html><body style="margin: 0%"><script type="text/javascript">'+b+"\x3c/script>\x3c!-- Kskd wrapped placement --\x3e</body></html>":""},getResponseData:function(){return this._data||{}},isEmpty:function(){return a.tools.isEmpty(this.getResponseData().data)}}}());(function(){var c=new a.Status;n.decorators.decorateWithStatus(window.ITGS,c)})();a.SettingsOBC=a.SettingsOBC||a.KioskedObject.extend(function(){function c(a){a=n.trim(a);
return 0<a.length?("."===a[0]&&(a=a.substr(1)),"."===a[a.length-1]&&(a=a.substr(0,a.length-1)),a.split(".")):[a]}function b(a){var b={},c,g,h,l;for(l in a)if(a.hasOwnProperty(l)){c=b;g=l.split(".");for(var q=g.pop();g.length;)h=g.shift(),c=c[h]=c[h]||{};c[q]=a[l]}return b}return{construct:function(c){this.$super();this._settingsObj=c=c||{};if("object"!==typeof this._settingsObj)throw new a.Exceptions.InvalidTypeException("object",typeof this._settingsObj,this);if(this._settingsObj instanceof a.SettingsOBC)throw new a.Exceptions.InvalidTypeException("object",
"ITGS.SettingsOBC",this);this._settingsObj=b(this._settingsObj)},clone:function(){return new a.SettingsOBC(this.getSettingsObject())},get:function(a,b){if(-1!==a.indexOf(".")){var f=c(a);if(this._settingsObj.hasOwnProperty(f[0])){var g=this.getSubset(f[0]),f=f.splice(1),f=f.join(".");return g.get(f,b)}return b}return this._settingsObj.hasOwnProperty(a)?this._settingsObj[a]:b},getBool:function(a,b){var c=this.get(a,b),g;"true"===c||"false"===c?g="true"===c:(!0===c||!1===c)&&(g=c);n.isset(g)||(g=n.isset(b)?
!!b:!!c);return"undefined"===typeof g?!1:g},getInt:function(a,b){b=n.isset(b)?b:0;var c=parseInt(this.get(a,b),10);return isNaN(c)||void 0===c?b:c},getSettingsObject:function(){return n.deepClone(this._settingsObj)},getSubset:function(b){if(-1!==b.indexOf(".")){var e=c(b);return this._settingsObj.hasOwnProperty(e[0])?(b=this.getSubset(e[0]),e=e.splice(1),e=e.join("."),b.getSubset(e)):new a.SettingsOBC({})}return this._settingsObj.hasOwnProperty(b)?new a.SettingsOBC(this._settingsObj[b]):new a.SettingsOBC({})},
isSet:function(a){if(-1!==a.indexOf(".")){var b=c(a);if(this._settingsObj.hasOwnProperty(b[0]))return a=this.getSubset(b[0]),b=b.splice(1),b=b.join("."),a.isSet(b)}else return this._settingsObj.hasOwnProperty(a);return!1},mergeSettings:function(c,e){if(c instanceof a.SettingsOBC)this.mergeSettings(c.getSettingsObject(),e);else if(e=n.isset(e)?!!e:!0,"object"===typeof c)this._settingsObj=e?n.mergeDefaults(this._settingsObj,c):n.mergeDefaults(c,this._settingsObj),this._settingsObj=b(this._settingsObj);
else throw new a.Exceptions.InvalidTypeException("object",typeof c,this);}}}());a.TimingReportController=a.TimingReportController||a.KioskedObject.extend(function(){return{construct:function(){this.$super();this._timingEvents=[];a.tools.scope.enforceCaller(this,a.TimingReportController,"Expected caller to be of type ITGS.TimingReportController");this.registerEvent("prevDomUnload",{},a.tools.dom.getNavigationPerfTimingValue("unloadEventStart"));this.registerEvent("pageNavStart",{},a.tools.dom.getNavigationPerfTimingValue("navigationStart"));
this.registerEvent("domLoaded",{},a.tools.dom.getNavigationPerfTimingValue("domContentLoadedEventEnd"))},getTimingEvents:function(){return this._timingEvents},registerEvent:function(c,b,d){if(!a.tools.environment.navigationTimingSupported()||0>=d)return!1;this._timingEvents.push({event:c,properties:b,time:d});return!0},registerEventNow:function(a,b){return this.registerEvent(a,b,n.environment.getCurrentTimestamp())}}}());a.URLParser=a.URLParser||a.KioskedObject.extend(function(){var a=/#[-_a-zA-Z0-9.%]+$/,
b=/^[-_a-zA-Z0-9:/\.@%+~|]+/,d=/\?[-_a-zA-Z0-9=&.+|~"{}^\[\]%;]+/;return{construct:function(a){this._originalURL=a},getFragment:function(){var b;(b=this._matchedFragment)||(b=this.matchRegularExpression(this.getOriginalURL(),a).replace("#",""));return this._matchedFragment=b},getOriginalURL:function(){return this._originalURL},getPath:function(){return this._matchedPath=this._matchedPath||this.matchRegularExpression(this._originalURL,b)},getQuery:function(){var a;(a=this._matchedQuery)||(a=this.matchRegularExpression(this.getOriginalURL(),
d).substring(1));return this._matchedQuery=a},getQueryParameters:function(){var a=this.getQuery(),a=a.replace("&amp;","__AMPERSAND_PLACEHOLDER__"),a=a.split("&"),b={};if(0<a.length)for(var c=0;c<a.length;c+=1){var d=a[c].replace("__AMPERSAND_PLACEHOLDER__","&amp;").split("=");2===d.length&&(b[d[0]]=d[1])}return b},matchRegularExpression:function(a,b){var c=a.match(b);return c?n.array.isArray(c)?c[0]:c:""}}}());a.Facades.URLProcessing=a.Facades.URLProcessing||function(){return{getURLPathOnly:function(a){return a.split("?")[0]},
getURLWithAlphabetizedParameters:function(c){var b=new a.URLParser(c);c=b.getPath();var d=b.getQueryParameters(),b=b.getFragment(),d=n.encoding.formURLStringFromParameters(d,["ALPHABETIZE"]);0<d.length&&(c+="?"+d);0<b.length&&(c+="#"+b);return c},getURLWithoutFragment:function(c){var b=new a.URLParser(c);c=b.getPath();b=b.getQuery();0<b.length&&(c+="?"+b);return c}}}();a.EventDispatcher=a.EventDispatcher||a.AdComponentAbstract.extend(function(){function c(b,c){n.scope.enforceCaller(this,a.EventDispatcher,
"Caller not instance of EventDispatcher");this._domEventsSet.hasOwnProperty(b)||(this._domEventsSet[b]=[]);this._domEventsSet[b].push(c)}function b(b,c){n.scope.enforceCaller(this,a.EventDispatcher,"Caller not instance of EventDispatcher");return this._domEventsSet.hasOwnProperty(b)?-1!==this._domEventsSet[b].indexOf(c):!1}function d(b){n.scope.enforceCaller(this,a.EventDispatcher,"Caller not instance of EventDispatcher");var c=this;b=document;c.listen(b,b.webkitCancelFullScreen?"webkitfullscreenchange":
b.msExitFullscreen?"MSFullscreenChange":b.mozCancelFullScreen?"mozfullscreenchange":"fullscreenchange",function(a){a.fullscreenTarget=e.call(c);c.dispatch("onfullscreenchange",a)})}function e(){var a;a=document;a=a.ownerDocument?a.ownerDocument:a;if(!(a.exitFullscreen||a.webkitExitFullscreen||a.webkitCancelFullScreen||a.msExitFullscreen||a.mozCancelFullScreen))return null;var b=!!a.fullscreenElement||!!a.msFullscreenElement||!!a.webkitIsFullScreen||!!a.mozFullScreen;return b?a.fullscreenElement||
a.webkitFullscreenElement||a.webkitCurrentFullScreenElement||a.msFullscreenElement||a.mozFullScreenElement||b:b}return{construct:function(){this._domEventsSet={};var b=["webkit","moz","o","ms","khtml"];a.supportsFullScreen=!1;for(var c=0,d=b.length;c<d;c+=1)if(a.brwsrprefix=b[c],"undefined"!==typeof document[a.brwsrprefix+"CancelFullScreen"]){a.supportsFullScreen=!0;break}this._callbacks={};this.$super()},addListener:function(a,e,h){if(this.destroying&&!0===this.destroying)return console.warn("Tried adding listeners during destruction",
a),null;var l=this,q;q=h?h:l.getContainer();var r=!1;"ONFULLSCREENCHANGE"===a.toUpperCase()?d.call(l,e,h):(a in document.documentElement||a in window)&&!b.call(this,a,q)&&("onresize"!==a?(r=function(b){!b.srcElement||"target"in b||(b.target=b.srcElement);l.dispatch(a,{event:b,relatedElement:q})},l.listen(q,a,r)):r=window[a]=function(b){l.dispatch(a,{event:b,relatedElement:q})},c.call(this,a,q));this._callbacks[a]||(this._callbacks[a]=[]);var k={callback:e,element:q};!1!==r&&(k.eventFunction=r);this._callbacks[a].push(k);
return{listener:a,element:h,callback:e}},listen:function(a,b,c){a.attachEvent?a.attachEvent(b,c):a.addEventListener&&("on"===b.substring(0,2)&&(b=b.substring(2)),a.addEventListener(b,c,!1))},dispatch:function(b,c,d){var e;a.tools.isset(d)||(d=this instanceof a.GrandCentralStation?this.getEventHash():a.tools.getRandomInt(1,999999));if(this._callbacks&&this._callbacks.hasOwnProperty(b))for(e=this._callbacks[b],b=0;b<e.length;b+=1)if(!c||!c.hasOwnProperty("relatedElement")||c.relatedElement===e[b].element){var q=
c;c&&c.hasOwnProperty("event")&&(q=c.event);e[b].callback(q,d)}},destroy:function(){this.destroying=!0;for(var a in this._callbacks)if(this._callbacks.hasOwnProperty(a)&&0<this._callbacks[a].length)for(var b=0;b<this._callbacks[a].length&&!this.removeListener(a,this._callbacks[a][b].callback,this._callbacks[a][b].element);b+=1);this._callbacks=null;delete this._callbacks},getContainer:function(){return!1},removeListener:function(c,d,e){var l=!1;if("string"===typeof c&&"function"===typeof d){var q=
!1;if(e&&e instanceof HTMLElement&&b.call(this,c,e))a:{n.scope.enforceCaller(this,a.EventDispatcher,"Caller not instance of EventDispatcher");if(b.call(this,c,e)&&(q=this._domEventsSet[c].indexOf(e),this._domEventsSet[c].splice(q,1),0>=this._domEventsSet[c].length)){delete this._domEventsSet[c];q=!0;break a}q=!1}for(var r in this._callbacks)if(this._callbacks.hasOwnProperty(r)&&r===c){var k=this._callbacks[r],m=k.length;if(0<m){for(var p=!1,s=0;s<m;s+=1)if(k[s].callback===d){p=!0;q&&k[s].hasOwnProperty("eventFunction")&&
this.unlisten(e,c,k[s].eventFunction);this._callbacks[r].splice(s,1);break}if(p){0>=this._callbacks[r].length&&(delete this._callbacks[r],l=!0);break}}}}else throw new a.Exceptions.InvalidTypeException("string/function",typeof c+"/"+typeof d,this);return l},unlisten:function(a,b,c){a.detachEvent?a.detachEvent(b,c):a.removeEventListener&&("on"===b.substring(0,2)&&(b=b.substring(2)),a.removeEventListener(b,c,!1))},isBuilt:function(){return this.$super()}}}());a.KioskedAnalytics=a.KioskedAnalytics||
a.KioskedObject.extend(function(){return{construct:function(){this.$super();this._eventsBuffer=[];this.addStatus("sendingInstantly");this.setFlushTimer();var c=this;a.unloadManager.registerShutdownHandler(function(){c.flushSendBuffer();c.set("sendingInstantly")},a.UnloadManager.PRIORITY_HIGH)},destroy:function(){this._flushTimer&&clearInterval(this._flushTimer);this.$super()},flushSendBuffer:function(){var a=this.getEventsBuffer();if(0<a.length){for(var b,d={};b=a.shift();){d.hasOwnProperty(b.destination)||
(d[b.destination]=[]);var e=this.prepareEventItem(b);this.sampleRateCancelsEvent(e["cntr.type"],e._type)?0===d[b.destination].length&&delete d[b.destination]:d[b.destination].push(e)}for(var f in d)d.hasOwnProperty(f)&&n.communication.sendRequest({destination:f,method:"POST",errorCallback:function(){throw Error("(Kiosked) Failed sending analytics");},data:{json:JSON.stringify(d[f])}});this._eventsBuffer=[]}},getEventNameProperty:function(){return a.Config.ANALYTICS_EVENT_NAME_PROPERTY},getEventsBuffer:function(){return this._eventsBuffer},
getRandomNumber:function(){return a.Config.SAMPLE_RATE_RANDOM_CURRENT},getSampleRate:function(c,b){return"normal"===c?a.Config.SAMPLE_RATE_0_5:"banner"===c||"containerImpression"===b?a.Config.SAMPLE_RATE_CONTAINER_IMP:"containerOpportunity"===b?a.Config.SAMPLE_RATE_CONTAINER_OPP:"pageImpression"===b?a.Config.SAMPLE_RATE_PAGE_IMP:"pageTimings"===b?a.Config.SAMPLE_RATE_PAGE_TIMINGS:0<=["waterfallTrickle","waterfallEnd","waterfallRender"].indexOf(b)?a.Config.SAMPLE_RATE_WATERFALL:a.Config.SAMPLE_RATE_SEND_ALL},
prepareEventItem:function(c){var b={};c=c.properties;b._type=c[this.getEventNameProperty()];for(var d in c)c.hasOwnProperty(d)&&("_"===d[0]&&"_type"!==d?a.tools.debug.log("/"+a.Config.ANALYTICS_MODULE_LOG_NAME+"/","Bad parameter name '"+d+"'"):b[d]=c[d]);if(a.tools.isEmpty(b._type))throw new a.Exceptions.InvalidPropertiesException("Analytics packet doesn't contain a '_type' property",this,b);b.sample_rate=this.getSampleRate(b["cntr.type"],b._type);return b},processEvent:function(c,b){n.scope.enforceCaller(this,
a.KioskedAnalytics,"Expected caller to be of type ITGS.KioskedAnalytics");var d=n.deepClone(c);d._event&&(d.event=c._event,delete d._event);d.event_id=b;if(d.hasOwnProperty(this.getEventNameProperty())&&"string"===typeof d[this.getEventNameProperty()]){var e=d[this.getEventNameProperty()];n.scope.enforceCaller(this,a.KioskedAnalytics,"Expected caller to be of type ITGS.KioskedAnalytics");"production"===a.tools.environment.getContext()?this._eventsBuffer.push({event:e,properties:d,destination:a.Config.ANALYTICS_TARGET_DOMAIN_PRODUCTION}):
"staging"===a.tools.environment.getContext()&&this._eventsBuffer.push({event:e,properties:d,destination:a.Config.ANALYTICS_TARGET_DOMAIN_STAGING});this.is("sendingInstantly")&&this.flushSendBuffer();"production"===a.tools.environment.getContext()||"staging"===a.tools.environment.getContext()?a.tools.debug.log("/"+a.Config.ANALYTICS_MODULE_LOG_NAME+"/ "+e,d):(d.sample_rate=this.getSampleRate(d["cntr.type"],d[this.getEventNameProperty()]),a.tools.debug.log("/"+a.Config.ANALYTICS_MODULE_LOG_NAME+"/ "+
e,d,"(log only)"))}else throw new a.Exceptions.BadOptionException("Invalid event specification for KioskedAnalytics",this,d);},sampleRateCancelsEvent:function(c,b){var d=this.getSampleRate(c,b);return 0<=a.Config.ANALYTICS_SAMPLERATE_IMMUNE_EVENTS.indexOf(b)?!1:this.getRandomNumber()>=d},setFlushTimer:function(a){n.isset(a)||(a=500);var b=this;this._flushTimer&&clearInterval(this._flushTimer);this._flushTimer=setInterval(function(){b.flushSendBuffer()},a)}}}());(function(){a.Factories.PlacementContainerFactory=
a.Factories.PlacementContainerFactory||{createPlacementContainerWithOptions:function(c){c=c||{};c=a.tools.mergeDefaults({anchorType:!1,categories:!1,kioskedZoneID:"",kioskID:""+Math.round(1E7*Math.random()),settings:null,targetElement:null,publisherID:null,siteID:null},c);if(!0!==c.targetElement instanceof HTMLElement)throw Error("Target element was not a HTMLElement");if(!0!==c.settings instanceof a.SettingsOBC)throw Error("Settings option was not an instance of SettingsOBC");if(!1===c.anchorType&&
(c.anchorType=a.AnchorTypeResolver.resolveAnchorTypeForSettings(c.settings),!1===c.anchorType))return Promise.reject("No suitable anchor type was resolved");var b=a.InstanceControlManager.getSharedInstance();return b.registerCount(a.InstanceControlManager.InstanceType.Anchor,c.anchorType,c.kioskID)?Promise.resolve().then(function(){var b;b=c;var e=b.settings,f=a.DisclaimerBarFactory.createBarWithSettings(e,b.anchorType),g=!e.getBool("ui.media.Banner.noScale",!1),h=e.get("ui.media.zIndex",!1);b=b.anchorType===
a.Config.PLACEMENT_ANCHOR_TYPE.BOX?new a.PlacementBoxAnchor(b.targetElement,{disclaimer:f,kioskID:b.kioskID,zIndex:h,scaleEnabled:g}):b.anchorType===a.Config.PLACEMENT_ANCHOR_TYPE.STUB?new a.PlacementStubAnchor(b.targetElement,{disclaimer:f,kioskID:b.kioskID,zIndex:h,placementPath:e.get("ui.media.plugins.ExternalBannerSlot.placementPath",!1),placementPosition:e.get("ui.media.plugins.ExternalBannerSlot.placementPosition","after"),scaleEnabled:g,margin:e.getInt("ui.media.plugins.ExternalBannerSlot.margin",
10)}):b.anchorType===a.Config.PLACEMENT_ANCHOR_TYPE.LAUNCHPAD?new a.PlacementLaunchpadAnchor(b.targetElement,{disclaimer:f,kioskID:b.kioskID,zIndex:h,scaleEnabled:g}):null;if(null===b)throw new k("Failed creating anchor");b.createAnchorElement();b.createContainerElement();b.prepareDisclaimer();return b}).then(function(b){return new a.Placement(b,{categories:c.categories,kioskedZoneID:c.kioskedZoneID,settings:c.settings,publisherID:c.publisherID,siteID:c.siteID,settingsMeta:c.settingsMeta})}).then(function(b){return new a.PlacementContainer(b)}).then(function(b){var e=
c.anchorType,f=c.settings,g=[];g.push(new a.PlacementWaterfallCallbackInput({},f));e===a.Config.PLACEMENT_ANCHOR_TYPE.BOX?(g.push(new a.PlacementPositionInput({},f)),g.push(new a.PlacementSizeInput({},f)),g.push(new a.PlacementRefreshInput({},f))):e===a.Config.PLACEMENT_ANCHOR_TYPE.STUB?(g.push(new a.PlacementExternalSizeInput({},f)),g.push(new a.PlacementRefreshInput({},f))):e===a.Config.PLACEMENT_ANCHOR_TYPE.LAUNCHPAD&&g.push(new a.PlacementFixedSizeInput({},f));e=g.length;for(f=0;f<e;f+=1)b.getInputManager().addInput(g[f]);
b.getInputManager().start();return b}):b.waitForSlot(a.InstanceControlManager.InstanceType.Anchor,c.anchorType,c.kioskID).then(function(){return a.Factories.PlacementContainerFactory.createPlacementContainerWithOptions(c)})}}})();a.PlacementInputAbstract=a.PlacementInputAbstract||a.AdComponentAbstract.extend(function(){return{construct:function(c,b){this.$super();this._options=a.tools.mergeDefaults({name:"AbstractInput",kioskID:0,order:0},c);this._lastPlacement=null;this._settings=b},getLastPlacement:function(){return this._lastPlacement},
getOptions:function(){return this._options},getSettings:function(){return this._settings},process:function(a){this._lastPlacement=a}}}());a.PlacementSizeInput=a.PlacementSizeInput||a.PlacementInputAbstract.extend(function(){return{construct:function(c,b){this.$super(a.tools.mergeDefaults({order:0},c),b);this._lastSize={width:0,height:0};this.set("cuttingEnabled")},process:function(c){this.$super(c);var b=c.getAnchor().getTargetElement(),d=n.getElementOffset(b),e=d.screen,f=parseInt(e.width,10),e=
parseInt(e.height,10),f=f-(d.border.left+d.border.right+d.padding.left+d.padding.right),e=e-(d.border.top+d.border.bottom+d.padding.top+d.padding.bottom);d={width:f,height:e};a.tools.scope.enforceCaller(this,a.PlacementSizeInput,"Expected caller to be instance of PlacementSizeInput");if(!this.isNot("cuttingEnabled")){var g=this.getSettings(),f=g.get("ui.media.cutRightSideByElement",!1),e=g.get("ui.media.cutBottomSideByElement",!1),g=g.get("ui.media.cutSizeFromParents",!1),h=c.getCuttingElement("right"),
l=c.getCuttingElement("bottom"),q=c.getCuttingElement("parent");0===parseInt(g,10)?this.unset("cuttingEnabled"):(null===h&&!1!==f&&(h=a.tools.dom.queryFirst(f)),null===l&&!1!==e&&(l=a.tools.dom.queryFirst(e)),null===q&&!1!==g&&(q=a.tools.dom.cutting.locateParentElement(b,g)),c.setCuttingElement("right",h),c.setCuttingElement("bottom",l),c.setCuttingElement("parent",q),q&&(b=a.tools.dom.getIntersection(q,b),d.width=b.intersect.width,d.height=b.intersect.height))}a.tools.isDifferentSize(d,this._lastSize)&&
c.dispatch("placementSizeChanged",d);this._lastSize=d}}}());a.PlacementPositionInput=a.PlacementPositionInput||a.PlacementInputAbstract.extend(function(){return{construct:function(c,b){this.$super(a.tools.mergeDefaults({order:1},c),b);this._lastPosition={left:0,top:0};this.set("cuttingEnabled")},process:function(c){this.$super(c);var b=c.getAnchor().getTargetElement(),d=a.tools.getElementOffset(b),e=a.tools.getElementOffset(c.getAnchor().getAnchorElement(),!0,!0),f=d.left,g=d.top,f=f+(d.border.left+
d.padding.left),g=g+(d.border.top+d.padding.top),f=f-e.left,g=g-e.top;d={top:g,left:f};a.tools.scope.enforceCaller(this,a.PlacementPositionInput,"Expected caller to be instance of PlacementPositionInput");if(!this.isNot("cuttingEnabled")){var g=this.getSettings(),e=g.get("ui.media.cutLeftSideByElement",!1),f=g.get("ui.media.cutTopSideByElement",!1),g=g.get("ui.media.cutSizeFromParents",!1),h=c.getCuttingElement("left"),l=c.getCuttingElement("top"),q=c.getCuttingElement("parent");0===parseInt(g,10)?
this.unset("cuttingEnabled"):(null===h&&!1!==e&&(h=a.tools.dom.queryFirst(e)),null===l&&!1!==f&&(l=a.tools.dom.queryFirst(f)),null===q&&!1!==g&&(q=a.tools.dom.cutting.locateParentElement(b,g)),c.setCuttingElement("left",h),c.setCuttingElement("top",l),c.setCuttingElement("parent",q),q&&(b=a.tools.dom.getIntersection(q,b),d.left+=0>b.difference.left?Math.abs(b.difference.left):0,d.top+=0>b.difference.top?Math.abs(b.difference.top):0))}a.tools.isDifferentPosition(d,this._lastPosition)&&c.dispatch("placementPositionChanged",
d);this._lastPosition=d}}}());a.PlacementExternalSizeInput=a.PlacementExternalSizeInput||a.PlacementInputAbstract.extend(function(){return{construct:function(a,b){this.$super(a,b);this._lastSize={width:0,height:0}},process:function(c){this.$super(c);var b=c.getAnchor().getTargetElement(),b=n.getElementOffset(b),d=c.getAdFill(),d=a.tools.isset(d)?a.tools.ads.calculateActualAdSize(b.screen,d.getOptions().proportions,!0).height:0,d=d+c.getAnchor().getDisclaimer().getHeightOutsideBanner();c.isNot("shown")&&
(d=0);b={width:b.screen.width,height:d};a.tools.isDifferentSize(b,this._lastSize)&&c.dispatch("placementSizeChanged",b);this._lastSize=b}}}());a.PlacementFixedSizeInput=a.PlacementFixedSizeInput||a.PlacementInputAbstract.extend(function(){return{construct:function(c,b){this.$super(a.tools.mergeDefaults({order:-2},c),b);this._lastSize={width:0,height:0}},process:function(c){this.$super(c);var b=window.innerWidth,d=a.tools.environment.device.isMobile()?{width:b,height:a.Config.BANNER_SIZE_STANDARDS.MOBILE.HEIGHT}:
{width:a.Config.BANNER_SIZE_STANDARDS.HORIZONTAL.WIDTH,height:a.Config.BANNER_SIZE_STANDARDS.HORIZONTAL.HEIGHT};c.getAdFill()&&(d=c.getAdFill().getOptions().proportions,a.tools.environment.device.isMobile()?(d=a.tools.ads.calculateActualAdSize({width:b,height:a.Config.BANNER_SIZE_STANDARDS.MOBILE.HEIGHT},{width:d.width,height:d.height},!0).height,d+=c.getAnchor().getDisclaimer().getHeight(),d={width:b,height:d}):d={width:d.width,height:d.height});a.tools.isDifferentSize(d,this._lastSize)&&c.dispatch("placementSizeChanged",
d);this._lastSize=d}}}());a.PlacementWaterfallCallbackInput=a.PlacementWaterfallCallbackInput||a.PlacementInputAbstract.extend(function(){function c(){a.tools.scope.enforceCaller(this,a.PlacementWaterfallCallbackInput,"Caller not instance of ITGS.PlacementWaterfallCallbackInput");var b=this;a.messaging.subscribe("appNexusFallbacksReceived",function(a){b.addDataset("appnexus",a);(a=b.getLastPlacement())&&b.process(a)});a.messaging.subscribe("appNexusFallbackInitiated",function(a){b.addDataset("appnexus",
a);(a=b.getLastPlacement())&&b.process(a)});a.messaging.subscribe("networkFallbacksReceived",function(a){b.addDataset("kiosked",a);(a=b.getLastPlacement())&&b.process(a)});a.messaging.subscribe("networkFallbackInitiated",function(a){b.addDataset("kiosked",a);(a=b.getLastPlacement())&&b.process(a)});a.messaging.subscribe("placementFillError",function(a){b.addDataset("kiosked",{container_id:a,fallback:!0});(a=b.getLastPlacement())&&b.process(a)})}function b(b,c){a.tools.scope.enforceCaller(this,a.PlacementWaterfallCallbackInput,
"Context not met: ITGS.PlacementWaterfallCallbackInput");var d=b.length,h=c.getOptions().kioskID,l,q;try{l=c.getAdFill().getAdElement().getScalingElement().src}catch(r){return!1}for(q=0;q<d;q+=1)if(l===b[q])return!0;for(q=0;q<d;q+=1){l=!1;try{var k=new a.URLParser(b[q]),m=decodeURIComponent(k.getQuery());l=(new RegExp("tt\\?.+?cb="+h)).test(m)}catch(n){}if(l)return!0}return!1}var d=["appnexus","kiosked"];return{construct:function(a,b){this.$super(a,b);var g=this;this._lastWaterfallDatasets={};d.forEach(function(a){g._lastWaterfallDatasets[a]=
[]});c.call(this)},addDataset:function(a,b){this._lastWaterfallDatasets[a].push(b)},clearDatasetCollection:function(a){this._lastWaterfallDatasets.hasOwnProperty(a)&&(this._lastWaterfallDatasets[a]=[])},closePlacement:function(b){var c=b.getWaterfall();b.getAdFill().publish("waterfallEnd",{waterfall:c});b.hideAd().then(function(){var c=a.PlacementContainerLocator.getPlacementContainerByID(b.getOptions().kioskID);if(c)a.destructors.destroyPlacementContainer(c);else throw new k("Unable to locate placement container for destruction");
})},destroy:function(){this.$super()},getDatasetCollection:function(a){return this._lastWaterfallDatasets.hasOwnProperty(a)&&0<this._lastWaterfallDatasets[a].length?this._lastWaterfallDatasets[a]:!1},process:function(c){this.$super(c);var f=this;d.forEach(function(d){var h=f.getDatasetCollection(d);!1!==h&&(h.forEach(function(l){var h;if(l.dfpFrame){h=l.dfpFrame;var r=c.getAdFill().getAdElement().getScalingElement();h=r&&r.querySelector('[id="'+h+'"]')?!0:!1}else h=l.container_id,h=c.getOptions().kioskID===
h||b.call(f,l.frame_urls||[],c);h&&(!0===l.fallback?f.processWaterfallStep(c):l.zones?f.processIncomingWaterfall(c,l.zones,d):a.tools.debug.warn("/PlacementWaterfallCallbackInput/","Invalid dataset",l))}),f.clearDatasetCollection(d))})},processIncomingWaterfall:function(b,c,d){var h=b.getAdFill().getOptions().proportions,l=b.getWaterfall();c.forEach(function(a){l.addStep(a.name,a.zone,h,d)});a.tools.debug.log("/PlacementWaterfallCallbackInput/","Added "+c.length+" new steps ("+d+")");this.processWaterfallStep(b)},
processWaterfallStep:function(a){var b=a.getWaterfall();b.step()?(a.getAdFill().empty(),a.getAdFill().setup(b,a.getSettings()).then(function(){a.getAdFill().updateLayout()})):this.closePlacement(a)}}}());a.PlacementRefreshInput=a.PlacementRefreshInput||a.PlacementInputAbstract.extend(function(){function c(){a.tools.scope.enforceCaller(this,a.PlacementRefreshInput,"Context not met: ITGS.PlacementRefreshInput");var b=this._onscreenInterval;if(this.canRefresh("onscreen")){this._onscreenSeconds=!0===
this._onscreenCheck?this._onscreenSeconds+1:0;if(this._onscreenSeconds>=this._onscreenRefreshTimeout){this._onscreenSeconds=0;var c=this.getLastPlacement();if(c)this.markRefreshCount("onscreen"),c.hideAd().then(function(){c.refresh().then(function(){c.showAd()},function(){a.tools.debug.warn("/PlacementRefreshInput/","Refresh failed, disabling");clearInterval(b)})});else throw new k("No placement ready for on-screen refresh");}this._onscreenCheck=!0}else clearInterval(b)}var b=["onscreen","offscreen"];
return{construct:function(a,b){this.$super(a,b);this.addStatus("offscreenEnabled");this.addStatus("onscreenEnabled");this.addStatus("beenHidden");this.set("refreshingEnabled");!0===b.getBool("ui.media.Banner.bannerReloading.offScreen.hide",!1)&&this.set("offscreenEnabled");this._onscreenSeconds=0;this._onscreenCheck=!1;this._onscreenRefreshTimeout=b.getInt("ui.media.Banner.bannerReloading.onScreen.hide",0);this._refreshCounts={onscreen:{current:0,max:b.getInt("ui.media.Banner.bannerReloading.onScreen.maxRefreshCount",
5)},offscreen:{current:0,max:b.getInt("ui.media.Banner.bannerReloading.offScreen.maxRefreshCount",0)}};this._lastAnchorState=12},canRefresh:function(a){if(0>b.indexOf(a))throw new k("Invalid refresh context: "+a);a=this._refreshCounts[a];return 0<a.max?a.current<a.max:!0},destroy:function(){this._onscreenInterval&&clearInterval(this._onscreenInterval);this.$super()},markRefreshCount:function(a){if(0>b.indexOf(a))throw new k("Invalid refresh context: "+a);this._refreshCounts[a].current+=1},process:function(a){this.$super(a);
var b=this,f=a.getAnchor().isVisible();this.refreshEnabled(a)&&(this.is("offscreenEnabled")&&this.canRefresh("offscreen")&&this.processOffscreen(a,f),this.is("onscreenEnabled")&&!f&&(this._onscreenCheck=!1),!this._onscreenInterval&&10<=this._onscreenRefreshTimeout&&(this.set("onscreenEnabled"),this._onscreenInterval=setInterval(function(){c.call(b)},1E3)))},processOffscreen:function(a,b){var c=this;switch(this._lastAnchorState){case 12:this._lastAnchorState=!0===b?11:10;this.processOffscreen(a,b);
return;case 10:if(b){if(this.is("hiding")||a.is("animating"))return;this.has("beenHidden")&&(this.unset("beenHidden"),this.markRefreshCount("offscreen"),a.refresh().then(function(){a.showAd()}))}break;case 11:!b&&a.isNot("animating")&&(this.set("hiding"),a.hideAd().then(function(){c.set("beenHidden");c.unset("hiding")}))}this._lastAnchorState=!0===b?11:10},refreshEnabled:function(b){if(this.isNot("refreshingEnabled"))return!1;var c=b.getAnchor(),f=(b=b.getAdFill())?b.getAdElement():null;return c&&
!0!==c.getOptions().refreshEnabled||b&&!0!==b.getOptions().refreshEnabled||f&&!0!==f.getOptions().refreshEnabled?(this.unset("refreshingEnabled"),a.tools.debug.log("/PlacementRefreshInput/","Refreshing is not available for this placement setup"),!1):!0}}}());a.PlacementInputManager=a.PlacementInputManager||a.AdComponentAbstract.extend(function(){function c(){a.tools.scope.enforceCaller(this,a.PlacementInputManager,"Expected caller to be instance of PlacementInputManager");if(!this.isNot("started")){var b=
this,d=Promise.resolve();this.forEachInput(function(a){d=d.then(function(){a.process(b.getPlacement())})});d.then(function(){setTimeout(a.tools.compatibility.bindFunction(c,b),b._processInterval)})}}return{construct:function(){this.$super();this.addStatusSet(["stopped","started","destroy"],"stopped");this._placement=null;this._inputs=[];this._processVisibilityTimer=this._processInterval=null},addInput:function(b){if(!0!==b instanceof a.PlacementInputAbstract)throw new k("Input is not of correct type");
this._inputs.push(b);this.sortInputs()},destroy:function(){this.set("destroy");clearInterval(this._processVisibilityTimer);this.forEachInput(function(a){a.destroy()});this._inputs=null;this.$super()},forEachInput:function(a){var c=this.getInputs(),e=c.length;if("function"!==typeof a)throw Error("Callback is not a function");for(var f=0;f<e;f+=1)a(c[f])},getInputs:function(){return this._inputs},getPlacement:function(){return this._placement},setPlacement:function(b){this._placement=b;this._processInterval=
b.getSettings().getInt("ui.media.adjustInterval",a.Config.PLACEMENT_INPUT_MGR_INTERVAL)},sortInputs:function(){this._inputs.sort(function(a,c){var e=a.getOptions().order,f=c.getOptions().order;return e>f?-1:f>e?1:0})},start:function(){var b=this.getPlacement();if(!0!==b instanceof a.Placement)throw new k("Placement not set");if(this.isNot("stopped"))return!1;this.set("started");setTimeout(a.tools.compatibility.bindFunction(c,this),1);this._processVisibilityTimer=setInterval(function(){b.detectVisibility()},
a.Config.BANNER_VIS_UPDATE_INTERVAL);return!0},stop:function(){if(this.isNot("started"))return!1;this.set("stopped");return!0}}}());a.Placement=a.Placement||a.EventDispatcher.extend(function(){function c(){a.tools.scope.enforceCaller(this,a.Placement,"Expected caller to be instance of Placement");var b=this;this.addListener("placementPositionChanged",function(a){b.getAnchor().applyPosition(a)});this.addListener("placementSizeChanged",function(c){var e;null===b.getAdFill()?d.call(b,c).then(function(){e=
b.getWaterfall();b.getAnchor().updateLayout(c,e.getCurrentStep().proportions);b.updateLayout()},function(c){a.tools.debug.warn("/Placement/","Build did not complete: "+c);b.publish("buildFailed")}):(b.getAdFill().setPlacementSize(c),(e=b.getWaterfall())&&b.getAnchor().updateLayout(c,e.getCurrentStep().proportions),b.updateLayout())});this.addListener("bannerCloseButtonPressed",function(c){c.placement===b&&b.hideAd().then(function(){a.destructors.destroyPlacement(b)})});this.addListener("onclick",
function(c){a.tools.preventDefault(c,!0);b.dispatch("bannerCloseButtonPressed",{placement:b})},this.getAnchor().getDisclaimer().getCloseButtonContainer())}function b(b,c,d){return a.AdFillResolver.createAdFillForConfiguration(b,c.settings,{kioskID:c.kioskID,mediaSize:d})}function d(c){a.tools.scope.enforceCaller(this,a.Placement,"Expected caller to be instance of Placement");var d=this;return new Promise(function(e,q){b(d.getAnchor(),d.getOptions(),c).then(function(b){b?(a.messaging.publish("validInventory",
d),d.hasNot("sentCreated")&&(d.set("sentCreated"),a.messaging.publish("validContainer",d)),d._adFill=b.adFill,d._waterfall=b.waterfall,f.call(d),d.loadAd().then(function(){d.getAdFill().setPlacementSize(c);e()}),d._adFill.subscribe("adCompleted",function(){d.hideAd().then(function(){a.destructors.destroyPlacement(d)})}),d._adFill.subscribe("adErrored",function(){d.deregisterInstance();d.hideAd().then(function(){a.destructors.destroyPlacement(d)})}),d.getAdFill().subscribe("waterfallTrickle",function(b){b=
b.waterfall.getCurrentStep();a.tools.debug.log("/PlacementWaterfallCallbackInput/","Waterfall step initiated:",b.network+"@"+b.zone);d.getSettings().getBool("ui.media.Banner.waterfallAnalyticsEnabled",!1)&&(b=d.getWaterfallTrickleData(),b[a.Config.ANALYTICS_EVENT_NAME_PROPERTY]="waterfallTrickle",a.messaging.dispatch(a.Config.ANALYTICS_EVENT_NAME,b));a.messaging.dispatch("timingEvent",{name:"waterfallTrickle",properties:{kioskID:d.getOptions().kioskID}})}),d.getAdFill().subscribe("waterfallEnd",function(b){d.deregisterInstance();
b=b.waterfall.getSteps().length;a.tools.debug.log("/PlacementWaterfallCallbackInput/","Fallback initiated at end of waterfall, closing...");if(d.getSettings().getBool("ui.media.Banner.waterfallAnalyticsEnabled",!1)){var c=d.getOptions();b=a.tools.mergeDefaults(d.getContainerImpressionData(),{"waterfall.publisherID":c.publisherID,"waterfall.siteID":c.siteID,"waterfall.total":b,"page.uri":a.tools.environment.getPageUrl()});b[a.Config.ANALYTICS_EVENT_NAME_PROPERTY]="waterfallEnd";a.messaging.dispatch(a.Config.ANALYTICS_EVENT_NAME,
b)}a.messaging.dispatch("timingEvent",{name:"waterfallEnd",properties:{kioskID:d.getOptions().kioskID}})})):q("No adfill available")})})}function e(){a.tools.scope.enforceCaller(this,a.Placement,"Expected caller to be instance of Placement");var b=this,c=this.getContainerImpressionData();this._containerImpressionTimer=setTimeout(function(){b&&b.getWaterfall()&&b.is("sendingContainerImpression")&&(b.set("sentContainerImpression"),c[a.Config.ANALYTICS_EVENT_NAME_PROPERTY]="containerImpression",a.messaging.dispatch(a.Config.ANALYTICS_EVENT_NAME,
c))},1E3)}function f(){a.tools.scope.enforceCaller(this,a.Placement,"Expected caller to be instance of Placement");if(this.hasNot("sentContainerOpportunity")){this.set("sentContainerOpportunity");var b=this.getContainerImpressionData();b[a.Config.ANALYTICS_EVENT_NAME_PROPERTY]="containerOpportunity";a.messaging.dispatch(a.Config.ANALYTICS_EVENT_NAME,b)}}return{construct:function(b,d){this.$super();d=d||{};var e=this._options=a.tools.mergeDefaults({categories:!1,kioskedZoneID:"",kioskID:""+b.getOptions().kioskID,
settings:null,publisherID:null,siteID:null,settingsMeta:{}},d);if(0>=e.kioskID.length)throw new k("Kiosk ID was empty");if(!0!==e.settings instanceof a.SettingsOBC)throw new k("Settings option was not an instance of SettingsOBC");this.addStatusSet(["shown","hidden","animating"],"hidden");this.addStatus("shownFromVisibility");this.addStatusSet(["openedByAnimation","openedInstantly"],"openedByAnimation");this.addStatus("sentContainerOpportunity");"opened"===this.getSettings().get("ui.media.Banner.presentation",
"animate")&&this.set("openedInstantly");this._containerImpressionTimer=null;this.addStatusSet(["waitingContainerImpression","sendingContainerImpression","sentContainerImpression"],"waitingContainerImpression");this._anchor=b;this._waterfall=this._adFill=null;this._refreshCount=0;this._wasVisible=!1;this._cuttingElements={left:null,right:null,top:null,bottom:null,parent:null};c.call(this);a.messaging.dispatch("timingEvent",{name:"placementCreated",properties:{kioskID:this._options.kioskID}})},deregisterInstance:function(){a.tools.debug.warn("/Placement/",
"Was unsuccessful in presenting an ad, will de-register");var b=a.InstanceControlManager.getSharedInstance(),c=this.getOptions(),d=this.getAnchor(),e=this.getAdFill();b&&(d&&b.deregisterCount(a.InstanceControlManager.InstanceType.Anchor,d.getOptions().anchorType,c.kioskID),e&&b.deregisterCount(a.InstanceControlManager.InstanceType.AdFill,e.getOptions().name,c.kioskID));a.snifferController&&a.snifferController.deactivateItemByZoneID(c.kioskedZoneID)},destroy:function(){this._anchor.destroy();this._anchor=
null;this._adFill.destroy();this._adFill=null;this._waterfall.destroy();this._cuttingElements=this._waterfall=null;this.$super()},detectVisibility:function(){var a=this.getAnchor().isVisible();this._wasVisible!==a&&(this._wasVisible=a,this.publish("visibilityChanged",{visible:a}));if(a){if(null!==this.getAdFill()&&null!==this.getAdFill().getAdElement()){var b=this.getAdFill(),a=b.getAdElement();this.hasNot("shownFromVisibility")&&(this.set("shownFromVisibility"),a.waitForLoad().then(this.bindMember("showAd")));
if(this.is("waitingContainerImpression")){var c=this;a.waitForLoad().then(function(){b.is("loaded")&&c.is("waitingContainerImpression")&&(c.set("sendingContainerImpression"),e.call(c))})}}}else this.is("sendingContainerImpression")&&(this.set("waitingContainerImpression"),this._containerImpressionTimer&&clearTimeout(this._containerImpressionTimer))},getAdFill:function(){return this._adFill},getAnchor:function(){return this._anchor},getContainerImpressionData:function(){var b=this.getWaterfall(),c=
this.getOptions(),d=a.tools.environment.getPlacementIndex(this),e=this.getAnchor().getOptions().placementType,f=this.getAdFill().getOptions().orientation,k=b.getCurrentStep().zone||"",m=this.getRefreshCount(),b=b.getCurrentStep().provider||"",d=a.tools.mergeDefaults({"cntr.id":"","cntr.type":"banner","cntr.slot":0,"cntr.first":!1,"cntr.segment":"","cntr.categories":[],"cntr.subcategories":[],"cntr.keywords":[],"cntr.placement_type":"","cntr.banner.zone_type":"","cntr.banner.zone_id":"","cntr.banner.provider":"",
"cntr.refresh_count":0},{"cntr.id":c.kioskedZoneID,"cntr.type":"banner","cntr.slot":d,"cntr.first":0===d,"cntr.segment":"","cntr.categories":[],"cntr.subcategories":[],"cntr.keywords":[],"cntr.placement_type":e,"cntr.banner.zone_type":f,"cntr.banner.zone_id":k,"cntr.banner.provider":b,"cntr.refresh_count":m}),e=this.getSettingsSegmentData();e.status===a.Config.SETTINGS_AB_TEST_OVERRIDE_NONE?d["cntr.segment"]="default":e.status===a.Config.SETTINGS_AB_TEST_OVERRIDE_FAIL?d["cntr.segment"]="override":
e.status===a.Config.SETTINGS_AB_TEST_OVERRIDE_FULL&&(d["cntr.segment"]=e.test);c.categories&&(c.categories.iabtier1&&a.tools.array.isArray(c.categories.iabtier1)&&(d["cntr.categories"]=c.categories.iabtier1),c.categories.iabtier2&&a.tools.array.isArray(c.categories.iabtier2)&&(d["cntr.subcategories"]=c.categories.iabtier2),c.categories.focus100k&&a.tools.array.isArray(c.categories.focus100k)&&(d["cntr.keywords"]=c.categories.focus100k));return d=a.tools.mergeDefaults(d,a.tools.environment.getAnalyticsPageData())},
getCuttingElement:function(a){return this._cuttingElements[a]},getOptions:function(){return this._options},getRefreshCount:function(){return this._refreshCount},getSettings:function(){return this.getOptions().settings},getSettingsSegmentData:function(){var a=-1,b="",c=this.getOptions();c.hasOwnProperty("settingsMeta")&&(a=c.settingsMeta.hasOwnProperty("appliedAbTestStatus")?c.settingsMeta.appliedAbTestStatus:a,b=c.settingsMeta.hasOwnProperty("appliedAbTest")?c.settingsMeta.appliedAbTest:b);return{status:a,
test:b}},getWaterfall:function(){return this._waterfall},getWaterfallTrickleData:function(){var b=this.getOptions(),c=this.getWaterfall(),d=c.getCurrentStep();return a.tools.mergeDefaults(this.getContainerImpressionData(),{"waterfall.publisherID":b.publisherID,"waterfall.siteID":b.siteID,"waterfall.network":d.network,"waterfall.placementID":d.zone,"waterfall.step":c.getCurrentStepIndex(),"page.uri":a.tools.environment.getPageUrl()})},hideAd:function(){if(this.isNot("shown"))return Promise.resolve();
var b=this.getAnchor(),c=this.getAdFill(),d=c.getOptions().orientation,e=new a.AnimationContainer,f=this.getSettings().getInt("ui.media.Banner.animationSpeedOut",a.Config.BANNER_ANIMATION_SPEED_OUT),k=this;this.set("animating");c.set("animating");var m=a.tools.ads.calculateActualAdSize(c.getPlacementSize(),c.getOptions().proportions,!0);if(b instanceof a.PlacementStubAnchor)a.tools.animate(b.getAdContainerElement(),{duration:f,properties:{height:"0px"},easing:"inOutQuintic",callback:e.getCallback()});
else if(b instanceof a.PlacementBoxAnchor){var n,p;"horizontal"===d?(n="bottom",p=0-m.height+"px"):"vertical"===d&&(n="right",p=-m.width+"px");d={};d[n]=p;a.tools.animate(c.getAdElement().getScalingElement(),{duration:f,properties:d,easing:"inOutQuintic",callback:e.getCallback()});a.tools.animate(b.getDisclaimer().getContainer(),{duration:f,properties:{bottom:"0px",opacity:0},easing:"inOutQuintic",callback:e.getCallback()})}else b instanceof a.PlacementLaunchpadAnchor&&(a.tools.animate(b.getFixedContainerElement(),
{duration:f,properties:{bottom:0-m.height+"px"},easing:"inOutQuintic",callback:e.getCallback()}),a.tools.animate(b.getDisclaimer().getContainer(),{duration:f,properties:{bottom:"0px",opacity:0},easing:"inOutQuintic",callback:e.getCallback()}));return new Promise(function(a){e.onCompletion(function(){k.set("hidden");c.set("hidden");a()})})},loadAd:function(){var a=this;return new Promise(function(b){(function q(){var c=a.getAdFill();c&&(c.is("loaded")||c.is("idle"))?c.is("loaded")?c.getAdElement().applyInitialisation().then(b):
c.setup(a.getWaterfall(),a.getSettings()).then(b):setTimeout(q,80)})()})},refresh:function(){var a,b=this;a=this.getAdFill();var c=this.getWaterfall();return c&&a?(a.destroy(),c.destroy(),a=a.getPlacementSize(),d.call(this,a).then(function(){b._refreshCount+=1;return Promise.all([b.loadAd(),b.getAdFill().waitForLoad(),b.getAdFill().getAdElement().waitForLoad()]).then(function(){b.set("waitingContainerImpression")})})):Promise.reject()},setCuttingElement:function(a,b){this._cuttingElements[a]=b},showAd:function(){if(this.isNot("hidden"))return Promise.resolve();
var b=this.getAnchor(),c=this.getAdFill(),d=c.getOptions().orientation,e=new a.AnimationContainer,f=this.getSettings().getInt("ui.media.Banner.animationSpeedIn",a.Config.BANNER_ANIMATION_SPEED_IN),k=this;this.is("openedInstantly")&&(f=0);var n=e.getCallback();this.set("animating");c.set("animating");var p="horizontal"===d,s=a.tools.ads.calculateActualAdSize(c.getPlacementSize(),c.getOptions().proportions,p);this.loadAd().then(a.tools.delay).then(function(){if(b instanceof a.PlacementStubAnchor)s.height+=
b.getDisclaimer().getHeightOutsideBanner(),a.tools.animate(b.getAdContainerElement(),{duration:f,properties:{height:s.height+"px"},easing:"inOutQuintic",callback:function(){b.getDisclaimer().getContainer().style.bottom=s.height+"px";a.tools.animate(b.getDisclaimer().getContainer(),{duration:f,properties:{opacity:1},easing:"inOutQuintic",callback:n})}});else if(b instanceof a.PlacementBoxAnchor){var e,q;"horizontal"===d?(e="bottom",q="0px"):"vertical"===d&&(e="right",q=c.getRightPositionForOnScreen()+
"px");var k={};k[e]=q;a.tools.animate(c.getAdElement().getScalingElement(),{duration:f,properties:k,easing:"inOutQuintic",callback:function(){if("horizontal"===d)b.getDisclaimer().getContainer().style.bottom=s.height+"px";else if("vertical"===d){var c=b.getDisclaimer().getAdsLogoDisclaimerContainer().offsetHeight,e=b.getDisclaimer().getCloseButtonContainer().offsetWidth+b.getDisclaimer().getAdsLogoDisclaimerContainer().offsetWidth,h=Math.floor(s.width-e+e/2+c/2);m.style(b.getDisclaimer().getContainer(),
{top:e/2+c/2+"px",right:h+"px",width:e+"px",transform:"rotate(270deg)",msTransform:"rotate(270deg)",webkitTransform:"rotate(270deg)",webkitTransformOrigin:"50% 50%",marginTop:"-"+c+"px"})}a.tools.animate(b.getDisclaimer().getContainer(),{duration:f,properties:{opacity:1},easing:"inOutQuintic",callback:n})}})}else b instanceof a.PlacementLaunchpadAnchor&&(b.getFixedContainerElement().style.bottom="-"+s.height+"px",a.tools.animate(b.getFixedContainerElement(),{duration:f,properties:{bottom:"0px"},easing:"inOutQuintic",
callback:function(){b.getDisclaimer().getContainer().style.bottom=s.height+"px";a.tools.animate(b.getDisclaimer().getContainer(),{duration:f,properties:{opacity:1},easing:"inOutQuintic",callback:n})}}))});return new Promise(function(b){e.onCompletion(function(){k.set("shown");c.set("shown");a.messaging.dispatch("timingEvent",{name:"placementShown",properties:{kioskID:k.getOptions().kioskID}});b()})})},updateLayout:function(){if(this.is("shown")){var b=this.getAnchor(),c=this.getAdFill(),d=c.getOptions().orientation,
e="horizontal"===d,e=a.tools.ads.calculateActualAdSize(c.getPlacementSize(),c.getOptions().proportions,e);b instanceof a.PlacementBoxAnchor?"horizontal"===d?(c.getAdElement().getScalingElement().style.bottom="0px",b.getDisclaimer().getContainer().style.bottom=e.height+"px"):"vertical"===d&&(c.getAdElement().getScalingElement().style.right=c.getRightPositionForOnScreen()+"px",c=b.getDisclaimer().getAdsLogoDisclaimerContainer().offsetHeight,d=b.getDisclaimer().getCloseButtonContainer().offsetWidth+
b.getDisclaimer().getAdsLogoDisclaimerContainer().offsetWidth,e=Math.floor(e.width-d+d/2+c/2),m.style(b.getDisclaimer().getContainer(),{top:d/2+c/2+"px",right:e+"px",width:d+"px",transform:"rotate(270deg)",msTransform:"rotate(270deg)",webkitTransform:"rotate(270deg)",webkitTransformOrigin:"50% 50%",marginTop:"-"+c+"px"})):b instanceof a.PlacementStubAnchor?(e.height+=b.getDisclaimer().getHeightOutsideBanner(),b.getAdContainerElement().style.height=e.height+"px",b.getDisclaimer().getContainer().style.bottom=
e.height+"px"):b instanceof a.PlacementLaunchpadAnchor&&(b.getFixedContainerElement().style.bottom="0px",b.getDisclaimer().getContainer().style.bottom=e.height+"px")}}}}());a.PlacementContainer=a.PlacementContainer||a.AdComponentAbstract.extend(function(){function c(){a.tools.scope.enforceCaller(this,a.PlacementContainer,"Expected caller to be instance of PlacementContainer");var b=this;this.getPlacement().subscribe("buildFailed",function(){a.destructors.destroyPlacementContainer(b)})}return{construct:function(b){this.$super();
this._placement=b;this._inputManager=new a.PlacementInputManager;this._inputManager.setPlacement(b);c.call(this);this._firePageImpression()},destroy:function(){this._inputManager.destroy();this._inputManager=null;this._placement.destroy();this._placement=null;this.$super()},getInputManager:function(){return this._inputManager},getPlacement:function(){return this._placement},isHealthy:function(){return this.getPlacement()&&this.getInputManager()?this.$super()&&this.getPlacement().isHealthy()&&this.getInputManager().isHealthy():
!1},_firePageImpression:function(){if(a.hasNot("firedPageImpression")){a.set("firedPageImpression");a.messaging.dispatch("timingEvent",{name:"firstMediaCreated"});var b=this.getPlacement().getSettings().getInt("ui.media.analytics.pageImpressionDelay",1250),c=this.getPlacement().getOptions().kioskID;setTimeout(function(){if(a.hasNot("sentPageImpression")){a.set("sentPageImpression");var b=a.tools.environment.getAnalyticsPageData();b[a.Config.ANALYTICS_EVENT_NAME_PROPERTY]="pageImpression";a.messaging.dispatch(a.Config.ANALYTICS_EVENT_NAME,
b);a.messaging.dispatch("mediaPageImpression");a.messaging.dispatch("timingEvent",{name:"pageImpression",properties:{kioskID:c}})}},b)}}}}());a.DisplayComponent=a.DisplayComponent||a.KioskedObject.extend(function(){return{construct:function(){this.$super();this._container=null;this.addStatus("built");this.build()},build:function(){this.is("built")||(this._container=n.create("div"),this.set("built"))},destroy:function(){this.unset("built");n.dom.destroy(this._container);this._container=null;this.$super()},
getContainer:function(){return this._container}}}());a.DisclaimerBarAbstract=a.DisclaimerBarAbstract||a.DisplayComponent.extend(function(){return{construct:function(c){c=c||{};this._options=a.tools.mergeDefaults({disclaimerLink:a.Config.DISCLAIMER_DEFAULT_LINK,external:!0,showDisclaimer:!1},c);if(0>=this._options.disclaimerLink.length)throw Error("Disclaimer link was empty");this._adsLogoDisclaimerContainer=this._closeButtonContainer=null;this.$super()},build:function(){this.$super();this.unset("built");
this._closeButtonContainer=n.create("div");this._adsLogoDisclaimerContainer=n.create("div");this.set("built")},destroy:function(){a.tools.dom.destroy(this._closeButtonContainer);a.tools.dom.destroy(this._adsLogoDisclaimerContainer);this._adsLogoDisclaimerContainer=this._closeButtonContainer=null;this.$super()},getCloseButtonContainer:function(){return this._closeButtonContainer},getAdsLogoDisclaimerContainer:function(){return this._adsLogoDisclaimerContainer},getHeight:function(){return"default"===
a.styling.getDeviceType()?a.Config.BANNER_DISCLAIMER.HEIGHT_DESKTOP:a.Config.BANNER_DISCLAIMER.HEIGHT_MOBILE},getHeightOutsideBanner:function(){return!0===this.getOptions().external?this.getHeight():0},getOptions:function(){return this._options}}}());a.DisclaimerBarBasic=a.DisclaimerBarBasic||a.DisclaimerBarAbstract.extend(function(){return{construct:function(a){this.$super(a)},build:function(){this.$super();this.unset("built");var c=this.getContainer(),b=this.getCloseButtonContainer(),d=this.getAdsLogoDisclaimerContainer(),
e=this.getOptions();a.styling.selectStyle("BannerDisclaimerCloseButtonContainer").applyToElement(b);a.styling.selectStyle("BannerDisclaimerAdsLogoContainer").applyToElement(d);this.buildCloseButton(b);this.buildAdsLogoDisclaimerContainer(d);c.appendChild(b);e.showDisclaimer&&c.appendChild(d);a.styling.selectStyle("BannerDisclaimerContainer").applyToElement(c);this.set("built")},buildCloseButton:function(c){var b=document.createElement("div");a.styling.selectStyle("BannerDisclaimerCloseButtonIcon").applyToElement(b);
c.appendChild(b)},buildAdsLogoDisclaimerContainer:function(c){var b=this.getOptions();this._adsLogo=n.create("a");this._adsLogo.href=b.disclaimerLink;this._adsLogo.target="_blank";a.styling.selectStyle("BannerDisclaimerAdsLogo").applyToElement(this._adsLogo);c.appendChild(this._adsLogo)},getAdsLogo:function(){return this._adsLogo},destroy:function(){this.$super()}}}());a.DisclaimerBarInside=a.DisclaimerBarInside||a.DisclaimerBarAbstract.extend(function(){return{construct:function(a){this.$super(a)},
build:function(){this.$super();this.unset("built");var c=this,b=this.getContainer(),d=this.getCloseButtonContainer(),e=this.getAdsLogoDisclaimerContainer(),f=this.getOptions();a.styling.selectStyle("BannerDisclaimerCloseButtonContainerLeft").applyToElement(d);a.styling.selectStyle("BannerDisclaimerAdsLogoContainerLeft").applyToElement(e);if(a.tools.environment.device.isMobile()){var g=function(a){a.preventDefault();n.animate(e,{duration:500,properties:{width:"96px"},easing:"inOutQuintic"});e.removeEventListener("touchstart",
g);c.disclaimerTimeout=setTimeout(function(){n.animate(e,{duration:500,properties:{width:"20px"},easing:"inOutQuintic"});e.addEventListener("touchstart",g)},5E3)};e.addEventListener("touchstart",g)}else e.addEventListener("mouseenter",function(){clearTimeout(c.disclaimerTimeout);n.animate(e,{duration:500,properties:{width:"87px"},easing:"inOutQuintic"})}),e.addEventListener("mouseleave",function(){c.disclaimerTimeout=setTimeout(function(){n.animate(e,{duration:500,properties:{width:"18px"},easing:"inOutQuintic"})},
500)});this.buildCloseButton(d);this.buildAdsLogoDisclaimerContainer(e);b.appendChild(d);f.showDisclaimer&&b.appendChild(e);a.styling.selectStyle("BannerDisclaimerContainerInside").applyToElement(b);this.set("built")},buildCloseButton:function(c){var b=document.createElement("div");a.styling.selectStyle("BannerDisclaimerCloseButtonIcon").applyToElement(b);c.appendChild(b)},buildAdsLogoDisclaimerContainer:function(c){var b=this.getOptions();this._adsLogo=n.create("a");this._adsLogo.href=b.disclaimerLink;
this._adsLogo.target="_blank";a.styling.selectStyle("BannerDisclaimerAdsLogoInside").applyToElement(this._adsLogo);c.appendChild(this._adsLogo)},getAdsLogo:function(){return this._adsLogo},destroy:function(){this.$super()}}}());a.PlacementAnchorAbstract=a.PlacementAnchorAbstract||a.AdComponentAbstract.extend(function(){return{construct:function(c,b){this.$super();b=b||{};var d=this._options=a.tools.mergeDefaults({anchorType:!1,disclaimer:null,kioskID:"",zIndex:!1,placementType:null,refreshEnabled:!0,
scaleEnabled:!0},b);if(0>=d.kioskID.length)throw Error("Kiosk ID was empty");if(!0!==d.disclaimer instanceof a.DisclaimerBarAbstract)throw Error("Disclaimer was not an instance of DisclaimerBarAbstract");this.addStatus("visible");this.addStatus("beenVisible");this.addStatusSet(["desktopAnchor","mobileAnchor"]);this._targetElement=c;this._disclaimer=this._visibilityDetectionFrame=this._adContainerElement=this._anchorElement=null;a.styling.placeHeaderStylesheetWithNamespace("clearStyles_"+this.getOptions().kioskID,
this.getOptions().kioskID);a.tools.scope.enforceCaller(this,a.PlacementAnchorAbstract,"Context not met: PlacementAnchorAbstract");a.tools.environment.device.isMobile()?this.set("mobileAnchor"):this.set("desktopAnchor")},destroy:function(){this.unset("visible");this._disclaimer&&this._disclaimer.destroy();this._anchorElement&&(n.dom.destroy(this._anchorElement),this._visibilityDetectionFrame=this._adContainerElement=this._anchorElement=null);this.$super()},appendAdElement:function(a){this.getAdContainerElement().appendChild(a)},
applyPosition:function(a){var b=this.getAdContainerElement();b.style.left=a.left+"px";b.style.top=a.top+"px"},buildVisibilityDetectionFrame:function(a){},createAnchorElement:function(){null===this._anchorElement&&(this._anchorElement=a.tools.create("div",{cssClass:"kskdCls",style:{position:"relative",display:"block",width:"0px",height:"0px"}}))},createContainerElement:function(){null===this._adContainerElement&&(this._adContainerElement=a.tools.create("div",{},this.getAnchorElement()),a.styling.selectStyle("AdContainerElement").applyToElement(this._adContainerElement))},
getAdContainerElement:function(){return this._adContainerElement},getAnchorElement:function(){return this._anchorElement},getDisclaimer:function(){return this._disclaimer},getOptions:function(){return this._options},getTargetElement:function(){return this._targetElement},getVisibilityDetectionFrame:function(){return this._visibilityDetectionFrame},isVisible:function(){if(this.getVisibilityDetectionFrame()){var c=a.tools.isOnScreen(this._visibilityDetectionFrame);(c=!1!==c&&50<=c)?(this.set("visible"),
this.set("beenVisible")):this.unset("visible");return c}return!1},prepareDisclaimer:function(){var a=this.getAdContainerElement();this._disclaimer=this.getOptions().disclaimer;a.appendChild(this._disclaimer.getContainer())},updateLayout:function(a){var b=this.getAdContainerElement();b.style.width=a.width+"px";b.style.height=a.height+"px"}}}());a.PlacementBoxAnchor=a.PlacementBoxAnchor||a.PlacementAnchorAbstract.extend(function(){function c(b,c){a.tools.scope.enforceCaller(this,a.PlacementBoxAnchor,
"Context not met: PlacementBoxAnchor");b.style.cursor="pointer";a.tools.dom.addEvent(b,"click",function(a){c.click()})}return{construct:function(b,c){this.$super(b,a.tools.mergeDefaults({anchorType:a.Config.PLACEMENT_ANCHOR_TYPE.BOX,placementType:a.Config.PLACEMENT_TYPE.IN_MEDIA},c));this._insertionElement=this.getTargetElement().parentNode;this._insertionTargetElement=this.getTargetElement();this._orientation="";try{"a"===this._insertionElement.tagName.toLowerCase()&&(this._insertionTargetElement=
this._insertionElement,this._insertionElement=this._insertionElement.parentNode,this.set("attachedToLink"))}catch(e){a.tools.debug.warn("/PlacementBoxAnchor/","Failed detecting insertion-element tag name")}},buildVisibilityDetectionFrame:function(b){null===this._visibilityDetectionFrame&&(this._visibilityDetectionFrame=a.tools.create("div"),this._visibilityDetectionFrame.className+=" kskdVis",this._visibilityDetectionFrame.style.zIndex=a.Config.BANNER_VIS_FRAME_Z_INDEX,this._orientation=b,"vertical"===
b?m.style(this._visibilityDetectionFrame,{position:"absolute",right:"0px",top:"0px",bottom:"0px"}):m.style(this._visibilityDetectionFrame,{position:"absolute",bottom:"0px",left:"0px",right:"0px"}))},createAnchorElement:function(){this.$super();var a=this.getOptions().zIndex;!1===a&&(a=n.calculateZIndexOfChildren(this.getInsertionElement()));var c=this.getAnchorElement();c.id="kskd"+this.getOptions().kioskID;c.style.zIndex=a;this.getInsertionElement().insertBefore(c,this.getInsertionTargetElement().nextSibling)},
createContainerElement:function(){this.$super();this.is("attachedToLink")&&c.call(this,this.getAdContainerElement(),this.getInsertionTargetElement())},getInsertionElement:function(){return this._insertionElement},getInsertionTargetElement:function(){return this._insertionTargetElement},prepareDisclaimer:function(){this.$super();this.getDisclaimer().getContainer().style.bottom="0px"},updateLayout:function(b,c){this.$super(b,c);var e,f=this.getVisibilityDetectionFrame();f&&("vertical"===this._orientation?
(e=a.tools.ads.calculateScale(b,c,!0),f.style.width=e*c.width+"px"):(e=a.tools.ads.calculateScale(b,c,!1),f.style.height=e*c.height+"px"))}}}());a.PlacementLaunchpadAnchor=a.PlacementLaunchpadAnchor||a.PlacementAnchorAbstract.extend(function(){return{construct:function(c,b){this.$super(c,a.tools.mergeDefaults({anchorType:a.Config.PLACEMENT_ANCHOR_TYPE.LAUNCHPAD,placementType:a.Config.PLACEMENT_TYPE.IN_SCREEN},b));this._fixedContainer=null},appendAdElement:function(a){this._fixedContainer.appendChild(a)},
applySize:function(a){this.$super(a);this.getFixedContainerElement().style.height=a.height+"px"},createAnchorElement:function(){this.$super();var a=this.getAnchorElement();document.body.appendChild(a)},createContainerElement:function(){this.$super();this._fixedContainer=n.create("div",{},document.body);a.styling.selectStyle("BannerFooterContainer").applyToElement(this._fixedContainer);this._fixedContainer.className+=" "+a.Config.FIXED_BANNER_DIV_CLASS;this._fixedContainer.style.zIndex=a.Config.FIXED_BANNER_Z_INDEX;
this.getAnchorElement().appendChild(this._fixedContainer);this._fixedContainer.appendChild(this._adContainerElement);this._adContainerElement.style.margin="0px auto";this._adContainerElement.style.position="relative"},getFixedContainerElement:function(){return this._fixedContainer},isVisible:function(){this.set("visible");this.set("beenVisible");return!0},prepareDisclaimer:function(){var c=this.getAdContainerElement();this._disclaimer=this.getOptions().disclaimer;a.styling.selectStyle("BannerDisclaimerAdsLogoExternal").applyToElement(this._disclaimer.getAdsLogo());
c.parentNode.insertBefore(this._disclaimer.getContainer(),c)}}}());a.PlacementStubAnchor=a.PlacementStubAnchor||a.PlacementAnchorAbstract.extend(function(){return{construct:function(c,b){this.$super(c,a.tools.mergeDefaults({anchorType:a.Config.PLACEMENT_ANCHOR_TYPE.STUB,placementPath:!1,placementPosition:"after",placementType:a.Config.PLACEMENT_TYPE.IN_LINE},b))},buildVisibilityDetectionFrame:function(){null===this._visibilityDetectionFrame&&(this._visibilityDetectionFrame=a.tools.create("div"),this._visibilityDetectionFrame.className+=
" kskdStubVis",this._visibilityDetectionFrame.style.zIndex=a.Config.BANNER_VIS_FRAME_Z_INDEX)},createAnchorElement:function(){this.$super();var a=this.getAnchorElement();m.style(a,{width:"auto",height:"auto"});var b="after"===this.getOptions().placementPosition?this.getTargetElement().nextSibling:this.getTargetElement();this.getTargetElement().parentNode.insertBefore(a,b)},createContainerElement:function(){this.$super();var c=this.getAdContainerElement(),b=this.getOptions().margin+"px auto";m.style(c,
{position:"relative",bottom:"auto",left:"0px",right:"auto",top:"0px",height:"0px",margin:b});var d=this.getOptions(),b=d.placementPath,d=d.placementPosition;if(!1!==b){var e=a.tools.dom.xPath.getElement(b,c.parentNode);e?"before"===d?e.parentNode.insertBefore(c,e):"after"===d&&e.parentNode.insertBefore(c,e.nextSibling):a.tools.debug.warn("/PlacementStubAnchor/","Failed to find node for xPath",b)}},prepareDisclaimer:function(){this.$super();var c=this.getDisclaimer();a.styling.selectStyle("BannerDisclaimerAdsLogoExternal").applyToElement(c.getAdsLogo());
c.getContainer().style.top="0px"},updateLayout:function(a,b){this.$super(a,b);var d=this.getOptions(),e=this.getAdContainerElement();if(!0!==d.scaleEnabled){var d=b.height,f=this.getDisclaimer();f&&(d+=f.getHeightOutsideBanner());e.style.maxWidth=b.width+"px";e.style.maxHeight=d+"px"}}}}());a.AdFillAbstract=a.AdFillAbstract||a.AdComponentAbstract.extend(function(){return{construct:function(c,b){this.$super();b=b||{};this._options=a.tools.mergeDefaults({kioskID:"",name:"AdFillAbstract",proportions:{width:0,
height:0},orientation:"horizontal",refreshEnabled:!0,scaleEnabled:!0,viewabilityEnabled:!1},b);if(0>=this._options.kioskID.length)throw Error("Kiosk ID was empty");this._adElement=null;this._anchor=c;this.addStatusSet(["idle","loading","loaded"],"idle");this.addStatusSet(["shown","hidden","animating"],"hidden");this._lastPlacementSize={width:0,height:0}},createNewAdElement:function(c,b){return a.AdElementFactory.createAdElementWithWaterfall(this.getAnchor().getAdContainerElement(),c,this.getOptions().kioskID,
b,this.getAnchor())},destroy:function(){this._adElement.destroy();this._adElement=null;this.$super()},empty:function(){var c=this.getAdElement(),b=c.getScalingElement();b&&a.tools.dom.destroy(b);c.destroy()},getAdElement:function(){return this._adElement},getAnchor:function(){return this._anchor},getOptions:function(){return this._options},getPlacementSize:function(){return this._lastPlacementSize},setPlacementSize:function(a){this._lastPlacementSize.width=a.width;this._lastPlacementSize.height=a.height;
this.updateLayout()},setProportions:function(a){this.getOptions().proportions=a},setup:function(c){this.set("loading");return c.containsNetwork("iow")?a.IOWManager.getSharedInstance().prepareLibrary():Promise.resolve()},updateLayout:function(){},waitForLoad:function(){var a=this;return new Promise(function(b,d){var e=setInterval(function(){a?a.is("loaded")&&(clearInterval(e),b()):(clearInterval(e),d())},100)})}}}());a.AdFillBanner=a.AdFillBanner||a.AdFillAbstract.extend(function(){return{construct:function(c,
b){b=a.tools.mergeDefaults({name:"AdFillBanner",sourceURL:""},b);this.$super(c,b)},setup:function(c,b){var d=this,e=this.getAnchor().getOptions().kioskID,f=function(){a.messaging.dispatch("timingEvent",{name:"bannerCreated",properties:{kioskID:e}});d.publish("waterfallTrickle",{waterfall:c})};return this.$super(c,b).then(function(){return d.createNewAdElement(c,b)}).then(function(b){var e=c.getCurrentStep();e?d.setProportions(e.proportions):a.tools.debug.warn("/AdFillBanner/","No step from waterfall");
return b}).then(function(a){if(!a)throw new k("No ad element was created");d._adElement=a;d._adElement.subscribe("adCompleted",function(){d.publish("adCompleted")});!0===d.getOptions().viewabilityEnabled&&0===c.getCurrentStepIndex()?(d._adElement.bundleApplicator(f),d.set("loaded")):(f(),d._adElement.applyInitialisation().then(function(){d.set("loaded")}));return d._adElement})},updateLayout:function(){this.$super();var a=this.getAdElement().getScalingElement();a&&(a.style.transformOrigin="0% 100%",
a.style.msTransformOrigin="0% 100%",a.style.WebkitTransformOrigin="0% 100%",a.style.OTransformOrigin="0% 100%",a.style.visibility="visible",a.style.display="block",a.style.position="absolute",a.style.bottom="0px")}}}());a.AdFillHorizontalBanner=a.AdFillHorizontalBanner||a.AdFillBanner.extend(function(){return{construct:function(c,b){this.$super(c,a.tools.mergeDefaults({name:"AdFillHorizontalBanner"},b))},getBottomPositionForOffScreen:function(){var a=this.getOptions().proportions;return 0-this.getPlacementSize().width/
a.width*a.height},setup:function(a,b){var d=this;return this.$super(a,b).then(function(){d.getAnchor().buildVisibilityDetectionFrame("horizontal");var a=d.getAnchor().getVisibilityDetectionFrame();null!==a&&d.getAnchor().appendAdElement(a)})},updateLayout:function(){this.$super();var c=this.getOptions().proportions,b=this.getPlacementSize(),b=!0===this.getOptions().scaleEnabled?b.width/c.width:1,d=this.getAdElement(),e=d.getScalingElement(),f=this.getAnchor().getVisibilityDetectionFrame();e&&(d.scaleElement(c,
b),e.style.position="absolute",this.getAnchor()instanceof a.PlacementBoxAnchor&&(this.is("shown")?e.style.bottom="0px":this.is("hidden")&&(e.style.bottom=this.getBottomPositionForOffScreen()+"px"),f.style.height=b*c.height+"px"))}}}());a.AdFillVerticalBanner=a.AdFillVerticalBanner||a.AdFillBanner.extend(function(){return{construct:function(c,b){this.$super(c,a.tools.mergeDefaults({name:"AdFillVerticalBanner",orientation:"vertical"},b))},getRightPositionForOffScreen:function(){var a=this.getOptions().proportions,
b=this.getPlacementSize().height/a.height;return 0-Math.ceil(a.width-b*a.width)-b*a.width},getRightPositionForOnScreen:function(){var a=this.getOptions().proportions,b=this.getPlacementSize().height/a.height;return 0-Math.ceil(a.width-b*a.width)},setup:function(a){var b=this;return this.$super(a).then(function(){b.getAnchor().buildVisibilityDetectionFrame("vertical");var a=b.getAnchor().getVisibilityDetectionFrame();a&&b.getAnchor().appendAdElement(a)})},updateLayout:function(){this.$super();var a=
this.getOptions().proportions,b=this.getPlacementSize(),b=!0===this.getOptions().scaleEnabled?b.height/a.height:1,d=this.getAdElement().getScalingElement();d.style.left="auto";d.style.setProperty("width",a.width+"px","important");d.style.setProperty("height",a.height+"px","important");d.style.WebkitTransform="scale("+b+")";d.style.MozTransform="scale("+b+")";d.style.msTransform="scale("+b+")";d.style.OTransform="scale("+b+")";d.style.transform="scale("+b+")";this.is("shown")?d.style.right=this.getRightPositionForOnScreen()+
"px":d.style.right=this.getRightPositionForOffScreen()+"px";if(d=this.getAnchor().getVisibilityDetectionFrame())d.style.height=b*a.height+"px"}}}());a.AdFillRectBanner=a.AdFillRectBanner||a.AdFillBanner.extend(function(){return{construct:function(c,b){this.$super(c,a.tools.mergeDefaults({name:"AdFillRectBanner"},b))},setup:function(a,b){var d=this;return this.$super(a,b).then(function(){d.getAnchor().buildVisibilityDetectionFrame("horizontal");var a=d.getAnchor().getVisibilityDetectionFrame();null!==
a&&d.getAnchor().appendAdElement(a)})},updateLayout:function(){this.$super();var c=this.getOptions().proportions,b=this.getPlacementSize(),b=!0===this.getOptions().scaleEnabled?b.width/c.width:1,d=this.getAdElement(),e=d.getScalingElement(),f=this.getAnchor().getVisibilityDetectionFrame();e&&d.scaleElement(c,b);this.getAnchor()instanceof a.PlacementBoxAnchor&&(this.is("shown")?e.style.bottom="0px":e.style.bottom=this.getBottomPositionForOffScreen()+"px",f.style.height=b*c.height+"px")}}}());a.AdFillVast=
a.AdFillVast||a.AdFillBanner.extend(function(){return{construct:function(c,b){b=a.tools.mergeDefaults({name:"AdFillVast",refreshEnabled:!1,vastURL:""},b);this.$super(c,b)},setup:function(a,b){var d=this;return this.$super(a,b).then(function(){d.getAnchor().buildVisibilityDetectionFrame("horizontal");var a=d.getAnchor().getVisibilityDetectionFrame();null!==a&&d.getAnchor().appendAdElement(a)}).then(function(){var a=d.getAdElement();a&&a.set("loaded")})},updateLayout:function(){this.$super();var c=
this.getOptions().proportions,b=this.getPlacementSize().width/c.width,d=this.getAdElement(),e=d.getScalingElement(),f=this.getAnchor().getVisibilityDetectionFrame();if(e){var g=b;d.is("flash")&&(g=1,c.width*=b,c.height*=b);d.scaleElement(c,g)}this.getAnchor()instanceof a.PlacementBoxAnchor&&(e.style.bottom="0px",f.style.height=b*c.height+"px")}}}());(function(){function c(){return{fillClass:!1,proportions:{width:0,height:0},type:"",vastURL:"",zoneID:!1,provider:"",network:"",viewability:!1,sizeRestraints:{minWidth:0,
maxWidth:0}}}a.AdFillResolver=a.AdFillResolver||{createAdFillForConfiguration:function(b,c,e){e=a.tools.mergeDefaults({ignoreMediaSize:!1,kioskID:"",mediaSize:{width:0,height:0}},e);var f=!1;b instanceof a.PlacementLaunchpadAnchor&&(f=a.Config.PLACEMENT_TYPE.IN_SCREEN);f=a.AdFillResolver.getAspectFromSettings(c,e.mediaSize,e.ignoreMediaSize,f);if(0>=f.length)return a.tools.debug.warn("/AdFillResolver/","No aspect(s) found from settings - possible media-size mismatch"),Promise.resolve(!1);var g=new a.Waterfall;
f[0].fillClass===a.AdFillVast?(f.forEach(function(a){g.addStep("vast",a.vastURL,a.proportions,"vastpreroll")}),f=new f[0].fillClass(b,{kioskID:e.kioskID,viewabilityEnabled:f[0].viewability})):(f.forEach(function(a){g.addStep(a.network,a.zoneID,a.proportions,a.provider)}),f=new f[0].fillClass(b,{kioskID:e.kioskID,scaleEnabled:!c.getBool("ui.media.Banner.noScale",!1),viewabilityEnabled:f[0].viewability,sizeRestraints:f[0].sizeRestraints}));var h=a.InstanceControlManager.getSharedInstance();return h.registerCount(a.InstanceControlManager.InstanceType.AdFill,
f.getOptions().name,e.kioskID)?Promise.resolve({adFill:f,waterfall:g}):h.waitForSlot(a.InstanceControlManager.InstanceType.AdFill,f.getOptions().name,e.kioskID).then(function(){return a.AdFillResolver.createAdFillForConfiguration(b,c,e)})},getAspectFromSettings:function(b,d,e,f){e=a.tools.isset(e)?e:!1;f=a.tools.isset(f)?f:!1;var g=c(),h=[],l=a.AdFillResolver.getProviderFromSettings(b),q=a.AdFillResolver.getAvailableZoneIDs(b),k;for(k in q)q.hasOwnProperty(k)&&"string"===typeof q[k]&&0>=q[k].trim().length&&
(q[k]=!1);k=a.AdFillResolver.getBannerSizeRestraints(b);var m=a.tools.environment.device.isMobile();g.network=g.provider=a.AdFillResolver.getProviderFromSettings(b);g.viewability=b.getBool("ui.media.Banner.viewabilityEnabled",!1);if("vastpreroll"===l)g.fillClass=a.AdFillVast,g.type="video",g.vastURL=q.videoZoneVastUrl,g.proportions.width=a.Config.BANNER_SIZE_STANDARDS.VIDEO.WIDTH,g.proportions.height=a.Config.BANNER_SIZE_STANDARDS.VIDEO.HEIGHT,g.viewability=!0,h.push(g);else{q.dfpOverride&&5<q.dfpOverride.length&&
h.push(a.tools.mergeDefaults(c(),{type:"horizontal",network:"dfp",provider:"dfp",fillClass:a.AdFillHorizontalBanner,zoneID:q.dfpOverride,proportions:{width:a.Config.BANNER_SIZE_STANDARDS.HORIZONTAL.WIDTH,height:a.Config.BANNER_SIZE_STANDARDS.HORIZONTAL.HEIGHT}}));!0===e?q.mobileVideoZoneId&&m?(g.type="mobileVideo",g.zoneID=q.mobileVideoZoneId,g.viewability=!0):q.mobileZoneId&&m?(g.type="mobile",g.zoneID=q.mobileZoneId):q.mediumMobileRectZoneId&&m?(g.type="mediumMobileRect",g.zoneID=q.mediumMobileRectZoneId):
this.mediumRectZoneId?(g.type="mediumRect",g.zoneID=q.mediumRectZoneId):this.horizontalZoneId?(g.type="horizontal",g.zoneID=q.horizontalZoneId):this.horizontalSmallZoneId&&(g.type="horizontalSmall",g.zoneID=q.horizontalSmallZoneId):q.mobileVideoZoneId&&m?(g.type="mobileVideo",g.zoneID=q.mobileVideoZoneId,g.viewability=!0):d.width>=k.mobileMin&&d.width<=k.mobileMax&&q.mobileZoneId&&m?(g.type="mobile",g.zoneID=q.mobileZoneId,g.sizeRestraints={minWidth:k.mobileMin,maxWidth:k.mobileMax}):d.width>=k.medMobileRectMin&&
d.width<=k.medMobileRectMax&&q.mediumMobileRectZoneId&&m?(g.type="mediumMobileRect",g.zoneID=q.mediumMobileRectZoneId,g.sizeRestraints={minWidth:k.medMobileRectMin,maxWidth:k.medMobileRectMax}):d.width>=k.medRectMin&&d.width<=k.medRectMax&&q.mediumRectZoneId?(g.type="mediumRect",g.zoneID=q.mediumRectZoneId,g.sizeRestraints={minWidth:k.mobileMin,maxWidth:k.mobileMax}):d.width>=k.horMin&&d.width<=k.horMax&&q.horizontalZoneId?(g.type="horizontal",g.zoneID=q.horizontalZoneId,g.sizeRestraints={minWidth:k.horMin,
maxWidth:k.horMax}):d.width<=k.horSmallMax&&d.width>=k.horSmallMin&&q.horizontalSmallZoneId?(g.type="horizontalSmall",g.zoneID=q.horizontalSmallZoneId,g.sizeRestraints={minWidth:k.horSmallMin,maxWidth:k.horSmallMax}):d.height<=k.vertMax&&d.height>=k.vertMin&&q.verticalZoneId&&(g.type="vertical",g.zoneID=q.verticalZoneId);f===a.Config.PLACEMENT_TYPE.IN_SCREEN&&(q.floorMobileOverride&&m?(g.zoneID=q.floorMobileOverride,g.type="mobile"):q.floorHorizontalOverride&&(g.zoneID=q.floorHorizontalOverride,g.type=
"horizontal"));switch(g.type){case "vertical":g.fillClass=a.AdFillVerticalBanner;g.proportions.width=a.Config.BANNER_SIZE_STANDARDS.VERTICAL.WIDTH;g.proportions.height=a.Config.BANNER_SIZE_STANDARDS.VERTICAL.HEIGHT;break;case "mobileVideo":case "mediumRect":case "mediumMobileRect":g.proportions.width=a.Config.BANNER_SIZE_STANDARDS.MEDIUM_RECT.WIDTH;g.proportions.height=a.Config.BANNER_SIZE_STANDARDS.MEDIUM_RECT.HEIGHT;g.fillClass=a.AdFillRectBanner;break;case "mobile":g.proportions.width=a.Config.BANNER_SIZE_STANDARDS.MOBILE.WIDTH;
g.proportions.height=a.Config.BANNER_SIZE_STANDARDS.MOBILE.HEIGHT;g.fillClass=a.AdFillHorizontalBanner;break;case "horizontalSmall":g.proportions.width=a.Config.BANNER_SIZE_STANDARDS.HORIZONTAL_SMALL.WIDTH;g.proportions.height=a.Config.BANNER_SIZE_STANDARDS.HORIZONTAL_SMALL.HEIGHT;g.fillClass=a.AdFillHorizontalBanner;break;case "horizontal":g.proportions.width=a.Config.BANNER_SIZE_STANDARDS.HORIZONTAL.WIDTH,g.proportions.height=a.Config.BANNER_SIZE_STANDARDS.HORIZONTAL.HEIGHT,g.fillClass=a.AdFillHorizontalBanner}0<
g.type.length&&g.zoneID?h.push(g):a.tools.debug.warn("/AdFillTypeResolver/","Aspect was not added to waterfall as it was incomplete.")}return h},getAvailableZoneIDs:function(a){var c=a.getSubset("ui.media.Banner");a=a.getSubset("ui.media.plugins.FloorBannerSlot");return{mobileZoneId:c.get("mobileZoneId",!1),mediumMobileRectZoneId:c.get("mediumMobileRectZoneId",!1),mobileVideoZoneId:c.get("mobileVideoZoneVastUrl",!1),mediumRectZoneId:c.get("mediumRectZoneId",!1),horizontalZoneId:c.get("horizontalZoneId",
!1),horizontalSmallZoneId:c.get("horizontalSmallZoneId",!1),verticalZoneId:c.get("verticalZoneId",!1),videoZoneVastUrl:c.get("videoZoneVastUrl",!1),dfpOverride:c.get("dfp728ZoneId",!1),floorHorizontalOverride:a.get("zoneOverrides.horizontalZoneId",!1),floorMobileOverride:a.get("zoneOverrides.mobileZoneId",!1)}},getBannerSizeRestraints:function(a){a=a.getSubset("ui.media.Banner");return{horSmallMin:a.getInt("minMediaSize.horizontalSmallWidth",300),horSmallMax:a.getInt("maxMediaSize.horizontalSmallWidth",
489),medRectMin:a.getInt("minMediaSize.medRectWidth",350),medRectMax:a.getInt("maxMediaSize.medRectWidth",900),medMobileRectMin:a.getInt("minMediaSize.medMobileRectWidth",200),medMobileRectMax:a.getInt("maxMediaSize.medMobileRectWidth",400),horMin:a.getInt("minMediaSize.horizontalWidth",490),horMax:a.getInt("maxMediaSize.horizontalWidth",900),vertMin:a.getInt("minMediaSize.verticalHeight",330),vertMax:a.getInt("maxMediaSize.verticalHeight",650),mobileMin:a.getInt("minMediaSize.mobileWidth",250),mobileMax:a.getInt("maxMediaSize.mobileWidth",
900),videoMin:a.getInt("minMediaSize.videoWidth",490),videoMax:a.getInt("maxMediaSize.videoWidth",900)}},getProviderFromSettings:function(a){return a.get("ui.media.Banner.provider","revive").toLowerCase()}}})();a.InstanceControlManager=a.InstanceControlManager||a.KioskedObject.extend(function(){return{construct:function(){this.$super();this._limits={anchor:{},adFill:{}};this._counts={anchor:{},adFill:{}}},applyLimit:function(a,b,d){this._limits[a][b]=d},deregisterCount:function(c,b,d){if(this._counts[c][b]&&
this._counts[c][b][d]){var e;a.tools.scope.enforceCaller(this,a.InstanceControlManager,"Expected caller to be instance of InstanceControlManager");e=this.getLimit(c,b);e=0<e?this.getCount(c,b)===e:!1;this._counts[c][b][d]=!1;delete this._counts[c][b][d];e&&this.publish("slotOpen",{type:c,subType:b})}},destroy:function(){this._limits={};this._counts={};this.$super()},getCount:function(c,b){var d=0;if(this._counts[c]&&this._counts[c].hasOwnProperty(b)){var e=this._counts[c][b],f;for(f in e)e.hasOwnProperty(f)&&
e[f]===a.InstanceControlManager.ItemState.Online&&(d+=1)}return d},getItemState:function(c,b,d){return this._counts[c]&&this._counts[c][b]&&this._counts[c][b][d]?this._counts[c][b][d]:a.InstanceControlManager.ItemState.Unknown},getLimit:function(a,b){return this._limits[a]&&this._limits[a].hasOwnProperty(b)?this._limits[a][b]:0},registerCount:function(c,b,d){if(this.getItemState(c,b,d)===a.InstanceControlManager.ItemState.Online)return!0;this._counts[c][b]=this._counts[c][b]||{};var e;a.tools.scope.enforceCaller(this,
a.InstanceControlManager,"Expected caller to be instance of InstanceControlManager");e=this.getLimit(c,b);e=0<e?this.getCount(c,b)<e:!0;this._counts[c][b][d]=e?a.InstanceControlManager.ItemState.Online:a.InstanceControlManager.ItemState.InQueue;return e},waitForSlot:function(a,b,d){var e=this;return new Promise(function(f){e.subscribe("slotOpen",function(g){g.type===a&&g.subType===b&&e.registerCount(a,b,d)&&f()})})}}}());a.InstanceControlManager.InstanceType={Anchor:"anchor",AdFill:"adFill"};a.InstanceControlManager.ItemState=
{Online:"online",InQueue:"queue",Unknown:"unknown"};(function(){var c=new a.InstanceControlManager;a.InstanceControlManager.getSharedInstance=function(){return c}})();a.VASTDelegate=a.VASTDelegate||a.AdComponentAbstract.extend(function(){function c(b){return a.tools.communication.sendRequest({destination:b,method:"GET",withCredentials:!1}).then(function(a){var b=(new DOMParser).parseFromString(a,"text/xml");return 0<b.getElementsByTagName("VASTAdTagURI").length?(a=b.getElementsByTagName("VASTAdTagURI")[0].textContent,
c(a)):a},function(a){throw new k("VAST request failed: "+a);})}return{construct:function(b){this.$super();this._vastURL=b;this._formatMarshaler=new a.VASTFormatMarshaler},destroy:function(){var a=this.getFormatMarshaler();a&&(a.destroy(),this._formatMarshaler=null);this.$super()},getFormatMarshaler:function(){return this._formatMarshaler},getVASTURL:function(){return this._vastURL},prepareVideoPlayer:function(){var a=this;return c(this.getVASTURL()).then(function(c){a.getFormatMarshaler().setVASTResponseText(c);
return c}).then(this.getFormatMarshaler().bindMember("processVASTResponse")).then(this.getFormatMarshaler().bindMember("preparePlayerOfType"))}}}());a.VASTFormatMarshaler=a.VASTFormatMarshaler||a.AdComponentAbstract.extend(function(){return{construct:function(){this.$super();this._VASTResponseText=""},buildFlashPlayer:function(){a.tools.debug.log("/VASTFormatMarshaler/","Building Flash video");return new a.VASTVideoAdFlash(this.getVASTResponseText())},buildHTML5Player:function(){a.tools.debug.log("/VASTFormatMarshaler/",
"Building HTML5 video");return new a.VASTVideoAdHTML5(this.getVASTResponseText())},getVASTResponseText:function(){return this._VASTResponseText},preparePlayerOfType:function(c){var b=a.videoSupport.supports("html5"),d=a.videoSupport.supports("flash");if(!d&&!b)return a.tools.debug.warn("/VASTFormatMarshaler/","Client does not support a valid video platform"),null;switch(c){case a.Config.VAST_VIDEO_FORMAT_FLASH:if(d)return this.buildFlashPlayer();a.tools.debug.log("/VASTFormatMarshaler/","Requested Flash content, but client does not support Flash players");
return b?this.buildHTML5Player():null;case a.Config.VAST_VIDEO_FORMAT_UNKNOWN:if(b)a.tools.debug.log("/VASTFormatMarshaler/","Requested unknown video format, trying HTML5");else if(d)return this.preparePlayerOfType(a.Config.VAST_VIDEO_FORMAT_FLASH);case a.Config.VAST_VIDEO_FORMAT_HTML5:if(b)return this.buildHTML5Player();a.tools.debug.log("/VASTFormatMarshaler/","Requested HTML5 content, but client does not support HTML5 video");return null;default:throw new k("Invalid video format");}},processVASTResponse:function(c){var b=
a.Config.VAST_VIDEO_FORMAT_UNKNOWN;0<=c.indexOf('type="application/x-shockwave-flash"')||0<=c.indexOf('type="video/x-flv"')?(b=a.Config.VAST_VIDEO_FORMAT_FLASH,a.tools.debug.log("/VASTFormatMarshaler/","VAST format is Flash")):/type ?= ?"(video|application)\/(mp4|ogg|webm|javascript)"/i.test(c)&&(b=a.Config.VAST_VIDEO_FORMAT_HTML5,a.tools.debug.log("/VASTFormatMarshaler/","VAST format is HTML5"));return b},setVASTResponseText:function(a){this._VASTResponseText=a}}}());a.VASTVideoAdAbstract=a.VASTVideoAdAbstract||
a.AdComponentAbstract.extend(function(){return{construct:function(c){this.$super();this._VASTResponseText=c;this._kioskID="000000";this._size={width:a.Config.BANNER_SIZE_STANDARDS.VIDEO.WIDTH,height:a.Config.BANNER_SIZE_STANDARDS.VIDEO.HEIGHT}},destroy:function(){this.$super()},getKioskID:function(){return this._kioskID},getSize:function(){return this._size},getVASTResponseText:function(){return this._VASTResponseText},initialise:function(){return Promise.resolve()},setKioskID:function(a){this._kioskID=
a},setupInContainer:function(){},start:function(){},_adCompleted:function(){this.publish("adCompleted")},_adErrored:function(){a.messaging.dispatch("videoFallback",{id:this.getKioskID()});this.publish("adErrored")},_adLoaded:function(){this.publish("adLoaded")},_adStarted:function(){this.publish("adStarted")}}}());a.VASTVideoAdFlash=a.VASTVideoAdFlash||a.VASTVideoAdAbstract.extend(function(){function c(){a.tools.scope.enforceCaller(this,a.VASTVideoAdFlash,"Expected caller to be instance of VASTVideoAdFlash");
var b=this;this._subscriptions.push(a.messaging.subscribe("flashAdLoaded",function(a){a===b.getFlashAdID()&&b._adLoaded()}));this._subscriptions.push(a.messaging.subscribe("flashAdStarted",function(a){a===b.getFlashAdID()&&b._adStarted()}));this._subscriptions.push(a.messaging.subscribe("flashAdCompleted",function(a){a===b.getFlashAdID()&&b._adCompleted()}));this._subscriptions.push(a.messaging.subscribe("flashAdError",function(a){a===b.getFlashAdID()&&b._adErrored()}))}function b(){return new Promise(function(a,
b){var c=8,d=setInterval(function(){c-=1;"function"===typeof window.swfobject.embedSWF?(clearInterval(d),a()):0>=c&&(clearInterval(d),b("Failed to load swfobject"))},250)})}function d(b){a.tools.scope.enforceCaller(this,a.VASTVideoAdFlash,"Expected caller to be instance of VASTVideoAdFlash");this.flashObj=b.ref;this.flashObj.onmouseover=function(){try{b.ref.setVolume(.8)}catch(a){}};this.flashObj.onmouseout=function(){try{b.ref.setVolume(0)}catch(a){}}}var e=!1;return{construct:function(a){this.$super(a);
this._playerStates={loaded:!1,started:!1,error:!1,playOnLoad:!1};this._subscriptions=[];c.call(this)},buildFlashObject:function(){return{id:this.getFlashAdID(),loaded:a.tools.curryWhole(this.getPlayerState,this)("loaded"),started:a.tools.curryWhole(this.getPlayerState,this)("started"),error:a.tools.curryWhole(this.getPlayerState,this)("error"),playOnLoad:a.tools.curryWhole(this.getPlayerState,this)("playOnLoad"),completedCallback:this.bindMember("_adCompleted"),startedCallback:this.bindMember("_adStarted"),
loadedCallback:this.bindMember("_adLoaded"),errorCallback:this.bindMember("_adErrored")}},destroy:function(){try{this._subscriptions.forEach(function(a){a.remove()})}catch(a){}this._subscriptions=null;this.$super()},getFlashAdID:function(){return"kskdVideo"+this.getKioskID()},getPlayerState:function(a){if(!this._playerStates.hasOwnProperty(a))throw new k("Invalid player state: "+a);return this._playerStates[a]},initialise:function(){return this.$super().then(function(){return new Promise(function(a,
c){if(e)b().then(a,c);else{e=!0;var d=document.createElement("script");d.setAttribute("src","//ajax.googleapis.com/ajax/libs/swfobject/2.2/swfobject.js");d.onreadystatechange=d.onload=function(){b().then(a,c)};document.head.appendChild(d)}})})},setupInContainer:function(b){var c=b.parentNode.offsetWidth,e=c/640*360,l=this.buildFlashObject(),q={vastText:encodeURIComponent(this.getVASTResponseText()),adID:l.id},k={id:"kioskedAdPlayer_"+l.id,name:"kioskedAdPlayer",align:"middle",style:"max-width:"+c+
"px !important;height:"+e+"px !important;position: absolute; left: 0px; bottom: 0px"},m=a.tools.create("div"),n=a.tools.create("div");m.appendChild(n);n.setAttribute("id",l.id);b.appendChild(m);window.swfobject.embedSWF(a.Config.FLASH_PLAYER_LOCATION,l.id,c,e,"1.0","",q,{quality:"high",bgcolor:"#FFFFFF",allowscriptaccess:"always",allowfullscreen:"true"},k,a.tools.compatibility.bindFunction(d,this))}}}());a.VASTVideoAdHTML5=a.VASTVideoAdHTML5||a.VASTVideoAdAbstract.extend(function(){function c(){a.tools.scope.enforceCaller(this,
a.VASTVideoAdHTML5,"Expected caller to be instance of VASTVideoAdHTML5");var b=this;this._videoMouseoverListener=a.tools.dom.addEvent(this._videoContentDiv,"mouseover",function(){b.enableVolume(!0)});this._videoMouseoutListener=a.tools.dom.addEvent(this._videoContentDiv,"mouseout",function(){b.enableVolume(!1)})}var b=!1;return{construct:function(b){this.$super(b);this._subscriptions=[];this._tempVideoItem=this._adsManager=this._adsLoader=null;a.tools.scope.enforceCaller(this,a.VASTVideoAdHTML5,"Expected caller to be instance of VASTVideoAdHTML5")},
destroy:function(){try{this._subscriptions.forEach(function(a){a.remove()})}catch(b){}this._subscriptions=null;this._tempVideoItem&&(a.tools.dom.destroy(this._tempVideoItem),this._tempVideoItem=null);this._adsManager=this._adsLoader=null;a.tools.scope.enforceCaller(this,a.VASTVideoAdHTML5,"Expected caller to be instance of VASTVideoAdHTML5");this._videoMouseoverListener&&this._videoMouseoverListener.remove();this._videoMouseoutListener&&this._videoMouseoutListener.remove();this.$super()},enableVolume:function(b){var c=
this.getAdsManager();if(!c)throw new k("No ads manager instantiated");b?(a.tools.debug.log("/VASTVideoAdHTML5/","Volume enabled"),c.setVolume(.8)):(a.tools.debug.log("/VASTVideoAdHTML5/","Volume disabled"),c.setVolume(0))},getAdsLoader:function(){return this._adsLoader},getAdsManager:function(){return this._adsManager},initialise:function(){return this.$super().then(function(){return new Promise(function(a,c){if(b)a();else{var f=document.createElement("script");f.setAttribute("src","//imasdk.googleapis.com/js/sdkloader/ima3.js");
f.onreadystatechange=f.onload=function(){var f=8,h=setInterval(function(){f-=1;"function"===typeof google.ima.AdsLoader?(b=!0,clearInterval(h),a()):0>=f&&(clearInterval(h),c("Failed to load ima"))},250)};document.head.appendChild(f)}})})},setupInContainer:function(b){this._videoContentDiv=a.tools.create("div");b.appendChild(this._videoContentDiv);this._tempVideoItem=document.createElement("video");b=new google.ima.AdDisplayContainer(this._videoContentDiv,this._tempVideoItem);google.ima.settings.setVpaidAllowed(!0);
b.initialize();this._adsLoader=new google.ima.AdsLoader(b);this.getAdsLoader().addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.bindMember("_adManagerLoaded"),!1);this.getAdsLoader().addEventListener(google.ima.AdsManagerLoadedEvent.Type.AD_ERROR,this.bindMember("_adErrored"),!1);b=new google.ima.AdsRequest;b.adsResponse=this.getVASTResponseText();b.linearAdSlotWidth=640;b.linearAdSlotHeight=360;b.nonLinearAdSlotWidth=640;b.nonLinearAdSlotHeight=150;this.getAdsLoader().requestAds(b)},
_adManagerLoaded:function(a){this._adsManager=a.getAdsManager(this._tempVideoItem);this.getAdsManager().addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.bindMember("_adErrored"));this.getAdsManager().addEventListener(google.ima.AdEvent.Type.LOADED,this.bindMember("_adLoaded"));this.getAdsManager().addEventListener(google.ima.AdEvent.Type.STARTED,this.bindMember("_adStarted"));this.getAdsManager().addEventListener(google.ima.AdEvent.Type.COMPLETE,this.bindMember("_adCompleted"));c.call(this);
this.getAdsManager().init(this.getSize().width,this.getSize().height,google.ima.ViewMode.NORMAL);this.enableVolume(!1)},_adStarted:function(){this.$super();this._adsManager.start();this.enableVolume(!1)},_adLoaded:function(){this.$super();this._adsManager.start()}}}());a.Waterfall=a.Waterfall||a.AdComponentAbstract.extend(function(){return{construct:function(a){this.$super();this._name=a||"Untitled waterfall";this._steps=[];this._rules=[];this._currentStep=0},addRule:function(a,b,d){this._rules.push({name:a,
value:b,exclusive:d});return this},addStep:function(c,b,d,e){e=a.tools.isset(e)?e.toLowerCase():"appnexus";var f=this.getStepTemplate();f.network=c.toLowerCase();f.proportions=d;f.provider=e;f.zone=b;this._steps.push(f);return this},addStepData:function(c){this._steps.push(a.tools.mergeDefaults(this.getStepTemplate(),c));return this},containsNetwork:function(a){a=a.toLowerCase();for(var b=this.getSteps(),d=0,e=b.length;d<e;d+=1)if(b[d].network.toLowerCase()===a)return!0;return!1},getCurrentStep:function(){var a=
this.getCurrentStepIndex(),b=this.getSteps();return a<b.length?b[a]:!1},getCurrentStepIndex:function(){return this._currentStep},getRules:function(){return this._rules},getSteps:function(){return this._steps},getStepTemplate:function(){return{advertiserID:"",network:"",proportions:{width:0,height:0},provider:"",zone:""}},step:function(){var a=this.getCurrentStepIndex()+1,b=this.getSteps();return a<b.length?(this._currentStep+=1,this.getCurrentStep()):!1}}}());a.AdElement=a.AdElement||a.AdComponentAbstract.extend(function(){return{construct:function(c){this.$super();
c=c||{};this._options=a.tools.mergeDefaults({kioskID:"",refreshEnabled:!0},c);this.addStatus("loaded");this._loadedTimeout=this._scalingElement=this._applicator=null},applyInitialisation:function(){if(!a.tools.isset(this.getApplicator()))return Promise.resolve();if(!a.tools.isset(this.getScalingElement()))throw new k("No scaling element set for AdElement");var c=this.getApplicator()(),b=this;this._applicator=null;this._loadedTimeout=setTimeout(function(){b.isNot("loaded")&&(a.tools.debug.warn("/AdElement/",
"Never received load event from ad"),b.publish("neverLoaded"))},1E4);return c},bundleApplicator:function(a){var b=this.getApplicator();this._applicator=function(){a();return b()}},destroy:function(){a.tools.dom.destroy(this.getScalingElement());this._applicator=this._scalingElement=null;clearTimeout(this._loadedTimeout);this.$super()},getApplicator:function(){return this._applicator},getOptions:function(){return this._options},getScalingElement:function(){return this._scalingElement},removeScaling:function(){var a=
this.getScalingElement();a.style.WebkitTransform="none";a.style.MozTransform="none";a.style.msTransform="none";a.style.OTransform="none";a.style.transform="none"},scaleElement:function(a,b){var d=this.getScalingElement();d.style.setProperty("width",a.width+"px","important");d.style.setProperty("height",a.height+"px","important");d.style.WebkitTransform="scale("+b+")";d.style.MozTransform="scale("+b+")";d.style.msTransform="scale("+b+")";d.style.OTransform="scale("+b+")";d.style.transform="scale("+
b+")"},setApplicator:function(a){this._applicator=a},setScalingElement:function(c){this._scalingElement=c;this._scalingElement.style.zIndex=a.Config.BANNER_AD_Z_INDEX},waitForLoad:function(){var a=this;return new Promise(function(b,d){var e=setInterval(function(){a?a.is("loaded")&&(clearInterval(e),b()):(clearInterval(e),d())},100)})}}}());a.AdElementDFP=a.AdElementDFP||a.AdElement.extend(function(){var a=0;return{construct:function(){this.$super();var b=a;a+=1;this._dfpIndex=b},getDFPIndex:function(){return this._dfpIndex}}}());
a.AdElementTP=a.AdElementTP||a.AdElement.extend(function(){return{construct:function(c){var b=this;b._metaLoaded=!1;b.tagId="";this.$super(a.tools.mergeDefaults({refreshEnabled:!1},c));a.messaging.addListener("TPVideoEvent",function(a){a.zoneId===b.getOptions().kioskID&&("METADATAREADY"===a.eventType||"VPAIDLOADING"===a.eventType?(b._metaLoaded=!0,b.tagId=a.tagId):"COMPLETED"===a.eventType&&b.publish("adCompleted"))})},destroy:function(){this.isMuted(this.tagId)||this.muteSound(this.tagId);this.$super()},
isMuted:function(a){return window.tpr_player_objs[a].isMuted()},muteSound:function(a){window.tpr_player_objs[a].toggleMute()},playPauseTPVideo:function(a){window.tpr_player_objs[a].togglePlayPause()}}}());a.MessageHandlers.MessageHandlerAbstract=a.MessageHandlers.MessageHandlerAbstract||a.KioskedObject.extend(function(){return{construct:function(a){this.$super();this._options=n.mergeDefaults({name:"MessageHandlerAbstract"},a||{})},canHandleMessage:function(a){return!1},captures:function(){return!1},
getOptions:function(){return this._options},handleMessage:function(a){}}}());a.MessageHandlers.AppNexusMessageHandler=a.MessageHandlers.AppNexusMessageHandler||a.MessageHandlers.MessageHandlerAbstract.extend(function(){function c(b){return a.tools.scope.hasOwnProperties(b,["data","origin","source"],function(a,b){return a[b]&&!0})}return{construct:function(a){this.$super();this._options=n.mergeDefaults({name:"AppNexusMessageHandler",messageSource:null},a||{})},canHandleMessage:function(a){return c(a)&&
"string"===typeof a.data?!0===/^kskd_window_message:\{(.*)+$/.test(a.data):!1},handleMessage:function(a){var c=a.data,c=c.replace("kskd_window_message:",""),e=!1;try{e=JSON.parse(c)}catch(f){n.debug.warn("/AppNexusMessageHandler/","Received bad message:",f,a)}!1!==e&&this.processMessageObject(e)},processMessageObject:function(b){var c=this.getOptions();b.hasOwnProperty("name")?"ping"===b.name?c.messageSource instanceof a.MessageSources.FrameMessageSource&&c.messageSource.sendMessage({name:"ping_response"}):
"fallback_list"===b.name?a.messaging.publish("appNexusFallbacksReceived",{zones:b.appnexus_fallback_list||[],frame_urls:b.window_chain||[]},!1):"fallback_initiated"===b.name?(c={fallback:!0,frame_urls:b.window_chain||[]},b.dfpFrame&&(c.dfpFrame=b.dfpFrame),a.messaging.publish("appNexusFallbackInitiated",c)):"kiosked_ad_expand"===b.name&&a.messaging.dispatch("kiosked_ad_expand",b):n.debug.error("No name for event:",b)}}}());a.MessageHandlers.FallbackMessageHandler=a.MessageHandlers.FallbackMessageHandler||
a.MessageHandlers.MessageHandlerAbstract.extend(function(){function c(b){return a.tools.scope.hasOwnProperties(b,["data","origin","source"],function(a,b){return a[b]&&!0})}return{construct:function(a){this.$super();this._options=n.mergeDefaults({name:"FallbackMessageHandler",messageSource:null},a||{})},canHandleMessage:function(a){return c(a)&&"string"===typeof a.data?!0===/^kiosked_window_message:\{(.*)+$/.test(a.data):!1},handleMessage:function(b){var c=b.data,c=c.replace("kiosked_window_message:",
""),e=!1;try{e=JSON.parse(c)}catch(f){a.tools.debug.warn("/FallbackMessageHandler/","Received bad message:",f,b)}!1!==e&&this.processMessageObject(e)},processMessageObject:function(b){if(b.hasOwnProperty("name")){var c=b.containerID||"";"fallback_list"===b.name?a.messaging.publish("networkFallbacksReceived",{zones:b.fallback_list||[],frame_urls:b.window_chain||[],container_id:c},!1):"fallback_initiated"===b.name?(c={fallback:!0,frame_urls:b.window_chain||[],container_id:c},b.dfpFrame&&(c.dfpFrame=
b.dfpFrame),a.messaging.publish("networkFallbackInitiated",c)):"kiosked_ad_expand"===b.name&&a.messaging.dispatch("kiosked_ad_expand",b)}else n.debug.error("No name for event:",b)}}}());a.MessageSources.MessageSourceAbstract=a.MessageSources.MessageSourceAbstract||a.KioskedObject.extend(function(){return{construct:function(a){this.$super();this._options=n.mergeDefaults({name:"MessageSourceAbstract"},a||{})},canReceiveMessage:function(){return!1},getOptions:function(){return this._options},sendMessage:function(){return!1}}}());
a.MessageSources.FrameMessageSource=a.MessageSources.FrameMessageSource||a.MessageSources.MessageSourceAbstract.extend(function(){return{construct:function(a){this.$super(n.mergeDefaults({name:"FrameMessageSource",sourceFrame:null},a||{}))},canReceiveMessage:function(){var a=this.getOptions();return null!==a.sourceFrame&&"function"===typeof a.sourceFrame.postMessage},sendMessage:function(a){var b=!1;try{var d=JSON.stringify(a);d&&(this.getOptions().sourceFrame.postMessage(d,"*"),b=!0)}catch(e){n.debug.error("/FrameMessageSource/",
"Failed sending message",a,e)}return b}}}());a.QuantcastManager=a.QuantcastManager||a.KioskedObject.extend(function(){return{construct:function(c){this.$super();c=c||{};this._options=a.tools.mergeDefaults({name:"QuantcastManager",publisherID:"",siteID:""},c);this.addStatus("setupQuantcast")},boot:function(){if(this.hasNot("setupQuantcast")){n.scope.enforceCaller(this,a.QuantcastManager,"Expected caller to be instance of QuantcastManager");var c=this.getOptions();this.set("setupQuantcast");try{this._initiateQuantcastScript(),
this._pushEvent(c.publisherID,c.siteID),a.tools.debug.log("/QuantcastManager/","Quantcast booted publisher "+c.publisherID+" and site "+c.siteID)}catch(b){a.tools.debug.error("/QuantcastManager/","Failed setting up Quantcast: "+b.message)}}},getOptions:function(){return this._options},_initiateQuantcastScript:function(a){a=a||function(a){var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)};window._qevents=window._qevents||[];var b=document.createElement("script");b.src=
("https:"===document.location.protocol?"https://secure":"http://edge")+".quantserve.com/quant.js";b.async=!0;b.type="text/javascript";a(b);return b},_pushEvent:function(a,b){window._qevents.push({qacct:"p-ynz_3dxL9ZLvx",labels:"publisher."+a+",site."+b})}}}());a.TextOnlySniff=a.TextOnlySniff||a.KioskedObject.extend(function(){return{construct:function(c){this.$super(c);this._query=null;this._elementCount=0;c.hasOwnProperty("query")&&(this._query=c.query);this._mediaSettings=c.hasOwnProperty("mediaSettings")?
c.mediaSettings:new a.SettingsOBC({});this._previousLocation=this._currentLocation=n.getWindowLocationPath();this._totalTargeted={banners:{}};this._createdElements=[]},analyseParagraphsToSniff:function(c){var b=this.getMediaSettings().getInt("ui.sniff.paragraphSniffNthElement",8),d=1,e=this.getMediaSettings().get("ui.sniff.paragraphSniffSize","300x250");if(0<=c.indexOf(",")){c=c.split(",");for(var f=0;f<c.length;f+=1)c[f]+=" p";c=c.join(",")}else c+=" p";var g=a.tools.dom.query(c),h=g.length;c=[];
f=[];if(0<h){for(var l=0;l<h;l+=1)if(d>=b){var q=a.tools.dom.nodeIdentifier(g[l]),k=q.nextElementOfType(HTMLElement),q=q.previousElementOfType(HTMLElement);k instanceof HTMLParagraphElement&&q instanceof HTMLParagraphElement&&(f.push({element:g[l],sibling:k}),d=1)}else d+=1;b=f.length;if(0<b)for(d=0;d<b;d+=1)g=document.createElement("div"),g.className="kskdInlineZone",g.setAttribute("zonesize",e),g.setAttribute("ind",this._elementCount.toString()),g.style.height="1px",c.push(g),f[d].element.parentNode.insertBefore(g,
f[d].sibling),this._elementCount+=1}return c},destroy:function(){if(this._createdElements){var a=this._createdElements.length;if(0<a)for(var b=0;b<a;b+=1)n.dom.destroy(this._createdElements[b])}this.$super()},getMediaSettings:function(){return this._mediaSettings},start:function(){var c=this;a.tools.dom.onDOMReady(function(){try{c._createdElements=c.analyseParagraphsToSniff(c._query)}catch(b){throw new a.Exceptions.UnexpectedException("Failed analysing paragraphs with query: "+c._query,c,{query:c._query});
}})}}}());a.Sniffing.SettingsLayoutAdapter=a.Sniffing.SettingsLayoutAdapter||a.KioskedObject.extend(function(){return{construct:function(a){this.$super();this._originalSettings=a},getSettingsInNewLayout:function(){for(var c=[],b=this._originalSettings.length,d={},e=[],f=0;f<b;f+=1){var g=this._originalSettings[f];a.tools.isset(g.target)&&0<g.target.length?(d.hasOwnProperty(g.target)||(d[g.target]=[]),d[g.target].push(g)):e.push(g)}b=e.length;if(0<b){f={conditionId:null,cssSelector:null,properties:[]};
for(g=0;g<b;g+=1)f.properties.push({key:e[g].key,value:e[g].value});c.push(f)}for(var h in d)if(d.hasOwnProperty(h)){e={conditionId:null,cssSelector:h,properties:[]};b=d[h].length;for(f=0;f<b;f+=1)e.properties.push({key:d[h][f].key,value:d[h][f].value});c.push(e)}return c}}}());a.Sniffing.SnifferController=a.Sniffing.SnifferController||a.KioskedObject.extend(function(){function c(b){n.scope.enforceCaller(this,a.Sniffing.SnifferController,"Expected caller to be instance of SnifferController");var c=
this,d=b.context.getSettings().clone();b={anchorType:a.AnchorTypeResolver.resolveAnchorTypeForSettings(d),categories:b.categories,kioskedZoneID:b.hash,settings:d,settingsMeta:this.getOptions().settingsData.meta,targetElement:b.element,publisherID:this.getPageProperties().publisherID,siteID:this.getPageProperties().siteID};a.Factories.PlacementContainerFactory.createPlacementContainerWithOptions(b).then(function(b){c.unfilteredContainers+=1;a.createWithMedia(b);a.tools.debug.log("/SnifferController/",
"Created placement")},function(b){a.tools.debug.warn("/SnifferController/","Placement was not created: "+b)})}function b(){n.scope.enforceCaller(this,a.Sniffing.SnifferController,"Expected caller to be instance of SnifferController");var b=this.getSettings(),c=b.get("ui.sniff.paragraphSniff",!1);!1===c||this._paragraphSniffer||(this._paragraphSniffer=new a.TextOnlySniff({mediaSettings:b,query:c}),this._paragraphSniffer.start())}function d(b,c){n.scope.enforceCaller(this,a.Sniffing.SnifferController,
"Expected caller to be instance of SnifferController");var d=c.getInt("ui.sniff.maxBanners",50),e=this.getActivatedElements().length,f=d-e,e=b.length;if(0>=f){for(d=0;d<e;d+=1)this.setReservedElementByZoneID(b[d].hash,!0);return[]}var g=function(a){return a.width&&a.height?a.width*a.height:parseFloat(a.element.offsetWidth)*parseFloat(a.element.offsetHeight)};b=b.sort(function(a,b){var c=g(a),d=g(b);return c<d?1:d<c?-1:0});b=this.getReservedElements().concat(b);e=b.length;if(e>f)for(d=b.splice(f,e),
e-=f,f=0;f<e;f+=1)this.setReservedElementByZoneID(d[f].hash,!0);return b}function e(){n.scope.enforceCaller(this,a.Sniffing.SnifferController,"Expected caller to be instance of SnifferController");var c=this;if(this.isNot("running"))this.set("idle");else{this.set("sniffing");var f=a.Commitment.startWith([]);this.getRootSearchNode().forEachNode(function(b){f=f.then(function(d){var e=this,f=[].concat(d);d=new a.Sniffing.SnifferConveyor(c,b);d.retrieveItems().then(function(a){f=f.concat(a);e.resolve(f)});
d.destroy()})});var g=this.getSettings(),f=f.then(function(a){a=d.call(c,a,g);a.forEach(function(a){c.setReservedElementByZoneID(a.hash,!1);c.setActivatedElementByZoneID(a.hash,!0)});c.getElementQueue().addItems(a);this.resolve()}).then(function(){b.call(c);this.resolve()}).done(function(){c.unset("sniffing");setTimeout(function(){e.call(c)},a.Config.SNIFFER_INTERVAL)})}}function f(){n.scope.enforceCaller(this,a.Sniffing.SnifferController,"Expected caller to be instance of SnifferController");var b=
this;a.messaging.addListener("mediaPageImpression",function(){var c=b.getQuantcastManager();a.tools.isset(c)&&c.boot()});a.messaging.addListener("bannerProviderNotInitiated",function(b){a.snifferController.setActivatedElementByZoneID(b.placementID,!1)});a.messaging.addListener("maxPluginsExceeded",function(b){a.snifferController.setActivatedElementByZoneID(b.placementID,!1)});a.messaging.addListener("BannerDestroyedForSizeRestriction",function(b){a.snifferController.setActivatedElementByZoneID(b.placementID,
!1)});a.messaging.addListener("incorrectPluginName",function(b){a.snifferController.setActivatedElementByZoneID(b.placementID,!1)})}function g(){n.scope.enforceCaller(this,a.Sniffing.SnifferController,"Expected caller to be instance of SnifferController");a.storage&&!0===this.getSettings().getBool("ui.analytics.sendTimingData",!1)&&(a.storage.localSite.getItem("timingEventReport",function(b,c){if("string"===typeof c){var d=a.tools.environment.getAnalyticsConsumerData();d.records=JSON.parse(c);d[a.Config.ANALYTICS_EVENT_NAME_PROPERTY]=
"pageTimings";a.messaging.dispatch(a.Config.ANALYTICS_EVENT_NAME,d);a.storage.localSite.removeItem("timingEventReport")}}),a.unloadManager.registerShutdownHandler(function(){a.messaging.dispatch("timingEvent",{name:"unload"});var b=a.messaging.getTimingController().getTimingEvents();a.storage.localSite.setItem("timingEventReport",JSON.stringify(b))},a.UnloadManager.PRIORITY_HIGH))}var h=[{name:"BannerSlot"}];return{construct:function(b){this.$super();b=b||{};this._options=n.mergeDefaults({elementHashAttribute:"kioskedhash_"+
a.tools.environment.getContext(),endPoint:"",environment:"development",settingsData:{}},b);b.settingsData&&b.settingsData.settings&&this.processSettingsModifications(b.settingsData.settings);this._markedElements=[];this._rootContext=this._pageType=this._settings=null;this._pageProperties={publisherID:b.hasOwnProperty("publisherId")?parseInt(b.publisherId,10):null,siteID:b.hasOwnProperty("siteId")?parseInt(b.siteId,10):null};this.addStatusSet(["idle","running","stopping"],"idle");this.addStatus("sniffing");
n.scope.enforceCaller(this,a.Sniffing.SnifferController,"Expected caller to be instance of SnifferController");if(!a.tools.isset(this._pageProperties.publisherID)||0>=this._pageProperties.publisherID)throw Error("Invalid/unset publisher ID: "+this._pageProperties.publisherID);if(!a.tools.isset(this._pageProperties.siteID)||0>=this._pageProperties.siteID)throw Error("Invalid/unset site ID: "+this._pageProperties.siteID);n.scope.enforceCaller(this,a.Sniffing.SnifferController,"Expected caller to be instance of SnifferController");
b=new a.Sniffing.SearchContextsAdapter(this._options.settingsData);this._rootContext=b.getRootContext();this._settings=b.getBaseSettingsContext().getSettings();b.destroy();b=this.getOptions();this._rootSearchNode=(new a.Sniffing.SearchNodeFactory(this._rootContext,{hashAttribute:b.elementHashAttribute})).getRootNode();n.scope.enforceCaller(this,a.Sniffing.SnifferController,"Expected caller to be instance of SnifferController");var c=this.getSettings();b=a.InstanceControlManager.getSharedInstance();
var d=c.getInt("ui.media.maxPlugins.BannerSlot",0),e=c.getInt("ui.media.maxPlugins.ExternalBannerSlot",0),h=c.getInt("ui.media.maxPlugins.FloorBannerSlot",0),c=c.getInt("ui.media.maxPlugins.VastPreroll",0);b.applyLimit(a.InstanceControlManager.InstanceType.Anchor,a.Config.PLACEMENT_ANCHOR_TYPE.BOX,d);b.applyLimit(a.InstanceControlManager.InstanceType.Anchor,a.Config.PLACEMENT_ANCHOR_TYPE.STUB,e);b.applyLimit(a.InstanceControlManager.InstanceType.Anchor,a.Config.PLACEMENT_ANCHOR_TYPE.LAUNCHPAD,h);
b.applyLimit(a.InstanceControlManager.InstanceType.AdFill,"AdFillVast",c);this._elementQueue=new a.Sniffing.ElementQueue(this,{publisherID:this._pageProperties.publisherID,siteID:this._pageProperties.siteID,zoneDataURL:this._options.endPoint,cachedZones:this.getOptions().cachedZoneResponse&&this.getOptions().cachedZoneResponse.hasOwnProperty("results")?this.getOptions().cachedZoneResponse.results:[]});a.SnifferUtilities.processDOMModifications(this);a.styling.placeHeaderStylesheet(a.stylesheets.images,
"images");this._quantcastManager=null;!0===this.getSettings().getBool("ui.sniff.quantcastEnabled",!1)&&(this._quantcastManager=new a.QuantcastManager({publisherID:this.getPageProperties().publisherID,siteID:this.getPageProperties().siteID}));this.unfilteredContainers=this.unfilteredContainers||0;f.call(this);g.call(this)},destroy:function(){var a=this,b=this.bindMember("$super");return this.stop().then(function(){a._paragraphSniffer&&a._paragraphSniffer.destroy();a.getElementQueue().destroy();a.getRootSearchNode().destroy();
a.unMarkAllElements();b()})},addMarkedItem:function(a){this._markedElements.push(a)},deactivateItemByZoneID:function(a){this.setActivatedElementByZoneID(a,!1);this.setReservedElementByZoneID(a,!1)},getActivatedElements:function(){for(var a=[],b=this.getMarkedElements(),c=b.length,d=0;d<c;d+=1)b[d].activated&&!0===b[d].activated&&a.push(b[d]);return a},getCategories:function(b){var c,d,e,f={};if(!a.tools.isset(b))return f;for(var g=0;g<b.length;g+=1){c=b[g].type;d=n.mergeDefaults({},b[g].result);d.items||
(d.items=[]);if(d)if(d.state&&"error"===d.state)continue;else if(!d.state||"ok"!==d.state)continue;if(n.isset(d))if("focus100k"===c){c=d.items;d=Math.min(3,c.length);var h=[];for(e=0;e<d;e+=1)h.push(c[e]);f.focus100k=h}else if("iabtier2"===c){c=d.items;d=Math.min(2,c.length);h=[];for(e=0;e<d;e+=1)h.push(c[e]);f.iabtier2=h}else if("iabtier1"===c){c=d.items;d=Math.min(2,c.length);h=[];for(e=0;e<d;e+=1)h.push(c[e]);f.iabtier1=h}}return f},getUnfilteredContainers:function(){return this.unfilteredContainers},
getElementQueue:function(){return this._elementQueue},getItemByZoneID:function(a){for(var b=this.getMarkedElements(),c=b.length,d=0;d<c;d+=1)if(b[d].hash===a)return b[d];return null},getMarkedElements:function(){return this._markedElements},getOptions:function(){return this._options},getPageProperties:function(){return this._pageProperties},getPageType:function(){return!1===this.getSettings().getBool("ui.sniff.disableIndexPageAnalysis",!1)?this._pageType=this._pageType||a.SnifferUtilities.getPageType():
"article"},getQuantcastManager:function(){return this._quantcastManager},getReservedElements:function(){for(var a=[],b=this.getMarkedElements(),c=b.length,d=0;d<c;d+=1)b[d].reserved&&!0===b[d].reserved&&a.push(b[d]);return a},getRootSearchNode:function(){return this._rootSearchNode},getSettings:function(){return this._settings},getSettingsMetaAbTesting:function(){var a=-1,b=0,c=this.getOptions();c.hasOwnProperty("settingsMeta")&&(a=c.settingsMeta.hasOwnProperty("appliedAbTestStatus")?c.settingsMeta.appliedAbTestStatus:
a,b=c.settingsMeta.hasOwnProperty("appliedAbTest")?c.settingsMeta.appliedAbTest:b);return{status:a,test:b}},getUniqueNodeIndex:function(b){var c=[],d=this.getMarkedElements(),e=d.length;if(0<e){if(b instanceof HTMLImageElement)for(var f=0;f<e;f+=1){var g;g=d[f].element;g=b===g?!0:b.src&&g.src&&b.src===g.src;g&&c.push(d[f].element)}else for(f=a.SnifferUtilities.elementAsString(b),g=0;g<e;g+=1)f===a.SnifferUtilities.elementAsString(d[g].element)&&c.push(d[g].element);return c.push(b)-1}return 0},isLargeEnough:function(a){var b=
a.context.getSettings();return a.width>=b.getInt("ui.sniff.minMediaWidth",300)&&a.height>=b.getInt("ui.sniff.minMediaHeight",250)},isPermittedBySettings:function(b){var c=!0,d=b.element;if((b=b.context.getSettings().get("ui.sniff.disableKiosksInElements",!1))&&(b=a.tools.dom.query(b))&&0<b.length)for(var e=0;e<b.length;e+=1){var f=b[e];if(d===f||a.tools.dom.isDescendant(f,d)){c=!1;break}}return c},loadItemWithData:function(b,d){if(a.tools.isEmpty(d))a.tools.debug.log("/SnifferController/","Unable to load item, no categories data (possibly blacklisted): "+
b);else{for(var e=!1,f=this.getActivatedElements(),g=f.length,k=0;k<g;k+=1)if(f[k].hash===b){e=f[k];break}if(!1!==e){e.categories=this.getCategories(d);e.plugins=this.processPluginsForSettings(h,e.context.getSettings());try{c.call(this,e)}catch(m){throw a.tools.debug.warn("/SnifferController/","Failed creating placement"),m;}}else a.tools.debug.error("/SnifferController/","Unable to find media item for zone:",b)}},markElementAsProcessed:function(b){if(!(b instanceof HTMLElement))throw Error("Invalid element: not a HTMLElement");
var c=this.getUniqueNodeIndex(b),c=a.SnifferUtilities.createElementHash(b,c,this._pageProperties.publisherID);b.setAttribute(this.getOptions().elementHashAttribute,c);return c},processPluginsForSettings:function(b,c){return a.tools.processPluginsArray(a.tools.deepClone(b),c)},processSettingsModifications:function(a){a.push({conditionId:null,cssSelector:"#kskdFooter",properties:[{key:"ui.media.overridePlugins",value:"FloorBannerSlot"},{key:"ui.sniff.selectionMode",value:"select"}]});a.push({conditionId:null,
cssSelector:".kskdInlineZone",properties:[{key:"ui.sniff.selectionMode",value:"select"}]})},setActivatedElementByZoneID:function(a,b){this.getItemByZoneID(a).activated=b},setReservedElementByZoneID:function(a,b){this.getItemByZoneID(a).reserved=b},start:function(){return this.is("idle")?(this.set("running"),e.call(this),!0):!1},stop:function(){var a=this;return new Promise(function(b){if(a.is("running")){a.set("stopping");var c=setInterval(function(){a.is("idle")&&(clearInterval(c),b(!0))},80)}else b(!1)})},
unMarkAllElements:function(){for(var b=this.getOptions().elementHashAttribute,c=a.tools.dom.query("["+b+"]"),d=c.length,e=0;e<d;e+=1)c[e].removeAttribute(b);return d},unsniffItemWithZoneID:function(b){var c=this.getItemByZoneID(b),d=this._markedElements.indexOf(c),e=this.getOptions().elementHashAttribute;if(a.tools.isset(c)&&0<=d)this._markedElements.splice(d,1),c.element.removeAttribute(e);else throw Error("Unable to un-sniff item: doesn't exist ("+b+")");},wasSelectedAsCustom:function(b){return b.selectionMode===
a.Config.ELEMENT_SELECTION_MODE.CUSTOM}}}());a.Sniffing.ElementQueue=a.Sniffing.ElementQueue||a.KioskedObject.extend(function(){function c(b){n.scope.enforceCaller(this,a.Sniffing.ElementQueue,"Expected caller to be instance of ElementQueue");var c=this.getSniffer(),d=c.getSettings(),c=c.getPageProperties(),h=b.length;a.tools.debug.log("/SnifferElementQueue/","Will analyse "+h+" items");var l=d.get("ui.sniff.analyzer","GeneralAnalyzer");0<h&&(this.analyzer=this.analyzer||new a.Analyzers[l]({settings:d}),
this.analyzer.getPageAnalysis()||this.analyzer.analyzePage(b,c.siteID,c.publisherID),this.analyzer.analyzeZones(b),this.analyzer.sendAnalysis(!0))}function b(){n.scope.enforceCaller(this,a.Sniffing.ElementQueue,"Expected caller to be instance of ElementQueue");var b=this;if(this.isNot("started"))return a.tools.debug.warn("/ElementQueue/","Not flushing: queue not started"),!1;var c=this.getQueue(),d=c;20<c.length?(d=c.splice(0,20),this.setQueue(c)):this.setQueue([]);c=d.length;if(0>=c)return!1;for(var h=
0;h<c;h+=1)d[h]={id:d[h].hash,responseTypes:["categories"]};d=this.prepareJSONPayload(d);a.tools.communication.sendRequest({destination:"//"+this.getOptions().zoneDataURL,method:"POST",errorCallback:function(){throw Error("Failed sending zone data request");},data:{json:JSON.stringify(d)},callback:function(c){var d=!1;try{d=JSON.parse(c)}catch(f){throw a.tools.debug.warn("/ElementQueue/","Failed decoding invalid JSON response"),f;}d&&b.processItemsResponse(d)}});this.set("sentFirstZonesRequest");
return!0}function d(){n.scope.enforceCaller(this,a.Sniffing.ElementQueue,"Expected caller to be instance of ElementQueue");var c=this;this._timer=setTimeout(function(){if(!c.isNot("started")){b.call(c);try{d.call(c)}catch(f){a.tools.debug.error("/ElementQueue/","Failed restarting queue timer")}}},a.Config.SNIFFER_ELEMENT_QUEUE_DELAY)}return{construct:function(b,c){this.$super();c=c||{};this._options=n.mergeDefaults({name:"ElementQueue",cachedZones:[],publisherID:null,siteID:null},c);this._sniffer=
b;this._queue=[];this.addStatusSet(["started","stopped"],"started");this.addStatus("usedCachedZoneData");this.addStatus("sentFirstZonesRequest");this.addStatus("zoneCacheEnabled");this.addStatus("zoneDataRequestEnabled");!0===this.getSniffer().getSettings().getBool("ui.sniff.sendZoneDataRequests",!0)&&this.set("zoneDataRequestEnabled");!0===a.Config.CACHE.ZONE_RESPONSE&&this.set("zoneCacheEnabled");this._timer=null;d.call(this)},addItems:function(b){a.tools.array.isArray(b)||(b=[b]);if(this.isNot("zoneDataRequestEnabled")){var c=
b;n.scope.enforceCaller(this,a.Sniffing.ElementQueue,"Expected caller to be instance of ElementQueue");for(var d=[],h=c.length,l=0;l<h;l+=1){var k=c[l];k.zoneId=k.hash;k.categories=[{type:"cache",result:{state:"ok",meta:"Cached item"}}];d.push(k)}this.getOptions().cachedZones=this.getOptions().cachedZones.concat(d)}this._queue=this._queue.concat(b);n.scope.enforceCaller(this,a.Sniffing.ElementQueue,"Expected caller to be instance of ElementQueue");b=this.getOptions().cachedZones;d=this.has("zoneCacheEnabled")||
this.hasNot("zoneDataRequestEnabled");c=this.getQueue();if(b&&d){for(var d=c.length,h=[],l=b.length,m=k=0;m<d;m+=1){for(var p=!1,t=0;t<l;t+=1)b[t].zoneId===c[m].hash&&(p=!0,this.set("usedCachedZoneData"),this.processItemsResponse({results:[b[t]]}),k+=1);p||h.push(c[m])}0<k&&a.tools.debug.log("/SnifferElementQueue/","Loaded "+k+" cached zones");this.setQueue(h)}},destroy:function(){this._timer&&clearTimeout(this._timer);this._options=null;this.set("stopped");this.$super()},flush:function(){b.call(this)},
getOptions:function(){return this._options},getQueue:function(){return this._queue},getSniffer:function(){return this._sniffer},prepareJSONPayload:function(b){var c=this.hasNot("sentFirstZonesRequest")&&this.hasNot("usedCachedZoneData"),d=this.getOptions();return{zones:b,pub:d.publisherID,site:d.siteID,pageUrl:a.SnifferUtilities.processPageURL(a.tools.environment.getPageUrl()),pageType:this.getSniffer().getPageType(),firstRequest:c}},processItemsResponse:function(b){if(b){var d=this.getSniffer();
if(b.results){for(var g=b.results,h=g.length,l=a.Commitment.then(),k=0;k<h;k+=1)(function(a){l=l.then(function(){d.loadItemWithData(a.zoneId,a.categories);this.resolve()})})(g[k]);l.fail(function(b){a.tools.debug.warn("/ElementQueue/","Failed loading some item responses");throw b;})}if(b.zonesToAnalyze){g=b.zonesToAnalyze.length;h=[];for(k=0;k<g;k+=1){var m=b.zonesToAnalyze[k].zoneId,n=d.getItemByZoneID(m);n?(b.zonesToAnalyze[k].img=n.element,h.push(b.zonesToAnalyze[k])):a.tools.debug.warn("/SnifferElementQueue/",
"Failed finding sniffed data for zone: ",m)}0<h.length&&c.call(this,h)}}},setQueue:function(a){this._queue=a}}}());a.Sniffing.SearchContext=a.Sniffing.SearchContext||a.KioskedObject.extend(function(){return{construct:function(c){this.$super();c=c||{};this._options=n.mergeDefaults({name:"SearchContext",contextSelector:"body",parentContextElement:null,settings:[]},c);this._childContexts=[];this.addStatus("processedContextElements");n.scope.enforceCaller(this,a.Sniffing.SearchContext,"Expected caller to be instance of SearchContext");
var b=this.getOptions();c=new a.SettingsOBC({});a.tools.isset(b.parentContextElement)&&(c=b.parentContextElement.getSettings().clone());for(var b=b.settings,d={},e=b.length,f=0;f<e;f+=1)d[b[f].key]=b[f].value;c.mergeSettings(d);this._settings=c;this.set("enabled");this.detectStatus()},destroy:function(){this.$super()},addChildContext:function(a){this._childContexts.push(a)},detectStatus:function(){this.getSettings().getBool("ui.enabled",!0)?this.set("enabled"):this.unset("enabled");return this},getChildContexts:function(){return this._childContexts},
getChildContextSelectors:function(){for(var a=[],b=this.getChildContexts(),d=b.length,e=0;e<d;e+=1)a=a.concat(b[e].getContextSelectors());return a},getContextSelectors:function(){for(var c=this.getOptions().contextSelector.split(","),b=c.length,d=0;d<b;d+=1)c[d]=a.tools.trim(c[d]);return c},getOptions:function(){return this._options},getSettings:function(){return this._settings},toString:function(){for(var a=this.getOptions(),b=this.getSettings(),d=this.getChildContexts(),e=d.length,f=[],g=0;g<e;g+=
1)f.push(d[g].toString());return JSON.stringify({contextSelector:a.contextSelector,contextEnabled:a.contextEnabled,settings:b.getSettingsObject(),children:"--children--"}).replace('"--children--"',"["+f.join(",")+"]")}}}());a.Sniffing.SearchContextsAdapter=a.Sniffing.SearchContextsAdapter||a.KioskedObject.extend(function(){function c(b,d){n.scope.enforceCaller(this,a.Sniffing.SearchContextsAdapter,"Expected caller to be instance of SearchContextsAdapter");b=this.filterDuplicateSettings(b);for(var e=
b.length,f=0,g=0;g<e;g+=1){var h=b[g],l=a.tools.isset(h.cssSelector)?h.cssSelector:"",k="";if(0<l.length){for(var k=d.getContextSelectors(),m=k.length,p=[],l=l.split(","),t=l.length,v=0;v<m;v+=1)for(var s=0;s<t;s+=1)p.push(k[v]+" "+l[s]);k=p.join(", ")}k=new a.Sniffing.SearchContext({contextSelector:a.tools.trim(k),parentContextElement:d,settings:h.properties||[]});h.hasOwnProperty("childConditions")&&(f+=c.call(this,h.childConditions,k));d.addChildContext(k);f+=1}return f}return{construct:function(b){this.$super();
b=b||{};this._rootContext=new a.Sniffing.SearchContext({name:"SearchContextMaster",contextSelector:"",contextEnabled:!0,parentContextElement:null});this._baseSettingsContext=null;this._rawSettings=b;this._rawSettings.settings=this._rawSettings.settings||[];b=this._rawSettings;var d=this._rawSettings.settings,e=this._rootContext;n.scope.enforceCaller(this,a.Sniffing.SearchContextsAdapter,"Expected caller to be instance of SearchContextsAdapter");for(var f=[],g=d.length-1;0<=g;g-=1)0>=(a.tools.isset(d[g].cssSelector)?
d[g].cssSelector:"").length&&(f=f.concat(d[g].properties),d.splice(g,1));this._baseSettingsContext=new a.Sniffing.SearchContext({contextSelector:"",contextEnabled:!0,parentContextElement:e,settings:f});e.getSettings().mergeSettings(this._baseSettingsContext.getSettings(),!1);e.detectStatus();b.settings=d;b=c.call(this,this._rawSettings.settings,this._rootContext);a.tools.debug.log("/SearchContextsAdapter/",""+(b+1)+" search contexts created")},destroy:function(){delete this._rawSettings;this.$super()},
filterDuplicateSettings:function(a){for(var c=[],e={},f=a.length,g=0;g<f;g+=1){var h=a[g],l=h.cssSelector&&0<h.cssSelector.length?h.cssSelector:"-";h.childConditions=h.childConditions||[];h.properties=h.properties||[];e.hasOwnProperty(l)?(e[l].childConditions=e[l].childConditions.concat(h.childConditions),e[l].properties=e[l].properties.concat(h.properties)):e[l]=h}for(var k in e)e.hasOwnProperty(k)&&c.push(e[k]);return c},getBaseSettingsContext:function(){return this._baseSettingsContext},getRootContext:function(){return this._rootContext}}}());
a.Sniffing.SearchNode=a.Sniffing.SearchNode||a.KioskedObject.extend(function(){return{construct:function(c,b){this.$super();b=b||{};this._options=n.mergeDefaults({name:"SearchNode",hashAttribute:"",root:!1},b);this._context=c;if(!this._context instanceof a.Sniffing.SearchContext)throw new a.Exceptions.InvalidTypeException("ITGS.Sniffing.SearchContext",typeof this._context,this);this._children=[];this._elementCount=0;var d=this.getContext().getSettings().get("ui.sniff.customElementSelector",!1);this._customSelectors=
d?d.split(","):[]},destroy:function(){try{this.getContext().destroy()}catch(a){}this.forEachChild(function(a){a.destroy()});this.$super()},addChild:function(c){if(!(c instanceof a.Sniffing.SearchNode))throw Error("Cannot add child search node: incorrect type or class");this._children.push(c)},applySelectorFilter:function(c){return c+=':not(*[class*="'+a.Config.SNIFFER_BLOCK_PARAM+'"] '+c+'):not(*[class*="'+a.Config.SNIFFER_BLOCK_PARAM+'"]):not(*[src*="'+a.Config.SNIFFER_BLOCK_PARAM+'"])'},filterItemByBlockedAttributes:function(a){a=
a.element;var b=this.getOptions();return a.hasAttribute(b.hashAttribute)?!1:!0},filterTemporarilyBlockedItem:function(c){c=c.element;var b=this.getItemsThatBlockSniffing(),d=b.length;if(0<d)for(var e=0;e<d;e+=1)if(b[e]===c||a.tools.dom.isDescendant(b[e],c))return!1;return!0},forEachChild:function(c){var b=this.getChildren(),d=b.length;if("function"!==typeof c)throw new a.Exceptions.InvalidTypeException("function",typeof c,this);for(var e=0;e<d;e+=1)c(b[e])},forEachNode:function(a){a(this);this.forEachChild(a)},
formQueryString:function(a,b){for(var d="",e=b.length,f=a.length,g=0;g<e;g+=1){for(var h=b[g],d=d+this.applySelectorFilter(h),l=0;l<f;l+=1)d+=":not("+a[l]+" "+h+")";g<e-1&&(d+=", ")}return d},getChildren:function(){return this._children},getContext:function(){return this._context},getCustomSelectors:function(){return this._customSelectors},getElementCount:function(){return this._elementCount},getItemsThatBlockSniffing:function(){var a=this.getContext().getSettings().get("ui.sniff.delayKiosksInElements",
!1);if(!1!==a){for(var a=a.split(","),b=[],d=0;d<a.length;d+=1)for(var e=n.dom.query(a[d]),f=e.length,g=0;g<f;g+=1)b.push(e[g]);return b}return[]},getOptions:function(){return this._options},getSelectionMode:function(){return this.getContext().getSettings().get("ui.sniff.selectionMode","search")},getSelectors:function(){return["img"]},isRoot:function(){return!0===this.getOptions().root},prepareChain:function(){var c=this.getContext().getContextSelectors(),b=this.getContext().getChildContextSelectors(),
d=this.getSelectors(),e=this.getCustomSelectors();return a.Commitment.startWith([],c,b,d,e)},wrapElement:function(c){return{element:c,node:this,context:this.getContext(),searchMode:a.Config.ELEMENT_SEARCH_MODE.SEARCH,selectionMode:a.Config.ELEMENT_SELECTION_MODE.NORMAL}},_incrementElementCount:function(a){return this._elementCount+=0<=a?a:1}}}());a.Sniffing.SearchNodeFactory=a.Sniffing.SearchNodeFactory||a.KioskedObject.extend(function(){function c(b,d){a.tools.scope.enforceCaller(this,a.Sniffing.SearchNodeFactory,
"Expected caller to be instance of SearchNodeFactory");var e=this.getOptions(),e=new a.Sniffing.SearchNode(b,{hashAttribute:e.hashAttribute,root:!1});d.addChild(e);var f=b.getChildContexts(),g=f.length;if(0<g)for(var h=0;h<g;h+=1)c.call(this,f[h],e)}return{construct:function(b,d){this.$super();d=d||{};this._options=a.tools.mergeDefaults({hashAttribute:""},d);this._rootContext=b;this._rootNode=null;a.tools.scope.enforceCaller(this,a.Sniffing.SearchNodeFactory,"Expected caller to be instance of SearchNodeFactory");
var e=this.getOptions();this._rootNode=new a.Sniffing.SearchNode(this._rootContext,{hashAttribute:e.hashAttribute,root:!0});for(var e=this._rootContext.getChildContexts(),f=e.length,g=0;g<f;g+=1)c.call(this,e[g],this._rootNode)},getOptions:function(){return this._options},getRootNode:function(){return this._rootNode}}}());a.Sniffing.SnifferConveyor=a.Sniffing.SnifferConveyor||a.KioskedObject.extend(function(){return{construct:function(c,b){this.$super();this._snifferController=c;this._searchNode=
b;this._maxItemsPerRound=a.SnifferUtilities.getMaximumItemsPerRound()},destroy:function(){this._searchNode=this._snifferController=null;this.$super()},getMaximumItemsPerRound:function(){return this._maxItemsPerRound},getSearchNode:function(){return this._searchNode},getSnifferController:function(){return this._snifferController},retrieveItems:function(){var c=this.getSearchNode(),b=this.getSnifferController(),d=c.getContext().getSettings(),e=c.isRoot(),f=c.getSelectionMode();c.getOptions();var g=
this.getMaximumItemsPerRound();return c.getContext().isNot("enabled")?a.Commitment.startWith([]):c.prepareChain().then(function(b,d,f,g,k){g=c.formQueryString(f,g);f=0<k.length?c.formQueryString(f,k):!1;if(e)this.resolve(b,[],g,f);else{k=d.length;for(var m=[],n=0;n<k;n+=1)m=m.concat(a.tools.dom.query(d[n]));this.resolve(b,m,g,f)}}).then(function(b,d,g,k){b=[].concat(b);var m=[];if(e)b=b.concat(a.tools.dom.query(g));else for(var n=d.length,p=0;p<n;p+=1)if("select"===f)b.push(d[p]),m.push(d[p]);else{var s=
a.tools.dom.query(g,d[p]);b=b.concat(s)}g=[];n=b.length;for(p=0;p<n;p+=1)s=c.wrapElement(b[p]),0<=m.indexOf(b[p])&&(s.searchMode=a.Config.ELEMENT_SEARCH_MODE.SELECT),g.push(s);this.resolve(g,d,k)}).then(function(b,d,f){if(f&&e){d=a.tools.dom.query(f);f=d.length;for(var g=0;g<f;g+=1){var k=c.wrapElement(d[g]);k.selectionMode=a.Config.ELEMENT_SELECTION_MODE.CUSTOM;b.push(k)}}this.resolve(b)}).then(function(b){"select"===f&&b.forEach(function(b){b.selectionMode=a.Config.ELEMENT_SELECTION_MODE.CUSTOM});
c._incrementElementCount(b.length);this.resolve(b)}).then(function(a){this.resolve(a.filter(c.filterTemporarilyBlockedItem,c))}).then(function(a){for(var c=a.length,d=[],e=0;e<c;e+=1){var f=a[e].element,g=f.offsetWidth,f=f.offsetHeight;if(0<g&&0<f||b.wasSelectedAsCustom(a[e]))a[e].width=g,a[e].height=f,d.push(a[e])}this.resolve(d)}).then(function(a){a=a.filter(function(a){return b.wasSelectedAsCustom(a)||b.isLargeEnough(a)});a=a.filter(function(a){return b.wasSelectedAsCustom(a)||b.isPermittedBySettings(a)});
this.resolve(a)}).then(function(b){var c=d.get("ui.sniff.bulletLangFilter",!1);!1!==c&&(b=a.tools.bulletLang.filter(b,c));this.resolve(b)}).then(function(a){this.resolve(a.filter(c.filterItemByBlockedAttributes,c))}).then(function(a){var c=a.length;c>g&&(a=a.slice(0,g),c=g);for(var d=0;d<c;d+=1)a[d].hash=b.markElementAsProcessed(a[d].element),b.addMarkedItem(a[d]);this.resolve(a)})}}}());a.StylesController=a.StylesController||a.KioskedObject.extend(function(){return{construct:function(){this.$super();
this._lastDeviceType=null;n.debug.log("/StylesController/","Styling initiated with device type: "+this.getDeviceType());n.scope.enforceCaller(this,a.StylesController,"Caller not instance of ITGS.StylesController");this._lastRendered=this._lastSelectedStyleset=null},applyToElement:function(c){if(!this._lastSelectedStyleset)throw new a.Exceptions.InvalidStateException("stylesheet selected","no stylesheet selected",this);this._lastRendered||(this._lastRendered=this.fulfillItem(this._lastSelectedStyleset));
var b=this.getDeviceType(),d=null;try{d=this._lastRendered[b].normal}catch(e){n.debug.error("/StylesController/","Failed getting normal styles for device:",b,this._lastRendered)}if(!d)throw new a.Exceptions.UnexpectedException("Expected styles for device type: "+b+", but received: "+typeof d,this,d);this.styleElement(c,d);return this},clear:function(){this._lastRendered=this._lastSelectedStyleset=null},destroy:function(){this.clear()},fulfillItem:function(c){var b={"default":{normal:{},hover:{}},
mobile:{normal:{},hover:{}},hd:{normal:{},hover:{}}},d;for(d in c)if(c.hasOwnProperty(d))if(c[d].hasOwnProperty("normal"))for(var e in c[d])c[d].hasOwnProperty(e)&&(b[d][e]=n.deepClone(c[d][e]));else b[d].normal=n.deepClone(c[d]);d=!0;for(e=0;d;){d=!1;for(var f in b)if(b.hasOwnProperty(f))for(var g in b[f])if(b[f].hasOwnProperty(g)&&b[f][g].hasOwnProperty("__include")){var h=n.deepClone(b[f][g].__include),k={},h=n.array.isArray(h)?h:[h];h.reverse();var m=h.length;if(0<m)for(m-=1;0<=m;m-=1){var p=
h[m];0>p.indexOf(".")&&(p+=".normal");var u=p.split("."),t,v,s={};if(3===u.length){t=u[1];v=u[2];try{var w=this.getStylesItem(u[0]),s=this.fulfillItem(w)[t][v]}catch(y){n.debug.log("/StylesController/","Failed processing style lookup (global) for __include:",p)}}else{t=u[0];v=u[1];try{s=b[t][v]}catch(D){n.debug.log("/StylesController/","Failed processing __include: ",c)}}s.hasOwnProperty("__include")?d=!0:(k=n.mergeDefaults(k,n.deepClone(s)),h.splice(m,1))}0>=h.length&&(b[f][g]=n.mergeDefaults(k,
b[f][g]),delete b[f][g].__include)}e+=1;if(10<e)throw new a.Exceptions.LoopException("Failed to fulfill all __include directives for styles",this);}"default"!==this.getDeviceType()&&(0>=n.getObjectLength(b["default"].normal)||(0===n.getObjectLength(b.mobile.normal)&&(b.mobile.normal=n.deepClone(b["default"].normal)),0===n.getObjectLength(b.hd.normal)&&(b.hd.normal=n.deepClone(b["default"].normal))));return b},getDeviceType:function(){if(this._lastDeviceType)return this._lastDeviceType;this._lastDeviceType=
"default";a.tools.environment.device.isMobile()&&(this._lastDeviceType="mobile");return this._lastDeviceType},getStylesItem:function(a){var b=this.getStylesRoot();return b.hasOwnProperty(a)?b[a]:null},getStylesRoot:function(){return a.styles},placeHeaderStylesheet:function(a,b){var d="",e=document.head||document.getElementsByTagName("head")[0];b=b&&0<b.length?b:"";for(var f in a)if(a.hasOwnProperty(f)){var g=a[f],h=g.properties||{};if(g=g.classToHeader){var d=d+(g+" {\n"),k;for(k in h)h.hasOwnProperty(k)&&
(d+="\t"+k+": "+h[k]+";\n");d+="}\n"}}f=document.createElement("style");f.setAttribute("type","text/css");f.setAttribute("kiosked","stylesheet:"+b);f.appendChild(document.createTextNode(d));e.appendChild(f)},placeHeaderStylesheetWithNamespace:function(a,b){for(var d="body {ID}.kskdCls, body {ID}.kskdCls .kskdDiv, body {ID}.kskdCls .kskdDiv img, body {ID}.kskdCls .kskdDiv div, body {ID}.kskdCls .kskdDiv span, .kskdDiv.kskdFixedBannerContainer,body {ID}.kskdCls:hover, body {ID}.kskdCls *:hover,.kskdDiv.kskdFixedBannerContainer .kskdDiv:hover,body {ID}.kskdCls.kskdDiv .kskdDiv {display: block;float: none;opacity: 1;position: static;overflow: visible;width:auto;left:auto;right:auto;letter-spacing: normal;white-space: normal;top:auto;bottom:auto;height:auto;min-height:0;max-height:none;min-width:0;max-width:none;clear: none;margin: 0px;padding: 0px;border: 0px;font-size: 12px;line-height: 1.2;text-align: left;text-transform: none;color: #6d6c71;font-family: Arial, Helvetica, sans-serif;font-style: normal;vertical-align: baseline;background: transparent;box-sizing: content-box;-moz-box-sizing: content-box;-webkit-box-sizing: content-box;filter: none;} body {ID}.kskdCls.kskdDiv .kskdDiv a *:not(.kskdDiv) {display: none !important;} @media print {   .kskdCls, .kskdCls * {       display: none !important;   }}".replace(/\{ID}/g,
"#kskd"+b),e=document.head||document.getElementsByTagName("head")[0],f=e.getElementsByTagName("style"),g=f.length,h=!1,k=0;k<g;k+=1)f[k].getAttribute("kiosked")===a&&(h=!0);return h?!1:(f=document.createElement("style"),f.setAttribute("type","text/css"),f.setAttribute("kiosked",a),f.styleSheet?f.styleSheet.cssText=d:f.appendChild(document.createTextNode(d)),e.appendChild(f),!0)},selectStyle:function(c){if(!n.isString(c)||0>=c.length)throw new a.Exceptions.BadOptionException("Expected styleset to be a string",
this,c);this.clear();this._lastSelectedStyleset=this.getStylesItem(c);return this},styleElement:function(c,b){if(!0!==c instanceof HTMLElement)throw new a.Exceptions.InvalidTypeException("HTMLElement",typeof c,this);for(var d in b)if(b.hasOwnProperty(d)&&"__"!==d.substr(0,2))try{c.style[d]=b[d]}catch(e){n.debug.error("/StylesController/","Failed applying style '"+d+"' to element",c,e)}if(b.hasOwnProperty("__stylesheet")){d=a.tools.array.isArray(b.__stylesheet)?b.__stylesheet:[b.__stylesheet];for(var f=
d.length,g=0;g<f;g+=1){for(var h=d[g].split("."),k=a.stylesheets;0<h.length;)k=k[h.shift()]||{};if(k.hasOwnProperty("classToElement"))try{c.className=c.className+(0<c.className.length?" ":"")+k.classToElement}catch(m){n.debug.error("/StylesController/","Failed applying classname '"+k.classToElement)}}}}}}());a.styling=a.styling||new a.StylesController;a.stylesheets=a.stylesheets||{};a.stylesheets.images=a.stylesheets.images||{BannerCloseImage:{classToHeader:".kskdDiv.kskdBannerCloseImage",classToElement:"kskdDiv kskdBannerCloseImage",
properties:{"background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAMAAABhEH5lAAAAZlBMVEUAAAAAAAAXFxcWFhYZGRkaGhoAAAAAAAALCwsNDQ0ODg7k5OTo6OjV1dXZ2dnj4+Pm5ubAwMDCwsLZ2dna2trQ0NC/v7/Dw8PHx8fNzc3R0dHS0tLq6uru7u7y8vL29vb6+vr9/f2tB0eZAAAAHHRSTlMzNDc4ODlTVVhYWLS6vL29vb/AxsbIy83Nzc3Nu0nGLwAAAFpJREFUeNq9yEcSgCAMAMAECxIpVsBC8f+f9JoHOO5x4Q+jFgBCj6y2ZxJielZWdFXn6kmskI5SDkJguj3nveHT2hRjsi0rcwelwm1YLX5AVH5m1UsEQNnD116VFgP50TblxgAAAABJRU5ErkJggg==) !important","background-repeat":"no-repeat !important"}},
BannerCloseImageMobile:{classToHeader:".kskdDiv.kskdBannerCloseImageMobile",classToElement:"kskdDiv kskdBannerCloseImageMobile",properties:{"background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAABI1BMVEUAAAAAAAAAAAAAAAAAAAAAAACQkJCRkZGOjo6Pj4+QkJCRkZGLi4uRkZGSkpKTk5OUlJSIiIiJiYmKioqMjIyRkZGIiIiBgYGBgYFra2taWlpbW1tbW1tcXFxdXV1gYGBhYWFiYmJjY2NkZGRlZWVmZmbFxcXGxsbFxcWUlJSVlZWQkJCQkJD19fXb29vv7+/T09Pk5OTm5ubo6Ojp6enr6+vz8/P09PT29vb4+Pj5+fn6+vrh4eHi4uLj4+Pk5OTm5ubn5+fh4eHi4uLj4+Pk5OTm5ubn5+fr6+vt7e3v7+/x8fHy8vL09PT29vbm5ub+/v7m5ubn5+fo6Ojq6urs7Ozt7e3v7+/x8fHz8/P19fX39/f4+Pj6+vr8/Pz9/f3+/v5T3cwbAAAAUXRSTlMzPT5HSF1dXV5eXl5fX19fX2BgYGBgYWdof4KCg4ODg4ODg4OEhIaGh52eo6Td3t/j9PT09PT09PT09PT19fX19fX29vb29vb29vb29vb2/v7cj7FhAAABCElEQVR4Ae3K11LCQBTG8V0Ee1GwiEosEbFI72AvSi8psaSE938Kv4moV2e91sn/Yvd8Mz/2r/JLJKd+xnIyQbnjwag++TWW6qPBEQHTruvW5sauhpEmYLTnOE51lqHFKs5elICBeNe27coMYwsVHN14gFHysGNZVnl6rYyvI5MOUm6bplkq4WnLnAniB613r9ae0EHuN99Qc1fs0GbjFTU2fnOrxRev4rzYRQqGYdw+4ylEhC6v6/qNJD3hywtkOKdp2rXEufSIIxem3HpWVdWrGGeMxx5wZlcImFIU5XIbDnLnHiNFwNP+8GIL7lPeDfsnBAyeZ8bOk5mzCUbJ0LeDDAWZ3x/oA8TkMV4KOs9lAAAAAElFTkSuQmCC) !important",
"background-repeat":"no-repeat !important"}},BannerCloseImageInside:{classToHeader:".kskdDiv.kskdBannerCloseImageInside",classToElement:"kskdDiv kskdBannerCloseImageInside",properties:{"background-image":"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAARVJREFUeNrkk71qhEAUhZ2drUS3DiSdJCBWC/oIgo2IVdKGTfJuvoCI2os/mEaQWGfJprLTRjFzNgbC4sIU2+2FA3fOYT6YexkiCMKbcIFaCReqawOVZflcVdWrJEn0z0MPDxk3aBzHjaqqepIkRxiEHt4wDPLSHbK0flEU76IoejIM476u63d4DLLN87wxTdPruu6TCwSfwW6DIHjUdf0BRlEUjWVZgOzZcTq9sD4zu4lS+k0IGdlTfsmsZzosQc7OSJbldRiGO03T1CzLGgh9HMcvyLhBvu/vFEXZAmDbtgehh4eMG9S2LU3T9MNxHK/v+z3kuq4Hj2Ur7q2xupmz/zMhsz/NPtewD0sLYPq6wk/7I8AAGbJ7BNT8kooAAAAASUVORK5CYII=')!important",
"background-repeat":"no-repeat !important"}},BannerCloseImageInsideMobile:{classToHeader:".kskdDiv.kskdBannerCloseImageInsideMobile",classToElement:"kskdDiv kskdBannerCloseImageInsideMobile",properties:{"background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAABC1BMVEUAAAAAAAAAAAAAAAAAAABRTk5RT05ST09SUE9SUFBPTExSUFBTUVBUUlFOS0pOTEtPTExQTU1TUFBMSUhMSklCQD86NzY6Nzc7ODc7OTg+Ozo+PDs/PTxAPT1BPj2Hg4OHhYWHg4NlYWFmYmJjYF9kYGDe3Nu/vLzW1dW2s7PS0M/T0dHV09PY1tXb2Njl4+Pn5ubq6ejs6+vs7e3u7e3v7u7LyMjLycnMysrMy8vOzMvPzc3Qz8/S0NDT0dHV09PZ2Njc29vf3d3i4N/k4uLm5eTo5+b7+/vT0dHV09PX1dXZ19fb2dnc29vf3t3i4ODk4+Pn5ubq6eju7Ovw7+/z8/P19vb4+fn7+/vLGJ4oAAAASHRSTlNmbnV2hYaGhoaGh4eHh4iIiIiIjY6goaGioqKioqOjpKSltra6uuXm5+r29vb29vb29vb29vb4+Pj4+Pj4+Pj4+Pj4+Pj4+P6EkP60AAABAklEQVR42u3PV1MCMRSG4Y1gwcaKoEYRsdA7ig1UetkmuI3//0v8JuOOVydc6/BeJOfMPBeJsu5flc5u/y4H2TTlrifL1law7LeWkysC5n3ff4j8uHsseQImxp7nNXeEa2IcJwjIUiPXdRt4514DwyjFFEpeDh3HqW/G6riGSThSJge2bddqOAYyB3nR/xL1z+HksrdAPbgVxbtz1D1e5Y6qn6LqrtypFcuy3j9wVFSZi5ZN0+xw/oarHJW4kmEYbc4Y72AokVIt6rr+yhn+ztsYi4cEzGma9nwKB3n2giVHwNvp7FE4IZ9m0xsChjKFE7hAFu42FEqG4YJYOKSs+wN9A76MLArEP8GhAAAAAElFTkSuQmCC) !important",
"background-repeat":"no-repeat !important"}},BannerAdsLogoDefault:{classToHeader:".kskdDiv.kskdBannerAdsLogoDefault",classToElement:"kskdDiv kskdBannerAdsLogoDefault",properties:{"background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFYAAAASCAQAAABrluEGAAAE/0lEQVRIx+2We0zVZRjHv4mI2sBQRnIAb8QYaiZRU6xlMy+4mYkiYYqoEUs3MXAohHhBszRz6kjQuAQqokAHNUszGSVwTMQ4yB1BbsJBOCAHOPff79sfxyNorppbTbee5593e5+97+e5vM/7gHhWFMAzBQvQQh8ilFMgSQq6qsZPX7bF4Pt7T1lkLYxSPiKtuRJnDHkKYfUhfIz8FAsJBuM/SOw/Sj5gWgnlJJlzdf1hMvvS3N35V0iyowVesDEdJZYrk2B/3UW42ZlWuUHoiPd601azS2gj9Ypb+8aNXjpMf0ToFjQq2dkFzcFCR6IXrHWbRaUs0NgiqASVoNI2FAQLHYLK0NF7TRaEEaYiM4EYXEiyMgSjMNiEZ5hLViyDLSz+BEuBFMVRm2atPr4Ti6ctuVtIkqIIHzjc95utpSuCdA2kNLXoHLljW2MW2ddR/HtfL1kozQ8j22tK5EZj/sWiZDJma0U82dOSeIRUKm6WlZbKZGfSyJbb1bcMBlK6x5w1ANBHCd2NRdV5mAEbwuCi9m5ZRKbHwLNystpb8QaGYlA/LEmtBkGYAknyu4YmcyEgAGPNsMr27m5RjE9HxNUL5PYTZI9SshfRU7dpNEZjZjpZ2xj9g8dXVut/OUVW15Ftt932xCSSsorQ81FpXjsy08hwKXa/f0AQu7owHyPNsMZiRX7OZZ0GfnDUvS52act0d8ivE7IjSW0ZWX8IElg+DBuAcbAs8VTfeAC7CuPMsCTZq/GIwwc16WT8BfJqGbZjNtxab5DLUhrqSFKvSz5UmGKyzriOyMQY81llBT8mkJHpWAHPvnYSoXAxXW9wIXNSP/6MzI7HFINU34zVOankwVR5KpmZsGsf/DEVzw+A1essAjZ6qv0wfMT4S3F6HSmKA2G1uqxqsl7h5NOUSm7JIjtVzlFwrXI0qozG1+JWRPvvzMg1CncVl7PIgtoWFbk3JWsTmVu68ru1CR4bzyeRW05g/pW3RaGzC1sx0XS9PsrsUPlv8NbkK0sQkhlNxiYtXtl4Ua/WqyvOPgJLnkj93JvskAa/Gj2zu55UtA0sg5p6xOUVk9dkJVLyo5RrheS97vpcYzuZmXdFTraWyWWiWKM4nUuuOj3vG51eb8j4llQoi2oq5CW//pxMNjQ3lgo6cte5/sgai1W1+08eOFZWqNMgsOmYoXdeWF0sGXc0PrQmDgFV+SQW4MWHYB+VRGn/A9PculyAcOeFTVUllbGp6p63vnwh8NL53l6yuzPpwqCYWZsr8rRqwVh/Z+7xPafUPTP3wy/pC7V6d4aqS6NV67Sae8qDh9U9Gq2qt65280lsMdeswYWUSREBv7gwMjNx+SKlnFTKydikI5/om0lD3/fZCML4v4AtkVutxXRz68IY+MAbzpgMP/jDF77wxGT4IgwR2ICFmARPLEcYwvEh3oE3lmAKnDAHK+GPtYhEOEIRCF+sQwQ2IhizH3QDC7hiKebDCXaYAV9Mgwd8EYggrMEMvIL3sBprMBt2j4UVxda2o2es1mFO/6eAYXCAPawwDA5wgiMksMZQ2MMVk/AS7DAEw+EIN7hjLGxhBwmsYYmRcIYTJsAdE+GOCXCEC9zhhjED+uxzsIEz7GGJQRgBJ9jBGk5wgxsmwA62GI9JcIVdf6MbDW+sGqAB8MF0SPq/239L+ATWQzEa4wboWDjA5ikdZP7On//n2SeE/QNystgK/m/kRQAAAABJRU5ErkJggg==) !important",
"background-repeat":"no-repeat !important"}},BannerAdsLogoMobile:{classToHeader:".kskdDiv.kskdBannerAdsLogoMobile",classToElement:"kskdDiv kskdBannerAdsLogoMobile",properties:{"background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKoAAAAoCAQAAADEB6naAAANw0lEQVRo3u1aB1hUVxr9maF3G0hHE4qAipogdkVRCYiIYo8ga4nRJLpr2Wgs0TUmJtFNjAY3saNGUUFdwYrdWNaIaKwoggVQkT4DTGHPu+8NzAxD0V3zfUnm3m/gtnfLuX85975HVaSP/9+IoAdBD6oe1D8tqBrBgMRkTGZkSdZa0RKlxqg1oD9E+K1ABaDftsj9oCxF9qRKK1TkFBy5NmvEG2RLpn8MYH8bUEWTzAvmK4qq6gmywvQvHNzIBhIr0oPaMKiiky4VF6oaEV5ciQmk5pBXkR7U+kEFpPLMqkaGkuzhPcnu9w7r6wbVYJJ546RUFfKuNWkHaTX+PdvW1w2quGB+1UuGI2vIE7ZVrAe1DlDXNlcUvCyo5SU+fckJJqC2rIrIkIwQeY5goJYX468xfiK1GhMQNXP8TJAWVfemXsPTOL61sVa/XN6Q/TdFS1U0Rd6QjWYilJhUP6cFqgb34foUq81Cm2yK2BpEdeunGqg5UzUBy3myclPM0uzbfO5B5tzVI+dvWFf4VLPV1hXko0NWRXd9JNtfrIp0JissBCTtQRdJQt5yezuyyY2VJGVMpmaAipua0c1ehWtKT5VfLz796Ps9wSi3YE/gmTTfgpWSE2UXCg9nfbGuCzXFE8aP+0n25CyA0bEAYAZkmBMlScz8iJrv8i1aVbSjICF/lyo+XB7h7tn82cySbYU7kd+ZG5fxyY5u6MWCbWgtUIWUOL9LXvhlf8wb3EaH9IlLQ/LCr7TnZ6mbQKmVlKaog/Ugs8U0GkoDbx/lcufOWU2kwdSbunkPenZfvd2tCxRILTEBzWBUeZqrTV9Brtz0HoQqpVz+wIfzulYpkFC834fsyfywo/Sg1lYeDPXDwiFTT2OVFTXlSkX2Dls3eztem3ZPIkcsyzh/Bl/74cDSi7X16Nr3l+bVYi1nv+yNLTFTSawmqGSQ3YaRxmxqRU04b1ELVGOuPnc59NOSxA2CKnusPviE5TSE3ibvx/uUyr1baCT1o3YAyMmyTaYG+IXPUOOOSWoGU/lDrvbKXupALX8dzENaVbV0xrr3+NScyeS5xEsX1yi6270TtTjYXlmpXbN2yqC3+dSer8mXWuTM5HPyim7DZSW1ezq+4WaCDpZdGjeKHJie1AbVsGQR3yp+IrWGONSSVbLgau/EEeeijRoEVcNWSimGugPEpk83JkynPtQVDgmK+Y1rSarmFOVyGkQe2DXNYCF7xNWeP0i990arIN2fQGFrBSMzZRZ1Kj7Op8uKjh3avu38cVk5n7+dQn4PlnMphWLv/lU/nk/lahSyUWN79+ZbbIqjrtcW8mmF7MuVNFhWyqUzM/Ynp+w7lHQk8UjirnXNIq7tYefA8tSTp46ln5cUC6sr6N4d2sU8gTqoyJvKs/g2WUeoEwijABtnaKA9Foh2TAM3ARFHZum5o7wVO7yrvERdoBa+oBHUHgpgGukARfAgF+5gejVQl2RRJLVBt5rBsoLJ/emjn3+iYFAplZu2oc8emycKmjBv+RQ+9STbazpq3qHgkRPLXvCqPnxsxg4uJSlx+RuNocGdRm/5Z+xU6hnUk3/mh/XJqwS5K5+zAjPow4OadIj+glwIBUN/elLg7R3CaqbQcAp1jrxzjn/qzBbM2ZaTVQ1QRfnRXO3dU5w8jwvHys05A0CidHvpSmVhVZX0bPJwpoFbqRe5PR1feZJta1Fp8oV3IHRm6tJfC9SifAaVNfbHDG7IBjtklhurlOhiADQMrspaC1QrHtTHmXJmFxXyb9fBhPQgzwOj+adi56fv4VORizFWIDTBnbx3CjZw94ZTGwSpklxP3boQHKMbBVCbiE58aeYdobb0vWWw/IHkK2fqfyN949rErw79I/XT5Nl27cnrQbywmjEY24c8PXuUs217noX+HCF7mqAalW3BoSbjnWlcm4urqC3EirO9xrIT1ZrJxvllG/W59aGGxhavHwAvwY5CdYMaQd6QP+62CmRlhpnku7poFUXBvtUBqiocS6VoCqI3qenZoXxJzMJHv3D/C57SOBgaN4yF7fNro1Qyx3gscrJCzaYqKh4ciO5L7mPaao69agvg4p52kNeyqffiybsa1KEAqAXGcMrazyCQQZpbQw7V7aFBqhNXlxZPI3LOceBCxZ0AvLiEwZd9KHLc/IklGVz68k/Ut+gwNjUnYjxF7WB2OHcvvQEcxPWD6lWj1DPM8her++KXBVUmmzoXktaSzP8TwZdEf5pzg53KHuH5dpAIEdvA5gpmfy+eoohv55Q9V+9D+mx8UPhbmmMXF3SPJX+4jKaKYu15PTxHAfe2aaxGRFaPtvBkQrU+NVDFxZ8yzYmmkDMMpvVTWRsTyWZOQmGiQqlH/EQB1OACxot+PbB9SdSotdMXTIBB8IJJMWw0qDDCTZaGPrv+8qBKpVVM9kqe9w+DZba6MEQF6u2zTGYqW48hPxgYzsSLUgTvnrwPkhTQstcPi6+eKKu+MUvb1b2fKi0RTNGTG3ZdsVnNeVALCjIzsu48vPXw1q0L4ydTl4ztGqsxIItSdhAvKQS38dYAVXBSxfe2Lt035yCjalmHwX/s4B9AD/PTYaQ6Q7o9BPUPvvRxDQaldy99Q10aK6mq84MhrKqTUceU1ZXSlwG1qGjQ58nJAgNNt+1ADieiBPVftCeOT51MwtTt2YnJtDiRL5v+mUdY0tTxvegt6mUSsmRRKWOn2df9hacfZvvNu3WVT6cnwVq68eqfeJgmwXYPpjAaAOX1q1b/IfAQNmR8YwT/zJXzaOGBNdUsX5QXXpt8jYmAs2omPcNADUUfTai54Kj6kn/qtLzTvINkW7CN1Rs2bFPF0s/uhQIyC5hgSyzde8ywrF+0KFU9jir1JEWbRT5JFyRtN/ntHcunxy/wj6oU7ODVpBn9yeHfXYuTBOnLEo998SssaXlaXNRACvAd+IIdODKu+Y7jW3y3lcb4jy4RTndJy6gDD+rxEyHTR74bO3RK+NSwzp3ozSym7CUFYdPeH7Q/4ulKFfedtBg00RVrqlm+Eafk2uHnNbDFjkWQd2ku+IkX2fzcUQA1iHwPRn0dRaEJC9PipXlMvDqD/5rUw1ONeaiMJduqlI/Wd/bAKYc7TdtiKh13fl3TsuC5TkolgHoyFVLTOaK/NJ9v/a+PVeR/wjwK2r9E5xV4ZewiCleUV+eLFTKB8if4vSscAzbCPLy1LIavkVeOjqmRmOozWGXKX3n11w6HUuC4OnDkvRpUg1OOHGW6n0qxNBoCNYgii+4z+exKrbM+YZx7NZirS9kBQf2DZDjeSG+CeAXRgDt7OLkGkVNzfrVAxZl+LSO/VoU7mUO4v2ooLJcl9sGSHHZOq2l39bJO8m9Zfo+rPZECNfEg1w2xSu5wWnVh/3wB1OjZsEF+Z1bw5WruqGz2V9iILpeWq6BUhWePXWKcwngLHfc9fH4rcjv9OV+3cU1pXm3w7p+4uLUW1IoD+8QjGWOwqKE/JC6cztV+M5fCQbbawaD5317LlSyOhnC1lt5kh5Q7lY/kxYKj6nd1Jk+xii6XsfuRm/saBFUhP795WFcQ3IOqc8uVNd18yW66e/ZS9QPk6nWg2W61jqnmdxdCVMqmzYZKOMKaOZ77Ennp3z+26ZefBv56wyoCiuVMrRaPyzgnF3iFtPTMscAPYO06ATD3GUPSD0gLVRT//Mm2kzBSx+zd2OKnAdGQNDv063ZvH9Q7v8+khJWycq33aWXLFo6KLsquNlSV+Tlnj4bPgn3tBpdiwy5kVMs3kqdxBAl2MwCraQIdbbaAKfr9n+BGXY5G8sCV5/z4ATNkW7AtPmmzKqrf4t1KwnbUr/7CriorNS4DFRXlOUq5eomkzD5W54WKMdkN6OHYD0N7sYsJS3IN7uscglNOB6P2g8IMgzABV/Z21oU6OIeMnzZz/tAZxiMg9b2wCAdW4wSJ6T0wZvLMEX+1GIWaHrDyTuQeHmwZxCklZ5zwax0eatOfeqO/btQfgEVVx8HQkgA4wT54dhjyw1Abiv7bY0xrdhNWc/Y3gjHwRa8BOIJYcid+uE1b6Fgg+vUAw21JvvETE+dihD6IwZiLH+bfijpsnpw4F+Uh2PAA5Ovz/o0N8TuxP7qu/sRQLnvsuSsOb6bsztMSE4PC4q8dFuUOeKzZfac5luMGq9westcOW+AC623K+IY5nnXBSast6rgaZ2yPOZ5ywNMubKtEAIMDvxXrzxlAewMaVfRCuSNau6EPH+R9UPsmWnGXjoaq21CV+rP5ujKtMhJuak0whjNG4q4ZuVm2Yr16QspboyVMI8a2R49twZRxemMrMqqR/lcE9V6G6TjIh65Lao7Im2Aq5mzpBmp5U3ZlbMEuIPgLYSOkrbGApvhZoV61YG4rTFFiq1bDl1kI1xf8RYcpW7Qp+2+l9oWClTCaeXWpFWMxhupv1YTli9iB3Ly6X358I1Zmwq66jfGsLaI1u1ZRlXI+BjQLG2VdM/P/AdS8XP+PoA51v04xYFFXXleNiEUDHdujXVN3v6/8OqURQTVHXTPXehPwyqBmZgDSEFiWP8SLv9fz3uulQJWUxSdA8fsDUv0r6gY+UGswKJWFL65fidvgPIGxOU/9xxQNv6J2AR0PU6MkumIk6Ekw2vnAPek/+2kEqNaMwPjWE31AfbjL5Jb6D9QaC6qRGvmoK1rpP6V89e9T/zRB/yW1/vN0fdSD+lpA/S8WXoIG7FEXGwAAAABJRU5ErkJggg==) !important",
"background-repeat":"no-repeat !important"}},BannerAdsLogoGreyDefault:{classToHeader:".kskdDiv.kskdBannerAdsLogoGreyDefault",classToElement:"kskdDiv kskdBannerAdsLogoGreyDefault",properties:{"background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFYAAAASCAYAAADBnymNAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA5NJREFUeNrsmFlIVFEYx++oFREtWqFlGZrtJJUSlr0E+tKbxjQVJD2kGVhYDTkTYctDo61Em9ZDJRGUiSVIhFZCtDK2m0gokaFCy4QShaT2/+B/8XCZe53IHoz7wc8znv38z3e+c2Yc/f39mm1Daw6HQwuzZfg3FiF/vF5vOJItIA/MA7rgfaAJlIKzPp+v15YsRK/1eDwi6jWQNUjdKuC0xQ0tFETQU7NCqJ/Juqf+JxFwWv+qPRzNNBTkKf+fARXgHjgALoMdSp2gwmJyjUjuYpCt+DwNn2vAU3AfHAGp4APYAzaDGPCR4x1iNyfBOjASPAYeMBscB8tAC3AzPxuUgbHKND6x/Dz7+AmawVHMq9pCmwT2LbaG6zdaOqgFGaAuFMHDGFP1eOrmZOTI70X6BcxU6s816Wc+WAhRE5HWgyTwBiwBk0EcOA2kz18MPaPAQVAs43HT3oFbYAVYD2ax/XSwDxwGATAJyAZ2cjydRNZv5vhLwU3MK9tCAyf7rKCARtHTTTZD8pOthNUvqm6I+QN0gOuYzCLkNXCX1PpmNpWLiwc56OOEUjYR5II2sABlLor/DWwDU1ivB1Ry4m6lfRE3ReazHHQx/wW4SOSE9Q6cUF866/ayzErYOvbtVPJFND83vszgvS3M90OnQjNhzayHHhGqiXfFcvdvG8pimT7Agru48k5OXI7tIykDaeAKPW6t0n4l0zs88rq5eKlWcaHG+PccSTuYYRJfEyhgHT02UhG3kGtJASUGwTXmpWCMksGEjcBADhANVqPBWy60AHxXwoWZdfO4i3dWoY/RSlk70zTkj+Oiojlp2cAOhoIkepeIvVtpX8kwsYti6naJogvbgwi3mCfpvYW3avTIFsUjNYrcys+tSptzRNrUYoziwYQdw0tqPJBQUI40CtxQJtZkIewzbEY+F5tMkXX7DMoZKxvR91WkL8EExs394BUvRvGicOW4a8zP5AZfUE5AKje+gJfgiAFNveKFD9lXkYWwerjLoGC62A1cR6QhliZQ6Ch6eaHpFwTDq0C3DUS1UpMJine/Vl4O8bxg6nl05UWQw5fAJt6+kreTt34cRVnFF4CfMTmJ7dvoURvpKQH2FUM05tWw/hy+Cp6AY8FeBUoY8Cg3fYDjOnnUpfxrkJdALkNPgK+coF8QQv2xQI6jy/6CMDS/FfTx2ZJvi/qH4tq/btm/bg0rs4W1hR1e9luAAQCfvBWqzsKVTQAAAABJRU5ErkJggg==) !important",
"background-repeat":"no-repeat !important"}},BannerAdsLogoGreyMobile:{classToHeader:".kskdDiv.kskdBannerAdsLogoGreyMobile",classToElement:"kskdDiv kskdBannerAdsLogoGreyMobile",properties:{"background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKoAAAAoCAMAAABZ0JFjAAACfFBMVEUAAAB4eHj///94eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHhSpjOlAAAA03RSTlMAAAABAgMEBQYHCAkKCwwNDhAREhMUFRYXGBkaGxwdHh8gISIjJCUmJykqKywuLzAxMjM0NTY3ODk7PT9AQUJDREVHSElKS01OT1JUVVlaXF1eX2BhYmNmaGlqa2xtbnFydXZ3eHl6e3x9fn+AgoOFhoeIiYqLjI2Oj5CRkpOVlpeZmpydnp+goaKlpqeoqaqrrK+wsbK1tri5uru8vb6/wMHCw8THyMnLzM3Oz9DT1NbX29zd3t/g4eLj5OXm5+jp6uzt7u/w8vT19vf4+fr7/P3+t2ttXgAABM9JREFUeAHt1v1Xk38dx3FfwKaCoE7Fm6zEaUE3mstKK22VlRli5g2ZohFR5o0WWtS8sVlEmUpppUYlFN2s1LKWeGOZMBCBKfD8h7o+n2tjAzbznM73nHEOz5+2nV1nj3Ptfb2va1reJGnatElDnaJOUWUr2X31AYkeXNlZojes/5Pqre1hTF0HPLlJXdjBhNpLc5G68B9k6G5p7lG9HWSs3ZNz1FqytD/XqCXdZKmrOMeoO3G7XbWmDej42Dt3JWd3m1Kt/OGJIjmtuXCoQFtbtsq0tvGXf7nxjVWyrfj6jfYr9SskffDSF2X61OWdess3m92+Osuzt6m5uenk3vIxBDkFgn6lF0x7n0a9gq3DgTTD+emSSv6MrUWpbkKtpI39sPnNwwwvleb/HLeLsyVVDWIaOldQ0A0flbQHWNZOsq/tItH1FWOpfogqPajLRL2P7X1yqMMHZCpoxpZ+fCeEXCnrPwys1oLU4rhVIn+cRB+aC+xwpf0LekhWFyJZ79ox1Dog8BrUxMFyOvNJmXy/wC0+nmqlX5ZLNd96cqLmXB/wPdXDy4NVZ/uIl7lUI41vVi+0HTF9YUYInoVCF/5jjpuTTo0C4demdsqpUKZ3p87WOKqRDu+RS10HRHxmRh/D0LLT8HS2NG9bhSzVSPs2ylCPyC1kfyav6LKZhjRqpQMl5pPJ1xCjNWCpla0Qawlkptq2PicL9Q+O9EWVEtTvAO+QaQuwrx7oadpSLFnqTaD7/bLUqzucPuNNUvOK/g2306hhIj6olqkVp5ihVmKL+bNRvUaQhWpqVJJ6Hf4u28xhOLN8ENPAD5ZYqmm7XKrbt0epeU0wmKL6DKyFiJyqIezzR9xPoj4FIZyVWj/4SupAIEn9LdyW23M4r+BDbI+WJKkPF6VTr6aop2EkRa0DnyrdCytMTFLApdIQ9AX8rxiA8t9lpfaMwP3SBPWS4y6R6e3AYWnGp7//BKdvWWo30D7dUjvbnFrKU9Q2eJyiRokEg+b02f+/VU6pAYhUv4Kq/L3PMlMfVRwFfuNxqZ8Hjsv0Y2B98ScWSwUbH8OvDPWPpT8DTmW6rPI2AT8apQZJFPONoSrYEsOpISP16AbZ3noty7Ly/BpodKlzY0BomSouAn/K/z39Bxer5BZcc5eV7x7wWUMNlZmKDfVRWdkHjsWB945SwySrlsJ2l/stNeBXsC4KE/ZqgaTmkcZC2bZnuQUs/BewyVK1jdH636N+nGJGUetSFYjDgL+XRPEtIUY7Pir1xQjLFKFVqrbgFkON2lXYQGw8ld2GCndWy/RxTJeU6i6cNLf3IWgMAO+SaoZw694g7Y/jdqe4cATMTjMjsv0eyS4eI9HQofxRqoMLyFQHfgMmEk0uq1hrJMMA8OLwfF0G4l+ZpTlfik94XKkZ6V0jp30jz9Z522nzSlr9k36g69RiOa08+wTo++48Kcw/F8jpPA/etKMPt56PLP8bTgN3T63MSxUhKpvPUUmBCEQTt4AoGOkEKgw/xTZw/yW2riKl5Zsp27xCKX9RvmyFFeveVqBkS1eVe2Uq9ci2yPu/HwI1rkAw7WVQSqdmrSbXHq3J1k3PZKH+tVSThNpWqslB7drv0SSgDnf+9HPFUg5S8yZBU9Qp6hR1ivpfHa3Qjg6QagMAAAAASUVORK5CYII=) !important",
"background-repeat":"no-repeat !important"}},BannerAdsLogoBackgroundDefault:{classToHeader:".kskdDiv.kskdBannerAdsLogoBackgroundDefault",classToElement:"kskdDiv kskdBannerAdsLogoBackgroundDefault",properties:{"background-image":"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFcAAAASCAYAAAAuXUKzAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAB7lJREFUeNrsWGlMVFcUnhk2wWERsOwgYkVRVBZZZI0VJUEh1j0Et4iYqNG4oLWKSNJUQ12qRikRU7QaF1xwxS0RWSoYIAKCEVBAGFAWAZkFZobpd+h9yesI1qbpjyZzk5t577577j3nO+d854C+QCBYK9CN/2SIdBDowP1fDn3tBSMjI9Hp06fDZs+eHWZlZWUrxKB1DUZ7e/u7O3fuFCQkJOT29fX107IOwuGHkM+5BGxZWdnaiRMnen1O6Pnz51X+/v4ZAFiG1wEdjEMPPUwf7uXMmTPhM2fOjPg7IVtb29EY6lu3bjXiVaWD8Qs4l6iAe0b6V6xcuTKLns+dO1ccHBz86/37959z36Ojo/3xY6JNLaCO5CdPnsTi0TAoKMjq/fv3SU+fPl157NixEJlMdnDWrFn2xsbGhrdv347u7e1NBdv80tPTc+Dy5cvRRn8OvcLCwliFQnFEqVQeq6ur27Zq1arxR48eDST5iIgIB7oT++fI5fJDe/bs8SJ5ZNERyPxMs7Oz84eUlJTptJ/ecc9P9fX1ifv27fNl+gqHAmPjxo2jSR+aFy9enIElA+29GRkZHvQ9PT19yufO+oRziWM5fo2Njc11cnJSJScnX4JSNWPHjtV3cXER86LXEj/GmFJMJe8MOwcHBwUyYMyVK1dWWFhYWN+4caN8/PjxbgBVPG7cOCecOQfAB3R3d/c8e/asysPDY8zChQujxGKxWWVl5ZvAwMDQt2/fNsMxH6dNm/b14sWLgwBSL8m7ubk5rl+/PiAmJmY2QOwwNTW1wbTA3g6JRNJBOuBcKXR3ov2NjY3NAFmJe12SkpLisffSli1b8rHtk5oBm33gUDnufgOdPLH0gtmnIuChC4E/GJBw5kiyf8OGDSZeXl5WbW1tsp07dzayMzWfRC5XvGCIsqurS15RUdECYAuXLFliXFpaGu/u7u6mtddgqI7DzMzM/OrVq2vNzc2tDh8+fHvNmjVlnIctLS0tGLDd4PbTfn5+2eDvdNypQFTOwHcb2tff36+5efNmrY+PTxqAfDgwMDB4z+bNm78hYJuamiQBAQG/AeBBWnr9+nUbMqz6woULFVu3bs1Tq9WDBh4/frwY91xatGhRJs7QIBvnYFk8VDGHfT44t47OQjB4UBki6jxw4IDLoUOHds2fP3/B0qVLKSsFcIIRzvZARqbQ+o4dO77Lz8+fSxnL2fq5VmyARWQfDpJ9xBimIH4yrK2tLQGsKdJWcfbsWfKmQl9ffzC6HR0dzei3urpa0tLSoqBAe/HiRQOipUkP48GDB20w7i1FKCJ8bnFx8Vqk+ASRSDTAAHChX0R8U01NjdTAwKCP3gH0hNTU1Jj9+/cvOHHiRDiOUrMgIJCl169fr4YJPaNGjTIfis4oMpFlzgio+vPnz1caGhqOgO6U+gbLli2LhLPlcPypR48eFXK2e3p6EkUJUHuKdu/enQHqLGLgioYFF4oJYYxg6tSpplB4GqKwxdXV9eipU6dycImSo47hvEJtGji73MTExPjatWvfQikhM1KAyOhlIDna29uTgX3e3t4Gzs7ODog2dW1tbS+i89a8efPSwHsFBPiKFSvC8YmKrwBg14ACuhAtfgB/AgcieL5y9erVl+Lj489h/32oJ+SBq4yLi7NGRpki0rtZIRdpUwKrJXPRiq6nZ9g/jqIXQIuRaF0khyB4z0Q0e/fuLamqqnqGzI4C5cTC4RGf7XNp4DADpIH33bt3y7Zt25YQHh5esnz58uzMzMwSGO1tY2PzFfjtw3B9bkNDw7uoqKiHubm5otDQ0MnZ2dnzkfXEXYLW1lZ5QUFBBajBExGb8AYDKeiKQmaMIvX7wYMHg0kG0VsPEHvgZCFxJgZFhCAtLa20ublZCsqI27VrVzSAuMecZQ/+G0FgowDKId9K6+vWrZsB0L1QM5wBtOjkyZPEt2rtFpIoAcBLYGMevaPwYsl9IsGB+ySIUv+wsDAjAG7LOQ16WnR0dLRPmjTpR0R8jK+vbwg+5VDA0B3D0sKmTZsicnJyEukZQj7wUEpeXt73BCytAYgKRht/URLE/g6V+R0e5Yiuy6j2DShU4pKSknapVCp7+fLlh8jIyKtI0zxQhR6KwRQAN4CseAQ+e5KYmPgQ0VmOqLadPn36ZDiqFQXsHiK6g+RfvXr1AV3LG6R/lkqlUsIBaiqMoKGRKEJOAGQMOHYM7v1I+6nw2tnZ2cCHku3bt19B+pZDNxm/heQoAf17NYpdHWZlVlZWIVED2lNPyOWiC5I8fvw4EXTlzjJ3MDNQE/zwvI84GkF0l08Lf/kjglqML+nfioqKakNCQrIBSidxJr9bwBiBacpAl7IUHMnu4iJdzr6PZEVDxN7lbIoYL3LFQcVb12PgKJm8ITtXn02uWqtYhBoyGQ3vHJlWtyBknY+YyfQyfUyYfgq215idxdkiY/tHsOIuYHtJXqn/pQ0xcSzS4wM8Wo7oKgWwH7UjgA1SuodnjGCIPWpeweR6xQEeINw5nCFq9k3IAFbzzhDxenaR1h0a3rpG6w7NEHp38/YIWHAo2JqGpxNX8NU8OzkHKjl5oda/HMkDXP86JMZMmPO+Qvfn75f/44aA6+R5Z7gWTcWm7h83/wBcNS8tdeNfjj8EGAD08O4zX16mQwAAAABJRU5ErkJggg==') !important",
"background-repeat":"no-repeat !important"}},BannerAdsLogoBackgroundMobile:{classToHeader:".kskdDiv.kskdBannerAdsLogoBackgroundMobile",classToElement:"kskdDiv kskdBannerAdsLogoBackgroundMobile",properties:{"background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAK0AAAAoCAYAAACM0nooAAAQxklEQVR42u1cCVSVVR6f01RTTXUyq2k0dVo09y3X3NNsKsuyzUYry/I9VlkfPGVH9uUJyKYI4gKCDCpgipKiuYIghAu4YK6pqLnirvP7n/O/zPU7j/ceb+A4nfN95/zP4313v/d3/8vvXt6f8ExTRZU/kqigVUUFrSqqqKBVRZVmAK0GooXYQuwgDhBHM+LAeVEGZakOdeJVsVaaCta2bdu4eOn1SzcUFe0+duTIhXtmHspTVFi418PVNadNm7/PRB1OBGAVvKq0NGg1TzzxhL0hMmLlhfPn6+9Z+dSdPlUf6Oe35tFHH9WjzukQWxW4qrQEaDVdu3Tx3FVWVnuvmZ6tmzcf7fjaq6Go2wVipwJXlSaKecD+Wnv47L1mfvZUVZ0HcCPQhqsKXFWaJOZcAtawLfJs3rTpOFwFf9K4qqugSnOAVks+7L0Wfjzd3YvRljf7uNo/qQuiipWg1RBLcP7cuastDdrfTp68/vzzz0ejTZ1wE5pAu9mwyEyExli69N2WPzWKMkoqz15J0yn7ZmkZOZ+p/srpcr0mxFY5NmW6sj2rRDkO/tuK8lq5fHODVjvT0zPDFNhKtm+78PWkSVuHDB70Y1Hh2tNyGuiws+Pee6+4f783Vmq+/35L9d69l0zVNW3qd+vQpq+F2lYzdMibvgV5K0vSUlLWP/fccx7MBQsgatF26OqCgrI5MTGFjzzyiCvV6+bklL52zeoKJweHxfjuzAATE2gzftz7EQvT0ooRJO6Hv31iU3HxgeSEhOK3R79l4PwOCrBrMXbf+cnJRVt+/rmmdMeOWszDnqjw8MJBA/qHSW3YTvz882i0XR4WHJzHrpCD1LZW+8P3yUjfBauTRel9+/T2Q1/W5y1fXro8J6fMmMyOjCr82wsv6P/y2GMus/z9c/CuZGVu7k5Ky83J2ZmSnLTJ38dnxbAhQ8Lk/lsJFu0H778XhvWOHzRwQCDNdxPdOe2Ur76KpfKDBw4IkPvSnKC1/WnduioZWEpQPvPMM5nIlwSJWbJw4T6RlpwQf+jxxx9fhPfxkEhIGCZ3Dha1rrH6li1dWot8oRA3attMh21Q1wFRNjgwgADvKSZy8pdfxl25fPmmSP9m8uSlPXt0D7t169Zd+k6f3bt1jeK27Dt17KjbuGHDblObCuDZ3aZNG39afKG93F1c0q/V198ylv/mzRt3F6enl2LDeEJcZYv1xaef0tzoeOFsAbhsuWzvXr1ioBAOW2KlIkJDN7o5O68wl694/fqDA/v3p7VwsYIj1wweNNBX1HW49tB5vJsBcWoCcG1F+fCQkEJp/NrmBK0dDgV+b2wShg8dQg0nQoIhPgBdJYEBBwjb8X0exAAJYDDpsHA+S5csaRQY0MSXuYye2jbVYe7beVE2KT6+Au8CCYSTvpwYLwArnnfHjs3++MMPF8vvRgwbStrWu+Nrr/lYyoxUlJefefHFF4OI7SBtAcDeNlcG2ntJ+/btg+R3dlrtWtThR/WAs14mp126dOnWPzp0mHu2ru66JX3y8/LaAmtQZklebJzr77w9JgXtugsrY6mWhFbPl+t6a+SIhQxcRwtB6yDKYswbGRsuEJvmBK2DiQOCm0hfAAlnUDpDq2wFYLLxdxQkjAAhTNIrL7/sCU1WbWpCAbQ7yDsH4kVlzE3A0V9/bdhQsQbDHtLon3/ySZoSsHBxyqje8ePGZcrvh745OAfvg6CBahSnd9egCfbAhSjBZqjGQcp9mhTj3E2AIxdAvAN473rr9ZXQ6D8nxsU1lKExQcPPb/fSS1FyHXCXaNHCcKqYp5wDjKGILBQBTLzHaeIZmPmqAF/fSix4BTTzLhL0cfNfn3wyEZatXOQF2G9FR0Tsj4mO3gfrV3vi2LFrchv4fhUWg9bNzcL4QUP5sLHPyfXAJdpL88d0pY0JP9+BxVWU9fXy2soY4RhGcR2Aj/xlV8xS0Do2BrD91fuuIn0uJEAcybZu/aw77TwGnYd4j50dYqkmY83tS203BbS0QB+Oe38FaSnxjrS+vY3NDu5nxITx4xfKbcEXXf7PsW8vkd9t37r1HBY0i8vEQgww1YvQ/6uy2e/Rrdv81HnzSiUgXIdfvQz55xPgANKUH7799qcB/fplUNv4HiG3g7Qt8K/Xy+8I6O++M3Ydz0EUg1YsMm3KdEoT/WKJgITOS0zcqVibJTyGuFatWiXBCh7iZOFObeN5drIkfphub5/2X9cvYT99nj516gbGFc9rbi8Hla++8oobYo0ijKGe8sLfPzh2zOhkUQc2+A52G/WOdnYLMO/7RRqVQSxSBetI43QWrkxzgVYGmJYrn04idgoFPgASaz6LQJtkIWgdGbSC6z176eKF25Lmu/PN5Emb2U2JgHh/NmFCitzWm4MGrYQmLZff9evbt4DHFUpl2FXxQQBxn8/oOn36Fmi8LQrrcwOBUzXazWMmJIxdJ1+4B7M4m9CcpxXsyY2Rw4etpvFz234yaHOXLTs+berUTeRWYJFXAUQFAP6/ETcEUD+xgXaIvAdqaq7w5ongufSGQgmHBWnYeOU7S88JTWdJ/JCTnbWNyiGOOINN3WCxoOnXI91fAr+G6gMIa4xY54bxwMKU0Ma0mTZtqTKfZDGuYT1iFBbBetDyxCRAfCSfRisEJssuY/GiDSJ/E0CbDPFrKmiVT2RYWDXypEGiWfM7I/hJUoA2D+A5Ip3OkU+dCglnsDqKjYiA01cEcfSAkdjXo3v3xTDntxtxdW7Bf6/q0rlzNNXVoUN7f1Pj/vbrr7Yx0ETb7gxakw/Yge20BtBq2xVrk8RgcuVx6LIyMiolv/kOaWyhJU1pWbh2HqKcz8yZ1N5cgPiQALEC/Fq4MQ1AxGbaA9o0rXfPngspr+SyldLagP3ZS98P7t9/AfnSaf0RA+RLrhjFKjOFYmwu0HobAxiBFia7gBb1QYAWi3IbgeJy0nSCIZj42WcJch5EwwWgtE7yV1qA37l94fLIvKILWwxhIg/Q+BHc5SKSvtJYP9DHywBuFAdijT61Bw9chUldwMGkC8QZ7sI1c/OFRT9EY4R/WWJibTT0CSuwTXKd7sl5LA3ACIAE9u+++brh3cjhwzOkemxJKwvNKlwUSAQFbgrQGvJXrNgnMQpVcPFWvdS27TxYnSwCOrkQXLdTi4OWHWgnACMO/syJlgYt+1g3aTHo4d17BVpiDvvXjtC0iUrQwtc7KAMdful8bn86RCNxwsFyWWiTStZUwU899WTkvyZ+UQBtV0NBnJyPtXIZfD+D+C67BPJ3BKoncWQuKD8XAq3sjlEwRlw4aMhTJEQR9n+jLzEgoRaA1gEm+7BEWdWzG8SW0nwABgquDjztj7RRJ3w0PlsRkAWzVncAx32AXaDj3EaIiHUU7oEB3HyuMRzsLCk5DdfjJxpbS2paWSsJcYDoHnrooUDwiMUwdzdbCrTQVPV9e/deAz+zSsFN0r2GQDK3AG2yArT5mJiN8jsQ/xWSdrYVvvqq/Pxdcr7Ro0atBsDngA/O6NL59UiOoiP//PDDsTjUyBeBGy/eCWio+9qGhj/frl27FTgEOMavBL9dwX6oXhGIETAWsY8ezyxLDJtmPyM+baJ0UGMLzThXbic9NbXWAqZGQwcB5taMA7IEBqYzBV0SaOOkgM9FEYhFQwI/nfBxBg5CDsg+r8QKlcgBY3P7tFrsuB9BecUpKAsHBoAPIu5kRIVHTVFe1gZiRPGQDwuAJkILHZfrjY+NLaeF/eTjj1KVPi2BSUyWzPmCMTAQ0EcMHxaGPlcorlSew0acD81zUvCqMG0bX+/UKYYAj0OUGFwwqpNM+AkEL/e1/d2UKbRo82EKU2ARLslpCE5W02LKoMX9j5puXbtmgT5LhdlMQv/i+/TuFYe2ggh45NPKGxgHJ5nIMweaMQEboYj5ZJljL2Bq0hNiZzoAM/8gOCxmH1oHX76UMXKRrJG4U4JTtFlGQOtHrAIUTjIBnPxZ8pthWRrmhDW1O8TWetAyTwutkiwBzBb+CZmou9j1m59t1cpL0BUsTjxBs7Aoa43VuW/PHtYQTQct/K5q1kAhuOo4G2Za+JniBCqXDxdkymsFTRz6s8pS94UYCpTLp7YIrMYiXiVAcCxbxqCVKa+tvKBBo0eNXEAbVnZTAMwFlgRi1NbUKVOy2T0w+zDdtZuVQ6AJcp9oKx3RTxzwVTPllgJJYC2dSC6DpFXDIDNm6HQNTAtYjg1shTzWrFr1i8I9iKaTNfqOTf4b0WcM5BgooXLJLzZIAaP1oGWNsEkilx3pzFuKxOuwGEmsZR0kktkdZ/CZxuoDEX6kKYcL2I11EluwW2IKPLFj04lPlcxM5agRI+7jZHE3IEfQSwgM1nF+4w/7oOAO1/LmCIVGKDR3IgZq6ULr1q3TwD7Eyf42KLSNxBTwYug93dxWK+5hFLMGNvtAG9Zg/DvM5aPx4fSsElZirsRSODRC3GuRN0uU5aA2noEZwC5cIA47NklHz2mscGYQCGX/FNr/d9rQykAMNF6OTInhasARzNkpaV0rmw+0zIXCB9yGYIcGoocZ3K3UAiFBQcXgLH0J2PDh9OjEKnrfCO2zuQnHuPaYsDwCAibjBiY1h82Ijv04HSamkNLJl8aFl1xcKjHA3zrG9yZ+w/cENmkeNCmIWFPBhx4ibaq8gQbQ74PmyeRNFSTAhkAoAcR+FTR7vfKgAG5GDcz/Ih7TLNA35Ww2L4ECS2NN58r91SO9ks37FdyFWASlUET1mPnXpRuIuPN69eyRBkVxzhiL8kvFrovUf+TJYUsWxsHNdBP3D2xQ3zFBR7FvGsxr48SW0BnHzbOkA55SBrPHO2PGJArwiTrAMmQqqLNwAjkBl9KVfceJYwVtlGZzD+SH+Es44xx4GOcsEZhcxE6/01ieE8eP34A2WmDphRlOdwWVFP70008beAIENSK0uifAYUC9sUy0B0LLBOCuwRx8RtFkiEs2LB6Uh/LjJCsTwdZK+I3ZcIPmMVgjeVHcpTI61jyRnV/vlAbXIeeNPn2ysSFSqAy368P59AC+AX53lDClwrXizxnoWxzKzua2QjjfbAZbshERJjWYJYrbTeL0JC4bx3UGCDbFzA0rG3Yd/KRDEqVm1vJ8e/G6hfDfrryGfqC5Fn30wQfLeQxRJOIkj+v25HkIhCVcTHlJpFO/YEq3gj1o+Qe+z05eAEuvJmqlIE/Pgxc+tEaRPoPzuPGEevB3nQQaLZsfF07z5QUO5E9vLicfK4oyzpzmzZo7QFHGifM5MuD1/F6+IWUjNoHUX52wAgx8PyPizek6qW5v7r8ff/qIo3XldUwL59dTWDAZ6Pxpy+PwYHHhcmIuZyj6OpPfeQq3ksWN++ivmHOdvMH+b0CLO6RnoH1SFRcoNE343QV7FgYAizJdeTFDeSGDwcPvHXkxnIU5NHqdj9uxsIy2kbanKdNFfy38TQl5bPamfnPCHFiNj4vrNw4cec7EGmgVl2WcWLgfEFN5+XDFxJw/WNDC77kIE55F5sPKf7fRCDGXbk0ZpVjeF1ms7+8fWZo4hxpz/9nw4EHL1+0YsLEQP/UfG1UxJg8etBx04SRqJ7sEswmw6r+Qq/LAQatkF+jsPDsz8yiI8C24JrdQ4vy81R/rUKU5QWvPEWEo0yjJ/4Mkch0Grs8XolN/FkmV5gUt0zASneNnpfiyeAvqSf0BOlVaCLRMZzCNYk7Un/pURf1RZVVUUUGrigpaVVRRQauKKpbLfwAVB80TYGlaHwAAAABJRU5ErkJggg==)!important",
"background-repeat":"no-repeat !important"}}};a.GrandCentralStation=a.GrandCentralStation||a.EventDispatcher.extend(function(){function c(){n.scope.enforceCaller(this,a.GrandCentralStation,"Caller not instance of ITGS.GrandCentralStation");var b=this;this.addListener("mediaSettingsApplied",function(a){b._adMaximums=n.mergeDefaults(b._adMaximums,a.settings.getSubset("ui.sniff.maxProviderAds").getSettingsObject());b._maxPlugins=n.mergeDefaults(b._maxPlugins,a.settings.getSubset("ui.media.maxPlugins").getSettingsObject())});
this.addListener("BannerDestroyedForSizeRestriction",function(a){b._numPlugins.hasOwnProperty(a.type)&&0<b._numPlugins[a.type]&&(b._numPlugins[a.type]-=1)});this.subscribe("validContainer",function(a){b._validContainers+=1});this.subscribe("validInventory",function(a){b._validInventory+=1});this._windowMessageListener=function(a){b.processMessage(a)};window.addEventListener("message",this._windowMessageListener,!1);this.addListener("bannerSlotProviderChanged",function(c){var e=c.from,f=c.to;n.debug.log("Banner provider changed from '"+
e+"' to '"+f+"'");b._adCounts.hasOwnProperty(f)||(b._adCounts[f]=0);b._adCounts[f]+=1;n.isString(e)&&(b._adCounts[e]-=1);var e=b.getMaximumAdsForProvider(f),g=!0;0<=e&&b._adCounts[f]>e&&(n.debug.log("/GrandCentral/","Preventing provider: "+f),g=!1,a.messaging.dispatch("bannerProviderLimitBreached",{bannerSlot:c.bannerSlot,provider:f}));g&&n.debug.log("/GrandCentral/","Allowing provider: "+f)});this.addListener("bannerSlotDestroyed",function(a){a.adProvider&&0<a.adProvider.length&&b._adCounts.hasOwnProperty(a.adProvider)&&
(b._adCounts[a.adProvider]-=1,0>b._adCounts[a.adProvider]&&(b._adCounts[a.adProvider]=0))});this.addListener("shouldDestroy",function(b){a.sniffer&&a.sniffer.clearState(!1!==b.unmark)});this.addListener(a.Config.ANALYTICS_EVENT_NAME,function(a,c){b.getAnalyticsModule().processEvent(a,c)});this.addListener("timingEvent",function(b){if(!a.tools.isset(b.name))throw Error("(Kiosked) No timing event name specified");b.properties=b.properties||{};var c=a.messaging.getTimingController();a.tools.isset(c)&&
(a.tools.isset(b.time)?c.registerEvent(b.name,b.properties,b.time):c.registerEventNow(b.name,b.properties))})}return{construct:function(b){b=b||{};this._options=n.mergeDefaults({name:"GrandCentralStation"},b);this.$super();this._adCounts={};this._adMaximums={};this._numPlugins={};this._maxPlugins={};this._validInventory=this._validContainers=0;this._messageHandlers=["AppNexusMessageHandler","FallbackMessageHandler"];this._timingController=this._analyticsModule=null;n.scope.enforceCaller(this,a.GrandCentralStation,
"Caller not instance of ITGS.GrandCentralStation");a.tools.debug.log("/GrandCentralStation/","Kiosked library init - "+a.Config.VERSION);this._analyticsModule=new a.KioskedAnalytics;b=a.tools.environment.getDeviceType();a.tools.debug.log("/GrandCentralStation/","Recognised device: "+b);c.call(this)},destroy:function(){if("function"===typeof this._windowMessageListener)try{window.removeEventListener("message",this._windowMessageListener,!1)}catch(a){}this.$super()},libraryInit:function(){a.Config.SAMPLE_RATE_RANDOM_CURRENT=
Math.random();var b=n.overrideCall("GrandCentralStation.libraryInit");b&&b()},getAnalyticsModule:function(){return this._analyticsModule},getEventHash:function(){var b=n.environment.getPageUrl(),b=a.SnifferUtilities.processPageURL(b),c=a.tools.environment.getPublisherID();return a.tools.environment.generateEventHash(c,b)},getMaximumAdsForProvider:function(a){return this._adMaximums.hasOwnProperty(a)?this._adMaximums[a]:-1},getMaximumNumPluginsPerType:function(a){return this._maxPlugins.hasOwnProperty(a)?
parseInt(this._maxPlugins[a]):-1},getTimingController:function(){return this._timingController},getValidContainers:function(){return this._validContainers},getValidInventory:function(){return this._validInventory},isPluginLimitReached:function(a){var c=this.getMaximumNumPluginsPerType(a);if(0>c)return!1;if(0===c)return!0;if(this._numPlugins.hasOwnProperty(a))return this._numPlugins[a]<c?(this._numPlugins[a]+=1,!1):!0;this._numPlugins[a]=1;return!1},prepareTimingController:function(){var b=this;return a.Commitment.then(function(){var c=
this.resolve;a.tools.dom.onDOMReady(function(){null===b._timingController&&(b._timingController=new a.TimingReportController);c(b._timingController)})})},processMessage:function(b){for(var c=this._messageHandlers.length,e=0;e<c;e+=1){var f=a.MessageHandlers[this._messageHandlers[e]];if(f){if(f=new f,f.canHandleMessage(b)&&(f.handleMessage(b),f.captures()))break}else a.tools.debug.warn("/GrandCentralStation/","Failed finding class for message handler: "+this._messageHandlers[e])}}}}());a.messaging=
a.messaging||new a.GrandCentralStation;(function(){a.PlacementContainerLocator=a.PlacementContainerLocator||{getPlacementContainerByID:function(a){for(var b=0,d=p.length;b<d;b+=1)if(p[b].getPlacement().getOptions().kioskID===a)return p[b];return!1}}})();a.resources={};a.resources["helpers/iframe-padding.html"]="PHN0eWxlIHR5cGU9InRleHQvY3NzIj4KICAgIGJvZHkgewogICAgICAgIG1hcmdpbjogMDsKICAgIH0KPC9zdHlsZT4=";a.resources["networks/appnexus.html"]="PCEtLSBCRUdJTiBBUFBORVhVUyBUQUcgLSBbU0laRV0gW0RPTUFJTl0gPCAtIERPIE5PVCBNT0RJRlkgLS0+CjxTQ1JJUFQgU1JDPSJodHRwOi8vaWIuYWRueHMuY29tL3R0aj9pZD1bSURdJmNiPVtDQUNIRUJVU1RFUl0iIFRZUEU9InRleHQvamF2YXNjcmlwdCI+PC9TQ1JJUFQ+CjwhLS0gRU5EIFRBRyAtLT4=";
a.resources["networks/appnexus_secure.html"]="PCEtLSBCRUdJTiBTRUNVUkUgQVBQTkVYVVMgVEFHIC0gW1NJWkVdIFtET01BSU5dIDwgLSBETyBOT1QgTU9ESUZZIC0tPgo8U0NSSVBUIFNSQz0iaHR0cHM6Ly9zZWN1cmUuYWRueHMuY29tL3R0aj9pZD1bSURdJmNiPVtDQUNIRUJVU1RFUl0iIFRZUEU9InRleHQvamF2YXNjcmlwdCI+PC9TQ1JJUFQ+CjwhLS0gRU5EIFRBRyAtLT4=";a.resources["networks/criteo.html"]="PCEtLSBbRE9NQUlOXSAtIENyaXRlbyB0YWcgLSBbU0laRV0gLS0+CjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij4KICAgIGRvY3VtZW50Lk1BWF9jdDAgPScnOwogICAgdmFyIG0zX3UgPSAobG9jYXRpb24ucHJvdG9jb2w9PSdodHRwczonPydodHRwczovL2Nhcy5jcml0ZW8uY29tL2RlbGl2ZXJ5L2Fqcy5waHA/JzonaHR0cDovL2Nhcy5jcml0ZW8uY29tL2RlbGl2ZXJ5L2Fqcy5waHA/Jyk7CiAgICB2YXIgbTNfciA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSo5OTk5OTk5OTk5OSk7CiAgICBkb2N1bWVudC53cml0ZSAoIjxzY3IiKyJpcHQgdHlwZT0ndGV4dC9qYXZhc2NyaXB0JyBzcmM9JyIrbTNfdSk7CiAgICBkb2N1bWVudC53cml0ZSAoInpvbmVpZD1bSURdIik7ZG9jdW1lbnQud3JpdGUoIiZub2Rpcz0xIik7CiAgICBkb2N1bWVudC53cml0ZSAoJyZjYj0nICsgbTNfcik7CiAgICBpZiAoZG9jdW1lbnQuTUFYX3VzZWQgIT0gJywnKSBkb2N1bWVudC53cml0ZSAoIiZleGNsdWRlPSIgKyBkb2N1bWVudC5NQVhfdXNlZCk7CiAgICBkb2N1bWVudC53cml0ZSAoZG9jdW1lbnQuY2hhcnNldCA/ICcmY2hhcnNldD0nK2RvY3VtZW50LmNoYXJzZXQgOiAoZG9jdW1lbnQuY2hhcmFjdGVyU2V0ID8gJyZjaGFyc2V0PScrZG9jdW1lbnQuY2hhcmFjdGVyU2V0IDogJycpKTsKICAgIGRvY3VtZW50LndyaXRlICgiJmxvYz0iICsgZXNjYXBlKHdpbmRvdy5sb2NhdGlvbikpOwogICAgaWYgKGRvY3VtZW50LnJlZmVycmVyKSBkb2N1bWVudC53cml0ZSAoIiZyZWZlcmVyPSIgKyBlc2NhcGUoZG9jdW1lbnQucmVmZXJyZXIpKTsKICAgIGlmIChkb2N1bWVudC5jb250ZXh0KSBkb2N1bWVudC53cml0ZSAoIiZjb250ZXh0PSIgKyBlc2NhcGUoZG9jdW1lbnQuY29udGV4dCkpOwogICAgaWYgKCh0eXBlb2YoZG9jdW1lbnQuTUFYX2N0MCkgIT0gJ3VuZGVmaW5lZCcpICYmIChkb2N1bWVudC5NQVhfY3QwLnN1YnN0cmluZygwLDQpID09ICdodHRwJykpIHsKICAgICAgICBkb2N1bWVudC53cml0ZSAoIiZjdDA9IiArIGVzY2FwZShkb2N1bWVudC5NQVhfY3QwKSk7CiAgICB9CiAgICBpZiAoZG9jdW1lbnQubW1tX2ZvKSBkb2N1bWVudC53cml0ZSAoIiZtbW1fZm89MSIpOwogICAgZG9jdW1lbnQud3JpdGUgKCInPjwvc2NyIisiaXB0PiIpOwo8L3NjcmlwdD4KPCEtLSBFbmQgdGFnIC0tPg==";
a.resources["networks/dfp.html"]="PCEtLSBCRUdJTiBERlAgVEFHIC0gW1NJWkVdIFtET01BSU5dIDwgLSBETyBOT1QgTU9ESUZZIC0tPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgogICAgI2tpb3NrZWQtZGZwLVtLSU9TS19JRF0gewogICAgICAgIHdpZHRoOiBbV0lEVEhdcHg7CiAgICAgICAgaGVpZ2h0OiBbSEVJR0hUXXB4OwogICAgICAgIGJvdHRvbTogMHB4OwogICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIH0KICAgICNraW9za2VkLWRmcC1bS0lPU0tfSURdICpbaWRePSdnb29nbGVfYWRzX2lmcmFtZSddIHsKICAgICAgICB3aWR0aDogW1dJRFRIXXB4ICFpbXBvcnRhbnQ7CiAgICB9Cjwvc3R5bGU+CjxkaXYgaWQ9Imtpb3NrZWQtZGZwLVtLSU9TS19JRF0iPgogICAgPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPgogICAgICAgIHdpbmRvdy5JVEdTLmdwdEFkU2xvdHMgPSB3aW5kb3cuSVRHUy5ncHRBZFNsb3RzIHx8IFtdOwogICAgICAgIGdvb2dsZXRhZy5jbWQucHVzaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHdpbmRvdy5JVEdTLmdwdEFkU2xvdHNbW0RGUF9JTlNUQU5DRV9DT1VOVF1dID0gZ29vZ2xldGFnLmRlZmluZVNsb3QoCiAgICAgICAgICAgICAgICAiW0lEXSIsIFtbV0lEVEhdLCBbSEVJR0hUXV0sICJraW9za2VkLWRmcC1bS0lPU0tfSURdIgogICAgICAgICAgICApLmFkZFNlcnZpY2UoZ29vZ2xldGFnLnB1YmFkcygpKTsKICAgICAgICAgICAgZ29vZ2xldGFnLnB1YmFkcygpLnVwZGF0ZUNvcnJlbGF0b3IoKTsKICAgICAgICAgICAgZ29vZ2xldGFnLnB1YmFkcygpLmVuYWJsZVNpbmdsZVJlcXVlc3QoKTsKICAgICAgICAgICAgZ29vZ2xldGFnLmVuYWJsZVNlcnZpY2VzKCk7CiAgICAgICAgfSk7CiAgICAgICAgZ29vZ2xldGFnLmNtZC5wdXNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgZ29vZ2xldGFnLnB1YmFkcygpLnJlZnJlc2goW2dwdEFkU2xvdHNbW0RGUF9JTlNUQU5DRV9DT1VOVF1dXSk7CiAgICAgICAgfSk7CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgICAgZ29vZ2xldGFnLmNtZC5wdXNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIGdvb2dsZXRhZy5kaXNwbGF5KCJraW9za2VkLWRmcC1bS0lPU0tfSURdIik7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0sIDEpOwogICAgPC9zY3JpcHQ+CjwvZGl2Pgo8IS0tIEVORCBUQUcgLS0+";
a.resources["networks/districtm.html"]="PCEtLSBEaXN0cmljdCBNIFRhZyAtIFtTSVpFXSAtIEFURiAtIEVOIC0tPgo8ZGl2IGNsYXNzPSdkaXN0cmljdG0nPjxzY3JpcHQgdHlwZT0ndGV4dC9qYXZhc2NyaXB0Jz48IS0tCi8qIFtET01BSU5dIC0gUnVuT2ZTaXRlICovCmRtX2FkX3Nsb3QgPSBbSURdOwpkbV9hZF93aWR0aCA9IFtXSURUSF07CmRtX2FkX2hlaWdodCA9IFtIRUlHSFRdOwpkbV9sYW5ndWFnZSA9ICdFTic7Ci8vLS0+Cjwvc2NyaXB0PgogICAgPHNjcmlwdCB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnCiAgICAgICAgICAgIHNyYz0nLy9zdGF0aWMuZGlzdHJpY3RtLmNhLzE4L2RtX2FkdGFnW0FEVkVSVElTRVJfSURdLmpzJz4KICAgIDwvc2NyaXB0PjwvZGl2Pgo8IS0tIEVuZCBvZiBEaXN0cmljdCBNIFRhZyAtLT4=";
a.resources["networks/iow.html"]="PCEtLSBCZWdpbiBJT1cgdGFnIC0gW1NJWkVdIC0gW0RPTUFJTl0gLS0+CjxkaXYgc3R5bGU9IndpZHRoOiBbV0lEVEhdcHg7IGhlaWdodDogW0hFSUdIVF1weCIgaWQ9Imtza2RfaW93X1tLSU9TS19JRF0iPjwvZGl2Pgo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+CiAgICB2YXIgbWdyID0gSVRHUy5JT1dNYW5hZ2VyLmdldFNoYXJlZEluc3RhbmNlKCksCiAgICAgICAgcHJveHkgPSBtZ3IuZ2V0UHJveHkoKTsKICAgIHByb3h5LnJlcXVlc3RTbG90KCJbUExBQ0VNRU5UX1RZUEVdIiwgIltJRF0iKTsKICAgIHByb3h5LnJlbmRlclNsb3QoCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImtza2RfaW93X1tLSU9TS19JRF0iKSwKICAgICAgICAiW1BMQUNFTUVOVF9UWVBFXSIsCiAgICAgICAgIltJRF0iLAogICAgICAgICJbS0lPU0tfSURdIgogICAgKTsKPC9zY3JpcHQ+CjwhLS0gRW5kIElPVyB0YWcgLS0+";
a.resources["networks/openx.html"]="PCEtLS8qIE9wZW5YIEphdmFTY3JpcHQgdGFnICovLS0+CjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij4KICAgIGlmICghd2luZG93Lk9YX2FkcykgeyBPWF9hZHMgPSBbXTsgfQogICAgT1hfYWRzLnB1c2goeyAiYXVpZCIgOiAiW0lEXSIgfSk7Cjwvc2NyaXB0Pgo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+CiAgICBkb2N1bWVudC53cml0ZSgnPHNjcicrJ2lwdCBzcmM9Ii8vdXMtYWRzLm9wZW54Lm5ldC93LzEuMC9qc3RhZyI+PFwvc2NyJysnaXB0PicpOwo8L3NjcmlwdD4KPG5vc2NyaXB0PjxpZnJhbWUgaWQ9IjAwY2MzOGE3MTIiIG5hbWU9IjAwY2MzOGE3MTIiIHNyYz0iaHR0cDovL3VzLWFkcy5vcGVueC5uZXQvdy8xLjAvYWZyP2F1aWQ9W0lEXSZjYj1bQ0FDSEVCVVNURVJdIiBmcmFtZWJvcmRlcj0iMCIgc2Nyb2xsaW5nPSJubyIgd2lkdGg9IltXSURUSF0iIGhlaWdodD0iW0hFSUdIVF0iPjxhIGhyZWY9Imh0dHA6Ly91cy1hZHMub3BlbngubmV0L3cvMS4wL3JjP2NzPTAwY2MzOGE3MTImY2I9W0NBQ0hFQlVTVEVSXSIgPjxpbWcgc3JjPSJodHRwOi8vdXMtYWRzLm9wZW54Lm5ldC93LzEuMC9haT9hdWlkPVtJRF0mY3M9MDBjYzM4YTcxMiZjYj1bQ0FDSEVCVVNURVJdIiBib3JkZXI9IjAiIGFsdD0iIj48L2E+PC9pZnJhbWU+PC9ub3NjcmlwdD4K";
a.resources["networks/technorati.html"]="PCEtLSBCRUdJTiBURUNITk9SQVRJIE1FRElBIFRBRyBGT1IgW0RPTUFJTl1fW1NJWkVdLCBBZCBTaXplOiBbU0laRV0gLS0+CjxzY3JpcHQgdHlwZT0ndGV4dC9qYXZhc2NyaXB0Jz4KICAgIGRvY3VtZW50LndyaXRlKCc8c2NyaScgKyAncHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBzcmM9IicKICAgICsgKGRvY3VtZW50LmxvY2F0aW9uLnByb3RvY29sID09ICdodHRwczonID8gJ2h0dHBzOi8vdWF0LXNlY3VyZS50ZWNobm9yYXRpbWVkaWEuY29tJyA6ICdodHRwOi8vYWQtY2RuLnRlY2hub3JhdGltZWRpYS5jb20nKQogICAgKyAnLzAwLzIxLzI0L3VhdF80MjQyMS5qcz9hZF9zaXplPVtTSVpFXSI+PC9zY3JpJyArICdwdD4nKTsKPC9zY3JpcHQ+CjwhLS0gRU5EIFRFQ0hOT1JBVEkgTUVESUEgVEFHIEZPUiBbRE9NQUlOXV9bU0laRV0sIEFkIFNpemU6IFtTSVpFXSAtLT4=";
a.resources["networks/test.html"]="PCEtLSBLaW9za2VkOiBCRUdJTiBTYW1wbGUgYmFubmVyIC0tPgo8ZGl2IGlkPSJrc2tkVGVzdERpdl9bS0lPU0tfSURdIj48L2Rpdj4KPHNjcmlwdCB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnPgogICAgdmFyIGRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJrc2tkVGVzdERpdl9bS0lPU0tfSURdIik7CiAgICBkaXYuc3R5bGUud2lkdGggPSAiMTAwMHB4IjsKICAgIGRpdi5zdHlsZS5oZWlnaHQgPSAiMTAwMHB4IjsKICAgIGRpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiYmx1ZSI7CiAgICBpZiAoIltJRF0iID09ICJmYWxsYmFjazpjbG9zZSIpIHsKCiAgICAgICAgKGZ1bmN0aW9uKCkgewoKICAgICAgICAgICAgLy8gS2lvc2tlZCBGYWxsYmFjayA6OiAoQykgQ29weXJpZ2h0IEtpb3NrZWQgTHRkLgogICAgICAgICAgICB2YXIgY3VycmVudFRhcmdldFdpbmRvdyA9IHdpbmRvdywKICAgICAgICAgICAgICAgICAgICB3aW5kb3dTb3VyY2VzID0gW10sCiAgICAgICAgICAgICAgICAgICAgaWZyYW1lS3NrZElEID0gIiI7CgogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgaWZyYW1lS3NrZElEID0gd2luZG93LmZyYW1lRWxlbWVudC5nZXRBdHRyaWJ1dGUoImRhdGEta2lvc2tpZCIpOwogICAgICAgICAgICB9IGNhdGNoIChlKSB7fQoKICAgICAgICAgICAgZG8gewogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICB2YXIgY29udGVudFVSTCA9IGN1cnJlbnRUYXJnZXRXaW5kb3cubG9jYXRpb24uaHJlZjsKICAgICAgICAgICAgICAgICAgICBpZiAoY29udGVudFVSTC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvd1NvdXJjZXMucHVzaChjb250ZW50VVJMKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7fQogICAgICAgICAgICAgICAgY3VycmVudFRhcmdldFdpbmRvdyA9IGN1cnJlbnRUYXJnZXRXaW5kb3cucGFyZW50OwogICAgICAgICAgICAgICAgdmFyIHBhY2tldCA9IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAiZmFsbGJhY2tfaW5pdGlhdGVkIiwKICAgICAgICAgICAgICAgICAgICB3aW5kb3dfY2hhaW46IHdpbmRvd1NvdXJjZXMsCiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVySUQ6IGlmcmFtZUtza2RJRAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgY3VycmVudFRhcmdldFdpbmRvdy5wb3N0TWVzc2FnZSgia2lvc2tlZF93aW5kb3dfbWVzc2FnZToiICsgSlNPTi5zdHJpbmdpZnkocGFja2V0KSwgJyonKTsKICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGFyZ2V0V2luZG93LnBvc3RNZXNzYWdlKCJrc2tkX3dpbmRvd19tZXNzYWdlOiIgKyBKU09OLnN0cmluZ2lmeShwYWNrZXQpLCAnKicpOwogICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge30KICAgICAgICAgICAgfSB3aGlsZSAoY3VycmVudFRhcmdldFdpbmRvdyAhPT0gd2luZG93LnRvcCk7CgogICAgICAgIH0pKCk7CgogICAgfQo8L3NjcmlwdD4KPCEtLSBLaW9za2VkOiBFTkQgU2FtcGxlIGJhbm5lciAtLT4=";
a.resources["networks/thirdpresence.html"]="PCEtLSBCRUdJTiBUSElSRFBSRVNFTkNFIC0gW0tJT1NLX0lEXSBbSURdIFtXSURUSF0gW0hFSUdIVF0gPCAtIERPIE5PVCBNT0RJRlkgLS0+Cgo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+CiAgICBmdW5jdGlvbiB2aWRlb0V2ZW50SGFuZGxlcihldmVudCkgewogICAgICAgIElUR1MubWVzc2FnaW5nLmRpc3BhdGNoKCJUUFZpZGVvRXZlbnQiICwKICAgICAgICAgICAgICAgIHsgem9uZUlkOiAiW0tJT1NLX0lEXSIsCiAgICAgICAgICAgICAgICAgICAgdGFnSWQ6IHRoaXMudGFnSWQsCiAgICAgICAgICAgICAgICAgICAgZXZlbnRUeXBlOiBldmVudC50b1VwcGVyQ2FzZSgpCiAgICAgICAgICAgICAgICB9KTsKICAgIH07CiAgICB2YXIgVFBSX2N1c3RvbWl6YXRpb24gPSB7CiAgICAgICAgICAgIGFkaWQ6ICJbSURdIiAsCiAgICAgICAgICAgIHVzZWNzc3BsYXllcjp0cnVlLAogICAgICAgICAgICBzdGFydG11dGVkOnRydWUsCiAgICAgICAgICAgIHNob3dtdXRlOnRydWUsCiAgICAgICAgICAgIGF1dG9wbGF5d2hlbnBvc3NpYmxlOnRydWUsCiAgICAgICAgICAgIGF1dG9yZXBsYXk6ZmFsc2UsCiAgICAgICAgICAgIHdhdGVyZmFsbHBsYXl0aHJvdWdoOmZhbHNlLAogICAgICAgICAgICBzaG93Y2xpY2t0ZXh0OmZhbHNlLAogICAgICAgICAgICBzdGFydGNsb3NlaGlkZGVuOmZhbHNlLAogICAgICAgICAgICBhZHBsYWNlbWVudDoiYmFubmVyIiwKICAgICAgICAgICAgcGxhY2VtZW50d2lkdGg6IltXSURUSF0iLAogICAgICAgICAgICBwbGFjZW1lbnRoZWlnaHQ6IltIRUlHSFRdIiwKICAgICAgICAgICAgZXZlbnRoYW5kbGVyOnZpZGVvRXZlbnRIYW5kbGVyCiAgICB9Owo8L3NjcmlwdD4KPHNjcmlwdCBpZD0idHByQWRUYWciIHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSIvL2tpb3NrZWQudGhpcmRwcmVzZW5jZS5jb20vZGxzL3QvdHByanMuYWR0YWcubG9hZGVyLnYyLmpzcCI+PC9zY3JpcHQ+CjwhLS0gRU5EIFRBRyAtLT4=";
a.mediaJsLoading="done"})()};ITGS.Bootstrap._bakedVersion=816;var m=null,p=ITGS.Bootstrap._completedBakeProcess=!1;ITGS.Bootstrap.setBakeCompletedCallback=function(k){ITGS.Bootstrap._completedBakeProcess?k(p):m=k};ITGS.Bootstrap.processBake=function(){ITGS.Bootstrap.loadHandler.getCachedBakeVersion(function(k){0!==ITGS.Bootstrap._bakedVersion&&!1!==k&&parseInt(k,10)===ITGS.Bootstrap._bakedVersion?(setTimeout(ITGS.Bootstrap._bakedLibrary,1),p=!0,console.log("(Kiosked) Baked script is good, loading from baked script: ",
k,ITGS.Bootstrap._bakedVersion,"(stored, baked)")):(p=!1,console.log("(Kiosked) Baked script is out of date, load from remote: ",k,ITGS.Bootstrap._bakedVersion,"(stored, baked)"));ITGS.Bootstrap._completedBakeProcess=!0;"function"===typeof m&&m(p)});delete ITGS.Bootstrap.processBake}})();ITGS.Bootstrap.ScriptLocator=ITGS.Bootstrap.ScriptLocator||ITGS.Bootstrap.LoaderObject.extend(function(){function m(a,k,m){ITGS.Bootstrap.tools.enforceCaller(this,ITGS.Bootstrap.ScriptLocator,"Expected caller to be instance of ScriptLocator");
if(!this._scriptCache.hasOwnProperty(a))throw Error("/ScriptLocator/ Unrecognised cache class: "+a);this._scriptCache[a][k]=m}function p(a,k){ITGS.Bootstrap.tools.enforceCaller(this,ITGS.Bootstrap.ScriptLocator,"Expected caller to be instance of ScriptLocator");return this._scriptCache.hasOwnProperty(a)&&this._scriptCache[a][k]?this._scriptCache[a][k]:!1}function k(){ITGS.Bootstrap.tools.enforceCaller(this,ITGS.Bootstrap.ScriptLocator,"Expected caller to be instance of ScriptLocator");this._scriptCache=
{withAttributes:{},withURLRegex:{}}}return{construct:function(){this.$super();k.call(this);this._orderPreference="first"},destroy:function(){this.clearCache();this.$super()},clearCache:function(){k.call(this)},getOrderPreference:function(){return this._orderPreference},locateScriptWithAttributes:function(a){a=a||{};var k="attrs-",n;for(n in a)a.hasOwnProperty(n)&&(k+=""+n+":"+a[n]+";");n=p.call(this,"withAttributes",k);if(!1!==n)return new ITGS.Bootstrap.Script(n,{fromCache:!0});a=ITGS.Bootstrap.tools.dom.getElementsWithAttributes("script",
a);n=a.length;return 0<n?(a="first"===this.getOrderPreference()?a[0]:a[n-1],m.call(this,"withAttributes",k,a),new ITGS.Bootstrap.Script(a)):!1},locateScriptWithURLMatch:function(a){var k=p.call(this,"withURLRegex",a.toString());if(!1!==k)return new ITGS.Bootstrap.Script(k,{fromCache:!0});var k=ITGS.Bootstrap.tools.dom.getElementsWithAttributes("script",{src:""}),n=k.length,w=!1;if(0<n)if("first"===this.getOrderPreference())for(var c=0;c<n;c+=1){if(a.test(k[c].getAttribute("src"))){w=k[c];break}}else for(n-=
1;0<=n;n-=1)if(a.test(k[n].getAttribute("src"))){w=k[n];break}return w?(m.call(this,"withURLRegex",a.toString(),w),new ITGS.Bootstrap.Script(w)):!1},setPrefersFirst:function(a){this._orderPreference=!0===a?"first":"last"}}}());(function(){ITGS.tools.debug.log("/Manifest/","Kiosked loader initialising");var m=new ITGS.Bootstrap.ScriptLocator;m.setPrefersFirst(!1);var p=m.locateScriptWithURLMatch(/\/\/(.*?)kiosked(.*?)loader(.*?)site=[0-9]{1,}/i),k=!1;!1===p&&(p=m.locateScriptWithURLMatch(/(intags\.com|kiosked\.com)(\/sniffer\/get-script\/|\/widget\/sniff\/sign\/)(.*?)albumid\/[0-9]{1,}/i),
k=!0);!0!==p instanceof ITGS.Bootstrap.Script||!1===p?ITGS.tools.debug.error("/Manifest/","Unable to locate loader script - aborting run"):(ITGS.loadedScript=p.getSource(),m=k?ITGS.Bootstrap.tools.encoding.getOldFormatURLDetails(p.getSource()):p.getQueryParameters(),m.hasOwnProperty("pub")?m.hasOwnProperty("site")?(m.env=m.hasOwnProperty("env")&&0<m.env.length?m.env.toLowerCase():"production",m.ref=ITGS.Bootstrap.tools.dom.getPageUrl(),p="widgets.kiosked.com","staging"===m.env?p="widgets-staging.intags.com":
"development"===m.env&&(p="widgets.kiosked"),m="//"+p+"/ssp/placement-identifier/?"+ITGS.tools.encoding.formURLStringFromParameters(m,["ENCODE_VALUE"]),p=document.createElement("script"),p.type="text/javascript",p.src=m,document.head.appendChild(p),D.debug.log("/Manifest/","Loader completed run, with version: 1.2.19")):ITGS.tools.debug.error("/Manifest/","No album ID provided"):ITGS.tools.debug.error("/Manifest/","No publisher ID provided"))})();ITGS.resources={};ITGS.resources["helpers/iframe-padding.html"]=
"PHN0eWxlIHR5cGU9InRleHQvY3NzIj4KICAgIGJvZHkgewogICAgICAgIG1hcmdpbjogMDsKICAgIH0KPC9zdHlsZT4=";ITGS.resources["networks/appnexus.html"]="PCEtLSBCRUdJTiBBUFBORVhVUyBUQUcgLSBbU0laRV0gW0RPTUFJTl0gPCAtIERPIE5PVCBNT0RJRlkgLS0+CjxTQ1JJUFQgU1JDPSJodHRwOi8vaWIuYWRueHMuY29tL3R0aj9pZD1bSURdJmNiPVtDQUNIRUJVU1RFUl0iIFRZUEU9InRleHQvamF2YXNjcmlwdCI+PC9TQ1JJUFQ+CjwhLS0gRU5EIFRBRyAtLT4=";ITGS.resources["networks/appnexus_secure.html"]="PCEtLSBCRUdJTiBTRUNVUkUgQVBQTkVYVVMgVEFHIC0gW1NJWkVdIFtET01BSU5dIDwgLSBETyBOT1QgTU9ESUZZIC0tPgo8U0NSSVBUIFNSQz0iaHR0cHM6Ly9zZWN1cmUuYWRueHMuY29tL3R0aj9pZD1bSURdJmNiPVtDQUNIRUJVU1RFUl0iIFRZUEU9InRleHQvamF2YXNjcmlwdCI+PC9TQ1JJUFQ+CjwhLS0gRU5EIFRBRyAtLT4=";
ITGS.resources["networks/criteo.html"]="PCEtLSBbRE9NQUlOXSAtIENyaXRlbyB0YWcgLSBbU0laRV0gLS0+CjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij4KICAgIGRvY3VtZW50Lk1BWF9jdDAgPScnOwogICAgdmFyIG0zX3UgPSAobG9jYXRpb24ucHJvdG9jb2w9PSdodHRwczonPydodHRwczovL2Nhcy5jcml0ZW8uY29tL2RlbGl2ZXJ5L2Fqcy5waHA/JzonaHR0cDovL2Nhcy5jcml0ZW8uY29tL2RlbGl2ZXJ5L2Fqcy5waHA/Jyk7CiAgICB2YXIgbTNfciA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSo5OTk5OTk5OTk5OSk7CiAgICBkb2N1bWVudC53cml0ZSAoIjxzY3IiKyJpcHQgdHlwZT0ndGV4dC9qYXZhc2NyaXB0JyBzcmM9JyIrbTNfdSk7CiAgICBkb2N1bWVudC53cml0ZSAoInpvbmVpZD1bSURdIik7ZG9jdW1lbnQud3JpdGUoIiZub2Rpcz0xIik7CiAgICBkb2N1bWVudC53cml0ZSAoJyZjYj0nICsgbTNfcik7CiAgICBpZiAoZG9jdW1lbnQuTUFYX3VzZWQgIT0gJywnKSBkb2N1bWVudC53cml0ZSAoIiZleGNsdWRlPSIgKyBkb2N1bWVudC5NQVhfdXNlZCk7CiAgICBkb2N1bWVudC53cml0ZSAoZG9jdW1lbnQuY2hhcnNldCA/ICcmY2hhcnNldD0nK2RvY3VtZW50LmNoYXJzZXQgOiAoZG9jdW1lbnQuY2hhcmFjdGVyU2V0ID8gJyZjaGFyc2V0PScrZG9jdW1lbnQuY2hhcmFjdGVyU2V0IDogJycpKTsKICAgIGRvY3VtZW50LndyaXRlICgiJmxvYz0iICsgZXNjYXBlKHdpbmRvdy5sb2NhdGlvbikpOwogICAgaWYgKGRvY3VtZW50LnJlZmVycmVyKSBkb2N1bWVudC53cml0ZSAoIiZyZWZlcmVyPSIgKyBlc2NhcGUoZG9jdW1lbnQucmVmZXJyZXIpKTsKICAgIGlmIChkb2N1bWVudC5jb250ZXh0KSBkb2N1bWVudC53cml0ZSAoIiZjb250ZXh0PSIgKyBlc2NhcGUoZG9jdW1lbnQuY29udGV4dCkpOwogICAgaWYgKCh0eXBlb2YoZG9jdW1lbnQuTUFYX2N0MCkgIT0gJ3VuZGVmaW5lZCcpICYmIChkb2N1bWVudC5NQVhfY3QwLnN1YnN0cmluZygwLDQpID09ICdodHRwJykpIHsKICAgICAgICBkb2N1bWVudC53cml0ZSAoIiZjdDA9IiArIGVzY2FwZShkb2N1bWVudC5NQVhfY3QwKSk7CiAgICB9CiAgICBpZiAoZG9jdW1lbnQubW1tX2ZvKSBkb2N1bWVudC53cml0ZSAoIiZtbW1fZm89MSIpOwogICAgZG9jdW1lbnQud3JpdGUgKCInPjwvc2NyIisiaXB0PiIpOwo8L3NjcmlwdD4KPCEtLSBFbmQgdGFnIC0tPg==";
ITGS.resources["networks/dfp.html"]="PCEtLSBCRUdJTiBERlAgVEFHIC0gW1NJWkVdIFtET01BSU5dIDwgLSBETyBOT1QgTU9ESUZZIC0tPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgogICAgI2tpb3NrZWQtZGZwLVtLSU9TS19JRF0gewogICAgICAgIHdpZHRoOiBbV0lEVEhdcHg7CiAgICAgICAgaGVpZ2h0OiBbSEVJR0hUXXB4OwogICAgICAgIGJvdHRvbTogMHB4OwogICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIH0KICAgICNraW9za2VkLWRmcC1bS0lPU0tfSURdICpbaWRePSdnb29nbGVfYWRzX2lmcmFtZSddIHsKICAgICAgICB3aWR0aDogW1dJRFRIXXB4ICFpbXBvcnRhbnQ7CiAgICB9Cjwvc3R5bGU+CjxkaXYgaWQ9Imtpb3NrZWQtZGZwLVtLSU9TS19JRF0iPgogICAgPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPgogICAgICAgIHdpbmRvdy5JVEdTLmdwdEFkU2xvdHMgPSB3aW5kb3cuSVRHUy5ncHRBZFNsb3RzIHx8IFtdOwogICAgICAgIGdvb2dsZXRhZy5jbWQucHVzaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHdpbmRvdy5JVEdTLmdwdEFkU2xvdHNbW0RGUF9JTlNUQU5DRV9DT1VOVF1dID0gZ29vZ2xldGFnLmRlZmluZVNsb3QoCiAgICAgICAgICAgICAgICAiW0lEXSIsIFtbV0lEVEhdLCBbSEVJR0hUXV0sICJraW9za2VkLWRmcC1bS0lPU0tfSURdIgogICAgICAgICAgICApLmFkZFNlcnZpY2UoZ29vZ2xldGFnLnB1YmFkcygpKTsKICAgICAgICAgICAgZ29vZ2xldGFnLnB1YmFkcygpLnVwZGF0ZUNvcnJlbGF0b3IoKTsKICAgICAgICAgICAgZ29vZ2xldGFnLnB1YmFkcygpLmVuYWJsZVNpbmdsZVJlcXVlc3QoKTsKICAgICAgICAgICAgZ29vZ2xldGFnLmVuYWJsZVNlcnZpY2VzKCk7CiAgICAgICAgfSk7CiAgICAgICAgZ29vZ2xldGFnLmNtZC5wdXNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgZ29vZ2xldGFnLnB1YmFkcygpLnJlZnJlc2goW2dwdEFkU2xvdHNbW0RGUF9JTlNUQU5DRV9DT1VOVF1dXSk7CiAgICAgICAgfSk7CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgICAgZ29vZ2xldGFnLmNtZC5wdXNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIGdvb2dsZXRhZy5kaXNwbGF5KCJraW9za2VkLWRmcC1bS0lPU0tfSURdIik7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0sIDEpOwogICAgPC9zY3JpcHQ+CjwvZGl2Pgo8IS0tIEVORCBUQUcgLS0+";
ITGS.resources["networks/districtm.html"]="PCEtLSBEaXN0cmljdCBNIFRhZyAtIFtTSVpFXSAtIEFURiAtIEVOIC0tPgo8ZGl2IGNsYXNzPSdkaXN0cmljdG0nPjxzY3JpcHQgdHlwZT0ndGV4dC9qYXZhc2NyaXB0Jz48IS0tCi8qIFtET01BSU5dIC0gUnVuT2ZTaXRlICovCmRtX2FkX3Nsb3QgPSBbSURdOwpkbV9hZF93aWR0aCA9IFtXSURUSF07CmRtX2FkX2hlaWdodCA9IFtIRUlHSFRdOwpkbV9sYW5ndWFnZSA9ICdFTic7Ci8vLS0+Cjwvc2NyaXB0PgogICAgPHNjcmlwdCB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnCiAgICAgICAgICAgIHNyYz0nLy9zdGF0aWMuZGlzdHJpY3RtLmNhLzE4L2RtX2FkdGFnW0FEVkVSVElTRVJfSURdLmpzJz4KICAgIDwvc2NyaXB0PjwvZGl2Pgo8IS0tIEVuZCBvZiBEaXN0cmljdCBNIFRhZyAtLT4=";
ITGS.resources["networks/iow.html"]="PCEtLSBCZWdpbiBJT1cgdGFnIC0gW1NJWkVdIC0gW0RPTUFJTl0gLS0+CjxkaXYgc3R5bGU9IndpZHRoOiBbV0lEVEhdcHg7IGhlaWdodDogW0hFSUdIVF1weCIgaWQ9Imtza2RfaW93X1tLSU9TS19JRF0iPjwvZGl2Pgo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+CiAgICB2YXIgbWdyID0gSVRHUy5JT1dNYW5hZ2VyLmdldFNoYXJlZEluc3RhbmNlKCksCiAgICAgICAgcHJveHkgPSBtZ3IuZ2V0UHJveHkoKTsKICAgIHByb3h5LnJlcXVlc3RTbG90KCJbUExBQ0VNRU5UX1RZUEVdIiwgIltJRF0iKTsKICAgIHByb3h5LnJlbmRlclNsb3QoCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImtza2RfaW93X1tLSU9TS19JRF0iKSwKICAgICAgICAiW1BMQUNFTUVOVF9UWVBFXSIsCiAgICAgICAgIltJRF0iLAogICAgICAgICJbS0lPU0tfSURdIgogICAgKTsKPC9zY3JpcHQ+CjwhLS0gRW5kIElPVyB0YWcgLS0+";
ITGS.resources["networks/openx.html"]="PCEtLS8qIE9wZW5YIEphdmFTY3JpcHQgdGFnICovLS0+CjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij4KICAgIGlmICghd2luZG93Lk9YX2FkcykgeyBPWF9hZHMgPSBbXTsgfQogICAgT1hfYWRzLnB1c2goeyAiYXVpZCIgOiAiW0lEXSIgfSk7Cjwvc2NyaXB0Pgo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+CiAgICBkb2N1bWVudC53cml0ZSgnPHNjcicrJ2lwdCBzcmM9Ii8vdXMtYWRzLm9wZW54Lm5ldC93LzEuMC9qc3RhZyI+PFwvc2NyJysnaXB0PicpOwo8L3NjcmlwdD4KPG5vc2NyaXB0PjxpZnJhbWUgaWQ9IjAwY2MzOGE3MTIiIG5hbWU9IjAwY2MzOGE3MTIiIHNyYz0iaHR0cDovL3VzLWFkcy5vcGVueC5uZXQvdy8xLjAvYWZyP2F1aWQ9W0lEXSZjYj1bQ0FDSEVCVVNURVJdIiBmcmFtZWJvcmRlcj0iMCIgc2Nyb2xsaW5nPSJubyIgd2lkdGg9IltXSURUSF0iIGhlaWdodD0iW0hFSUdIVF0iPjxhIGhyZWY9Imh0dHA6Ly91cy1hZHMub3BlbngubmV0L3cvMS4wL3JjP2NzPTAwY2MzOGE3MTImY2I9W0NBQ0hFQlVTVEVSXSIgPjxpbWcgc3JjPSJodHRwOi8vdXMtYWRzLm9wZW54Lm5ldC93LzEuMC9haT9hdWlkPVtJRF0mY3M9MDBjYzM4YTcxMiZjYj1bQ0FDSEVCVVNURVJdIiBib3JkZXI9IjAiIGFsdD0iIj48L2E+PC9pZnJhbWU+PC9ub3NjcmlwdD4K";
ITGS.resources["networks/technorati.html"]="PCEtLSBCRUdJTiBURUNITk9SQVRJIE1FRElBIFRBRyBGT1IgW0RPTUFJTl1fW1NJWkVdLCBBZCBTaXplOiBbU0laRV0gLS0+CjxzY3JpcHQgdHlwZT0ndGV4dC9qYXZhc2NyaXB0Jz4KICAgIGRvY3VtZW50LndyaXRlKCc8c2NyaScgKyAncHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBzcmM9IicKICAgICsgKGRvY3VtZW50LmxvY2F0aW9uLnByb3RvY29sID09ICdodHRwczonID8gJ2h0dHBzOi8vdWF0LXNlY3VyZS50ZWNobm9yYXRpbWVkaWEuY29tJyA6ICdodHRwOi8vYWQtY2RuLnRlY2hub3JhdGltZWRpYS5jb20nKQogICAgKyAnLzAwLzIxLzI0L3VhdF80MjQyMS5qcz9hZF9zaXplPVtTSVpFXSI+PC9zY3JpJyArICdwdD4nKTsKPC9zY3JpcHQ+CjwhLS0gRU5EIFRFQ0hOT1JBVEkgTUVESUEgVEFHIEZPUiBbRE9NQUlOXV9bU0laRV0sIEFkIFNpemU6IFtTSVpFXSAtLT4=";
ITGS.resources["networks/test.html"]="PCEtLSBLaW9za2VkOiBCRUdJTiBTYW1wbGUgYmFubmVyIC0tPgo8ZGl2IGlkPSJrc2tkVGVzdERpdl9bS0lPU0tfSURdIj48L2Rpdj4KPHNjcmlwdCB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnPgogICAgdmFyIGRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJrc2tkVGVzdERpdl9bS0lPU0tfSURdIik7CiAgICBkaXYuc3R5bGUud2lkdGggPSAiMTAwMHB4IjsKICAgIGRpdi5zdHlsZS5oZWlnaHQgPSAiMTAwMHB4IjsKICAgIGRpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiYmx1ZSI7CiAgICBpZiAoIltJRF0iID09ICJmYWxsYmFjazpjbG9zZSIpIHsKCiAgICAgICAgKGZ1bmN0aW9uKCkgewoKICAgICAgICAgICAgLy8gS2lvc2tlZCBGYWxsYmFjayA6OiAoQykgQ29weXJpZ2h0IEtpb3NrZWQgTHRkLgogICAgICAgICAgICB2YXIgY3VycmVudFRhcmdldFdpbmRvdyA9IHdpbmRvdywKICAgICAgICAgICAgICAgICAgICB3aW5kb3dTb3VyY2VzID0gW10sCiAgICAgICAgICAgICAgICAgICAgaWZyYW1lS3NrZElEID0gIiI7CgogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgaWZyYW1lS3NrZElEID0gd2luZG93LmZyYW1lRWxlbWVudC5nZXRBdHRyaWJ1dGUoImRhdGEta2lvc2tpZCIpOwogICAgICAgICAgICB9IGNhdGNoIChlKSB7fQoKICAgICAgICAgICAgZG8gewogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICB2YXIgY29udGVudFVSTCA9IGN1cnJlbnRUYXJnZXRXaW5kb3cubG9jYXRpb24uaHJlZjsKICAgICAgICAgICAgICAgICAgICBpZiAoY29udGVudFVSTC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvd1NvdXJjZXMucHVzaChjb250ZW50VVJMKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7fQogICAgICAgICAgICAgICAgY3VycmVudFRhcmdldFdpbmRvdyA9IGN1cnJlbnRUYXJnZXRXaW5kb3cucGFyZW50OwogICAgICAgICAgICAgICAgdmFyIHBhY2tldCA9IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAiZmFsbGJhY2tfaW5pdGlhdGVkIiwKICAgICAgICAgICAgICAgICAgICB3aW5kb3dfY2hhaW46IHdpbmRvd1NvdXJjZXMsCiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVySUQ6IGlmcmFtZUtza2RJRAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgY3VycmVudFRhcmdldFdpbmRvdy5wb3N0TWVzc2FnZSgia2lvc2tlZF93aW5kb3dfbWVzc2FnZToiICsgSlNPTi5zdHJpbmdpZnkocGFja2V0KSwgJyonKTsKICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGFyZ2V0V2luZG93LnBvc3RNZXNzYWdlKCJrc2tkX3dpbmRvd19tZXNzYWdlOiIgKyBKU09OLnN0cmluZ2lmeShwYWNrZXQpLCAnKicpOwogICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge30KICAgICAgICAgICAgfSB3aGlsZSAoY3VycmVudFRhcmdldFdpbmRvdyAhPT0gd2luZG93LnRvcCk7CgogICAgICAgIH0pKCk7CgogICAgfQo8L3NjcmlwdD4KPCEtLSBLaW9za2VkOiBFTkQgU2FtcGxlIGJhbm5lciAtLT4=";
ITGS.resources["networks/thirdpresence.html"]="PCEtLSBCRUdJTiBUSElSRFBSRVNFTkNFIC0gW0tJT1NLX0lEXSBbSURdIFtXSURUSF0gW0hFSUdIVF0gPCAtIERPIE5PVCBNT0RJRlkgLS0+Cgo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+CiAgICBmdW5jdGlvbiB2aWRlb0V2ZW50SGFuZGxlcihldmVudCkgewogICAgICAgIElUR1MubWVzc2FnaW5nLmRpc3BhdGNoKCJUUFZpZGVvRXZlbnQiICwKICAgICAgICAgICAgICAgIHsgem9uZUlkOiAiW0tJT1NLX0lEXSIsCiAgICAgICAgICAgICAgICAgICAgdGFnSWQ6IHRoaXMudGFnSWQsCiAgICAgICAgICAgICAgICAgICAgZXZlbnRUeXBlOiBldmVudC50b1VwcGVyQ2FzZSgpCiAgICAgICAgICAgICAgICB9KTsKICAgIH07CiAgICB2YXIgVFBSX2N1c3RvbWl6YXRpb24gPSB7CiAgICAgICAgICAgIGFkaWQ6ICJbSURdIiAsCiAgICAgICAgICAgIHVzZWNzc3BsYXllcjp0cnVlLAogICAgICAgICAgICBzdGFydG11dGVkOnRydWUsCiAgICAgICAgICAgIHNob3dtdXRlOnRydWUsCiAgICAgICAgICAgIGF1dG9wbGF5d2hlbnBvc3NpYmxlOnRydWUsCiAgICAgICAgICAgIGF1dG9yZXBsYXk6ZmFsc2UsCiAgICAgICAgICAgIHdhdGVyZmFsbHBsYXl0aHJvdWdoOmZhbHNlLAogICAgICAgICAgICBzaG93Y2xpY2t0ZXh0OmZhbHNlLAogICAgICAgICAgICBzdGFydGNsb3NlaGlkZGVuOmZhbHNlLAogICAgICAgICAgICBhZHBsYWNlbWVudDoiYmFubmVyIiwKICAgICAgICAgICAgcGxhY2VtZW50d2lkdGg6IltXSURUSF0iLAogICAgICAgICAgICBwbGFjZW1lbnRoZWlnaHQ6IltIRUlHSFRdIiwKICAgICAgICAgICAgZXZlbnRoYW5kbGVyOnZpZGVvRXZlbnRIYW5kbGVyCiAgICB9Owo8L3NjcmlwdD4KPHNjcmlwdCBpZD0idHByQWRUYWciIHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSIvL2tpb3NrZWQudGhpcmRwcmVzZW5jZS5jb20vZGxzL3QvdHByanMuYWR0YWcubG9hZGVyLnYyLmpzcCI+PC9zY3JpcHQ+CjwhLS0gRU5EIFRBRyAtLT4="})();
